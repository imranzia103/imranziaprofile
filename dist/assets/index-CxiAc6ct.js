var Zb=Object.defineProperty;var Kb=(i,n,s)=>n in i?Zb(i,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[n]=s;var L=(i,n,s)=>Kb(i,typeof n!="symbol"?n+"":n,s);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function u(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function kb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Bf={exports:{}},tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function Fb(){if(Jm)return tu;Jm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(u,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:i,type:u,key:d,ref:o!==void 0?o:null,props:c}}return tu.Fragment=n,tu.jsx=s,tu.jsxs=s,tu}var Pm;function Jb(){return Pm||(Pm=1,Bf.exports=Fb()),Bf.exports}var Ne=Jb(),Cf={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function Pb(){if(Im)return Ee;Im=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),T=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,U={};function x(M,F,ee){this.props=M,this.context=F,this.refs=U,this.updater=ee||D}x.prototype.isReactComponent={},x.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},x.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function S(){}S.prototype=x.prototype;function H(M,F,ee){this.props=M,this.context=F,this.refs=U,this.updater=ee||D}var X=H.prototype=new S;X.constructor=H,E(X,x.prototype),X.isPureReactComponent=!0;var ae=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function B(M,F,ee,le,ce,Te){return ee=Te.ref,{$$typeof:i,type:M,key:F,ref:ee!==void 0?ee:null,props:Te}}function N(M,F){return B(M.type,F,void 0,void 0,void 0,M.props)}function K(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function ne(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ee){return F[ee]})}var ie=/\/+/g;function se(M,F){return typeof M=="object"&&M!==null&&M.key!=null?ne(""+M.key):F.toString(36)}function ge(){}function ve(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ge,ge):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function me(M,F,ee,le,ce){var Te=typeof M;(Te==="undefined"||Te==="boolean")&&(M=null);var Ae=!1;if(M===null)Ae=!0;else switch(Te){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(M.$$typeof){case i:case n:Ae=!0;break;case A:return Ae=M._init,me(Ae(M._payload),F,ee,le,ce)}}if(Ae)return ce=ce(M),Ae=le===""?"."+se(M,0):le,ae(ce)?(ee="",Ae!=null&&(ee=Ae.replace(ie,"$&/")+"/"),me(ce,F,ee,"",function(Ft){return Ft})):ce!=null&&(K(ce)&&(ce=N(ce,ee+(ce.key==null||M&&M.key===ce.key?"":(""+ce.key).replace(ie,"$&/")+"/")+Ae)),F.push(ce)),1;Ae=0;var gt=le===""?".":le+":";if(ae(M))for(var Ge=0;Ge<M.length;Ge++)le=M[Ge],Te=gt+se(le,Ge),Ae+=me(le,F,ee,Te,ce);else if(Ge=v(M),typeof Ge=="function")for(M=Ge.call(M),Ge=0;!(le=M.next()).done;)le=le.value,Te=gt+se(le,Ge++),Ae+=me(le,F,ee,Te,ce);else if(Te==="object"){if(typeof M.then=="function")return me(ve(M),F,ee,le,ce);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function _(M,F,ee){if(M==null)return M;var le=[],ce=0;return me(M,le,"","",function(Te){return F.call(ee,Te,ce++)}),le}function $(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(ee){(M._status===0||M._status===-1)&&(M._status=1,M._result=ee)},function(ee){(M._status===0||M._status===-1)&&(M._status=2,M._result=ee)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function fe(){}return Ee.Children={map:_,forEach:function(M,F,ee){_(M,function(){F.apply(this,arguments)},ee)},count:function(M){var F=0;return _(M,function(){F++}),F},toArray:function(M){return _(M,function(F){return F})||[]},only:function(M){if(!K(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ee.Component=x,Ee.Fragment=s,Ee.Profiler=o,Ee.PureComponent=H,Ee.StrictMode=u,Ee.Suspense=p,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(M){return k.H.useMemoCache(M)}},Ee.cache=function(M){return function(){return M.apply(null,arguments)}},Ee.cloneElement=function(M,F,ee){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=E({},M.props),ce=M.key,Te=void 0;if(F!=null)for(Ae in F.ref!==void 0&&(Te=void 0),F.key!==void 0&&(ce=""+F.key),F)!q.call(F,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&F.ref===void 0||(le[Ae]=F[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=ee;else if(1<Ae){for(var gt=Array(Ae),Ge=0;Ge<Ae;Ge++)gt[Ge]=arguments[Ge+2];le.children=gt}return B(M.type,ce,void 0,void 0,Te,le)},Ee.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ee.createElement=function(M,F,ee){var le,ce={},Te=null;if(F!=null)for(le in F.key!==void 0&&(Te=""+F.key),F)q.call(F,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ce[le]=F[le]);var Ae=arguments.length-2;if(Ae===1)ce.children=ee;else if(1<Ae){for(var gt=Array(Ae),Ge=0;Ge<Ae;Ge++)gt[Ge]=arguments[Ge+2];ce.children=gt}if(M&&M.defaultProps)for(le in Ae=M.defaultProps,Ae)ce[le]===void 0&&(ce[le]=Ae[le]);return B(M,Te,void 0,void 0,null,ce)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(M){return{$$typeof:y,render:M}},Ee.isValidElement=K,Ee.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:$}},Ee.memo=function(M,F){return{$$typeof:h,type:M,compare:F===void 0?null:F}},Ee.startTransition=function(M){var F=k.T,ee={};k.T=ee;try{var le=M(),ce=k.S;ce!==null&&ce(ee,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(fe,ue)}catch(Te){ue(Te)}finally{k.T=F}},Ee.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ee.use=function(M){return k.H.use(M)},Ee.useActionState=function(M,F,ee){return k.H.useActionState(M,F,ee)},Ee.useCallback=function(M,F){return k.H.useCallback(M,F)},Ee.useContext=function(M){return k.H.useContext(M)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(M,F){return k.H.useDeferredValue(M,F)},Ee.useEffect=function(M,F,ee){var le=k.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(M,F)},Ee.useId=function(){return k.H.useId()},Ee.useImperativeHandle=function(M,F,ee){return k.H.useImperativeHandle(M,F,ee)},Ee.useInsertionEffect=function(M,F){return k.H.useInsertionEffect(M,F)},Ee.useLayoutEffect=function(M,F){return k.H.useLayoutEffect(M,F)},Ee.useMemo=function(M,F){return k.H.useMemo(M,F)},Ee.useOptimistic=function(M,F){return k.H.useOptimistic(M,F)},Ee.useReducer=function(M,F,ee){return k.H.useReducer(M,F,ee)},Ee.useRef=function(M){return k.H.useRef(M)},Ee.useState=function(M){return k.H.useState(M)},Ee.useSyncExternalStore=function(M,F,ee){return k.H.useSyncExternalStore(M,F,ee)},Ee.useTransition=function(){return k.H.useTransition()},Ee.version="19.1.0",Ee}var Wm;function ah(){return Wm||(Wm=1,Cf.exports=Pb()),Cf.exports}var Nn=ah();const Ib=kb(Nn);var Uf={exports:{}},nu={},zf={exports:{}},Nf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function Wb(){return $m||($m=1,function(i){function n(_,$){var ue=_.length;_.push($);e:for(;0<ue;){var fe=ue-1>>>1,M=_[fe];if(0<o(M,$))_[fe]=$,_[ue]=M,ue=fe;else break e}}function s(_){return _.length===0?null:_[0]}function u(_){if(_.length===0)return null;var $=_[0],ue=_.pop();if(ue!==$){_[0]=ue;e:for(var fe=0,M=_.length,F=M>>>1;fe<F;){var ee=2*(fe+1)-1,le=_[ee],ce=ee+1,Te=_[ce];if(0>o(le,ue))ce<M&&0>o(Te,le)?(_[fe]=Te,_[ce]=ue,fe=ce):(_[fe]=le,_[ee]=ue,fe=ee);else if(ce<M&&0>o(Te,ue))_[fe]=Te,_[ce]=ue,fe=ce;else break e}}return $}function o(_,$){var ue=_.sortIndex-$.sortIndex;return ue!==0?ue:_.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();i.unstable_now=function(){return d.now()-y}}var p=[],h=[],A=1,T=null,v=3,D=!1,E=!1,U=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ae(_){for(var $=s(h);$!==null;){if($.callback===null)u(h);else if($.startTime<=_)u(h),$.sortIndex=$.expirationTime,n(p,$);else break;$=s(h)}}function k(_){if(U=!1,ae(_),!E)if(s(p)!==null)E=!0,q||(q=!0,se());else{var $=s(h);$!==null&&me(k,$.startTime-_)}}var q=!1,B=-1,N=5,K=-1;function ne(){return x?!0:!(i.unstable_now()-K<N)}function ie(){if(x=!1,q){var _=i.unstable_now();K=_;var $=!0;try{e:{E=!1,U&&(U=!1,H(B),B=-1),D=!0;var ue=v;try{t:{for(ae(_),T=s(p);T!==null&&!(T.expirationTime>_&&ne());){var fe=T.callback;if(typeof fe=="function"){T.callback=null,v=T.priorityLevel;var M=fe(T.expirationTime<=_);if(_=i.unstable_now(),typeof M=="function"){T.callback=M,ae(_),$=!0;break t}T===s(p)&&u(p),ae(_)}else u(p);T=s(p)}if(T!==null)$=!0;else{var F=s(h);F!==null&&me(k,F.startTime-_),$=!1}}break e}finally{T=null,v=ue,D=!1}$=void 0}}finally{$?se():q=!1}}}var se;if(typeof X=="function")se=function(){X(ie)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,ve=ge.port2;ge.port1.onmessage=ie,se=function(){ve.postMessage(null)}}else se=function(){S(ie,0)};function me(_,$){B=S(function(){_(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(_){_.callback=null},i.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<_?Math.floor(1e3/_):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(_){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var ue=v;v=$;try{return _()}finally{v=ue}},i.unstable_requestPaint=function(){x=!0},i.unstable_runWithPriority=function(_,$){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var ue=v;v=_;try{return $()}finally{v=ue}},i.unstable_scheduleCallback=function(_,$,ue){var fe=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?fe+ue:fe):ue=fe,_){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ue+M,_={id:A++,callback:$,priorityLevel:_,startTime:ue,expirationTime:M,sortIndex:-1},ue>fe?(_.sortIndex=ue,n(h,_),s(p)===null&&_===s(h)&&(U?(H(B),B=-1):U=!0,me(k,ue-fe))):(_.sortIndex=M,n(p,_),E||D||(E=!0,q||(q=!0,se()))),_},i.unstable_shouldYield=ne,i.unstable_wrapCallback=function(_){var $=v;return function(){var ue=v;v=$;try{return _.apply(this,arguments)}finally{v=ue}}}}(Nf)),Nf}var e0;function $b(){return e0||(e0=1,zf.exports=Wb()),zf.exports}var Hf={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function e2(){if(t0)return Ot;t0=1;var i=ah();function n(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)h+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var u={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,h,A){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:h,implementation:A}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,Ot.createPortal=function(p,h){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return c(p,h,null,A)},Ot.flushSync=function(p){var h=d.T,A=u.p;try{if(d.T=null,u.p=2,p)return p()}finally{d.T=h,u.p=A,u.d.f()}},Ot.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,u.d.C(p,h))},Ot.prefetchDNS=function(p){typeof p=="string"&&u.d.D(p)},Ot.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var A=h.as,T=y(A,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,D=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;A==="style"?u.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:v,fetchPriority:D}):A==="script"&&u.d.X(p,{crossOrigin:T,integrity:v,fetchPriority:D,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ot.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var A=y(h.as,h.crossOrigin);u.d.M(p,{crossOrigin:A,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&u.d.M(p)},Ot.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var A=h.as,T=y(A,h.crossOrigin);u.d.L(p,A,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ot.preloadModule=function(p,h){if(typeof p=="string")if(h){var A=y(h.as,h.crossOrigin);u.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:A,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else u.d.m(p)},Ot.requestFormReset=function(p){u.d.r(p)},Ot.unstable_batchedUpdates=function(p,h){return p(h)},Ot.useFormState=function(p,h,A){return d.H.useFormState(p,h,A)},Ot.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ot.version="19.1.0",Ot}var n0;function t2(){if(n0)return Hf.exports;n0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Hf.exports=e2(),Hf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function n2(){if(a0)return nu;a0=1;var i=$b(),n=ah(),s=t2();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(u(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(u(188));return t!==e?null:e}for(var a=e,l=t;;){var r=a.return;if(r===null)break;var f=r.alternate;if(f===null){if(l=r.return,l!==null){a=l;continue}break}if(r.child===f.child){for(f=r.child;f;){if(f===a)return y(r),e;if(f===l)return y(r),t;f=f.sibling}throw Error(u(188))}if(a.return!==l.return)a=r,l=f;else{for(var m=!1,b=r.child;b;){if(b===a){m=!0,a=r,l=f;break}if(b===l){m=!0,l=r,a=f;break}b=b.sibling}if(!m){for(b=f.child;b;){if(b===a){m=!0,a=f,l=r;break}if(b===l){m=!0,l=f,a=r;break}b=b.sibling}if(!m)throw Error(u(189))}}if(a.alternate!==l)throw Error(u(190))}if(a.tag!==3)throw Error(u(188));return a.stateNode.current===a?e:t}function h(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=h(e),t!==null)return t;e=e.sibling}return null}var A=Object.assign,T=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=ie&&e[ie]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Symbol.for("react.client.reference");function ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case x:return"Profiler";case U:return"StrictMode";case k:return"Suspense";case q:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case X:return(e.displayName||"Context")+".Provider";case H:return(e._context.displayName||"Context")+".Consumer";case ae:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}var me=Array.isArray,_=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},fe=[],M=-1;function F(e){return{current:e}}function ee(e){0>M||(e.current=fe[M],fe[M]=null,M--)}function le(e,t){M++,fe[M]=e.current,e.current=t}var ce=F(null),Te=F(null),Ae=F(null),gt=F(null);function Ge(e,t){switch(le(Ae,t),le(Te,e),le(ce,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Sm(t),e=Em(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(ce),le(ce,e)}function Ft(){ee(ce),ee(Te),ee(Ae)}function jn(e){e.memoizedState!==null&&le(gt,e);var t=ce.current,a=Em(t,e.type);t!==a&&(le(Te,e),le(ce,a))}function Ut(e){Te.current===e&&(ee(ce),ee(Te)),gt.current===e&&(ee(gt),Ps._currentValue=ue)}var ma=Object.prototype.hasOwnProperty,Sn=i.unstable_scheduleCallback,he=i.unstable_cancelCallback,xe=i.unstable_shouldYield,Me=i.unstable_requestPaint,Be=i.unstable_now,st=i.unstable_getCurrentPriorityLevel,ze=i.unstable_ImmediatePriority,yt=i.unstable_UserBlockingPriority,Jt=i.unstable_NormalPriority,is=i.unstable_LowPriority,zi=i.unstable_IdlePriority,Ni=i.log,Hi=i.unstable_setDisableYieldValue,En=null,Ie=null;function vt(e){if(typeof Ni=="function"&&Hi(e),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(En,e)}catch{}}var ot=Math.clz32?Math.clz32:Mn,Ht=Math.log,ni=Math.LN2;function Mn(e){return e>>>=0,e===0?32:31-(Ht(e)/ni|0)|0}var _n=256,ai=4194304;function Tn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var r=0,f=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?r=Tn(l):(m&=b,m!==0?r=Tn(m):a||(a=b&~e,a!==0&&(r=Tn(a))))):(b=l&~f,b!==0?r=Tn(b):m!==0?r=Tn(m):a||(a=l&~e,a!==0&&(r=Tn(a)))),r===0?0:t!==0&&t!==r&&(t&f)===0&&(f=r&-r,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:r}function ya(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function zt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ji(){var e=_n;return _n<<=1,(_n&4194048)===0&&(_n=256),e}function li(){var e=ai;return ai<<=1,(ai&62914560)===0&&(ai=4194304),e}function _i(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function va(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xo(e,t,a,l,r,f){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,R=e.expirationTimes,Y=e.hiddenUpdates;for(a=m&~a;0<a;){var P=31-ot(a),te=1<<P;b[P]=0,R[P]=-1;var G=Y[P];if(G!==null)for(Y[P]=null,P=0;P<G.length;P++){var V=G[P];V!==null&&(V.lane&=-536870913)}a&=~te}l!==0&&ls(e,l,0),f!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=f&~(m&~t))}function ls(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ot(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function ss(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-ot(a),r=1<<l;r&t|e[l]&t&&(e[l]|=t),a&=~r}}function O(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Z(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function I(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Xm(e.type))}function re(e,t){var a=$.p;try{return $.p=e,t()}finally{$.p=a}}var pe=Math.random().toString(36).slice(2),Se="__reactFiber$"+pe,_e="__reactProps$"+pe,Fe="__reactContainer$"+pe,Pt="__reactEvents$"+pe,fn="__reactListeners$"+pe,Rn="__reactHandles$"+pe,fd="__reactResources$"+pe,us="__reactMarker$"+pe;function So(e){delete e[Se],delete e[_e],delete e[Pt],delete e[fn],delete e[Rn]}function Li(e){var t=e[Se];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Fe]||a[Se]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=qm(e);e!==null;){if(a=e[Se])return a;e=qm(e)}return t}e=a,a=e.parentNode}return null}function Yi(e){if(e=e[Se]||e[Fe]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function rs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Gi(e){var t=e[fd];return t||(t=e[fd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function At(e){e[us]=!0}var hd=new Set,dd={};function si(e,t){Vi(e,t),Vi(e+"Capture",t)}function Vi(e,t){for(dd[e]=t,e=0;e<t.length;e++)hd.add(t[e])}var jv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gd={},pd={};function _v(e){return ma.call(pd,e)?!0:ma.call(gd,e)?!1:jv.test(e)?pd[e]=!0:(gd[e]=!0,!1)}function Mu(e,t,a){if(_v(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Tu(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Jn(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}var Eo,md;function Xi(e){if(Eo===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Eo=t&&t[1]||"",md=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Eo+e+md}var Mo=!1;function To(e,t){if(!e||Mo)return"";Mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(V){var G=V}Reflect.construct(e,[],te)}else{try{te.call()}catch(V){G=V}e.call(te.prototype)}}else{try{throw Error()}catch(V){G=V}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(V){if(V&&G&&typeof V.stack=="string")return[V.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),m=f[0],b=f[1];if(m&&b){var R=m.split(`
`),Y=b.split(`
`);for(r=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;r<Y.length&&!Y[r].includes("DetermineComponentFrameRoot");)r++;if(l===R.length||r===Y.length)for(l=R.length-1,r=Y.length-1;1<=l&&0<=r&&R[l]!==Y[r];)r--;for(;1<=l&&0<=r;l--,r--)if(R[l]!==Y[r]){if(l!==1||r!==1)do if(l--,r--,0>r||R[l]!==Y[r]){var P=`
`+R[l].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=l&&0<=r);break}}}finally{Mo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Xi(a):""}function Lv(e){switch(e.tag){case 26:case 27:case 5:return Xi(e.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return To(e.type,!1);case 11:return To(e.type.render,!1);case 1:return To(e.type,!0);case 31:return Xi("Activity");default:return""}}function yd(e){try{var t="";do t+=Lv(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function hn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yv(e){var t=vd(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,f=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(m){l=""+m,f.call(this,m)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ru(e){e._valueTracker||(e._valueTracker=Yv(e))}function Ad(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=vd(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function qu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Gv=/[\n"\\]/g;function dn(e){return e.replace(Gv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ro(e,t,a,l,r,f,m,b){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+hn(t)):e.value!==""+hn(t)&&(e.value=""+hn(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?qo(e,m,hn(t)):a!=null?qo(e,m,hn(a)):l!=null&&e.removeAttribute("value"),r==null&&f!=null&&(e.defaultChecked=!!f),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+hn(b):e.removeAttribute("name")}function bd(e,t,a,l,r,f,m,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;a=a!=null?""+hn(a):"",t=t!=null?""+hn(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}l=l??r,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function qo(e,t,a){t==="number"&&qu(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Qi(e,t,a,l){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&l&&(e[a].defaultSelected=!0)}else{for(a=""+hn(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,l&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function wd(e,t,a){if(t!=null&&(t=""+hn(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+hn(a):""}function xd(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(u(92));if(me(l)){if(1<l.length)throw Error(u(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=hn(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Zi(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Vv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Vv.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ed(e,t,a){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var r in t)l=t[r],t.hasOwnProperty(r)&&a[r]!==l&&Sd(e,r,l)}else for(var f in t)t.hasOwnProperty(f)&&Sd(e,f,t[f])}function Do(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Du(e){return Qv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Oo=null;function Bo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ki=null,ki=null;function Md(e){var t=Yi(e);if(t&&(e=t.stateNode)){var a=e[_e]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ro(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var r=l[_e]||null;if(!r)throw Error(u(90));Ro(l,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Ad(l)}break e;case"textarea":wd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Qi(e,!!a.multiple,t,!1)}}}var Co=!1;function Td(e,t,a){if(Co)return e(t,a);Co=!0;try{var l=e(t);return l}finally{if(Co=!1,(Ki!==null||ki!==null)&&(gr(),Ki&&(t=Ki,e=ki,ki=Ki=null,Md(t),e)))for(t=0;t<e.length;t++)Md(e[t])}}function os(e,t){var a=e.stateNode;if(a===null)return null;var l=a[_e]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(u(231,t,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uo=!1;if(Pn)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{Uo=!1}var Aa=null,zo=null,Ou=null;function Rd(){if(Ou)return Ou;var e,t=zo,a=t.length,l,r="value"in Aa?Aa.value:Aa.textContent,f=r.length;for(e=0;e<a&&t[e]===r[e];e++);var m=a-e;for(l=1;l<=m&&t[a-l]===r[f-l];l++);return Ou=r.slice(e,1<l?1-l:void 0)}function Bu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cu(){return!0}function qd(){return!1}function jt(e){function t(a,l,r,f,m){this._reactName=a,this._targetInst=r,this.type=l,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Cu:qd,this.isPropagationStopped=qd,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Cu)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Cu)},persist:function(){},isPersistent:Cu}),t}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uu=jt(ui),fs=A({},ui,{view:0,detail:0}),Zv=jt(fs),No,Ho,hs,zu=A({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_o,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hs&&(hs&&e.type==="mousemove"?(No=e.screenX-hs.screenX,Ho=e.screenY-hs.screenY):Ho=No=0,hs=e),No)},movementY:function(e){return"movementY"in e?e.movementY:Ho}}),Dd=jt(zu),Kv=A({},zu,{dataTransfer:0}),kv=jt(Kv),Fv=A({},fs,{relatedTarget:0}),jo=jt(Fv),Jv=A({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Pv=jt(Jv),Iv=A({},ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wv=jt(Iv),$v=A({},ui,{data:0}),Od=jt($v),eA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nA[e])?!!t[e]:!1}function _o(){return aA}var iA=A({},fs,{key:function(e){if(e.key){var t=eA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_o,charCode:function(e){return e.type==="keypress"?Bu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lA=jt(iA),sA=A({},zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=jt(sA),uA=A({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_o}),rA=jt(uA),oA=A({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),cA=jt(oA),fA=A({},zu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hA=jt(fA),dA=A({},ui,{newState:0,oldState:0}),gA=jt(dA),pA=[9,13,27,32],Lo=Pn&&"CompositionEvent"in window,ds=null;Pn&&"documentMode"in document&&(ds=document.documentMode);var mA=Pn&&"TextEvent"in window&&!ds,Cd=Pn&&(!Lo||ds&&8<ds&&11>=ds),Ud=" ",zd=!1;function Nd(e,t){switch(e){case"keyup":return pA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fi=!1;function yA(e,t){switch(e){case"compositionend":return Hd(t);case"keypress":return t.which!==32?null:(zd=!0,Ud);case"textInput":return e=t.data,e===Ud&&zd?null:e;default:return null}}function vA(e,t){if(Fi)return e==="compositionend"||!Lo&&Nd(e,t)?(e=Rd(),Ou=zo=Aa=null,Fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cd&&t.locale!=="ko"?null:t.data;default:return null}}var AA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AA[e.type]:t==="textarea"}function _d(e,t,a,l){Ki?ki?ki.push(l):ki=[l]:Ki=l,t=br(t,"onChange"),0<t.length&&(a=new Uu("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var gs=null,ps=null;function bA(e){vm(e,0)}function Nu(e){var t=rs(e);if(Ad(t))return e}function Ld(e,t){if(e==="change")return t}var Yd=!1;if(Pn){var Yo;if(Pn){var Go="oninput"in document;if(!Go){var Gd=document.createElement("div");Gd.setAttribute("oninput","return;"),Go=typeof Gd.oninput=="function"}Yo=Go}else Yo=!1;Yd=Yo&&(!document.documentMode||9<document.documentMode)}function Vd(){gs&&(gs.detachEvent("onpropertychange",Xd),ps=gs=null)}function Xd(e){if(e.propertyName==="value"&&Nu(ps)){var t=[];_d(t,ps,e,Bo(e)),Td(bA,t)}}function wA(e,t,a){e==="focusin"?(Vd(),gs=t,ps=a,gs.attachEvent("onpropertychange",Xd)):e==="focusout"&&Vd()}function xA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nu(ps)}function SA(e,t){if(e==="click")return Nu(t)}function EA(e,t){if(e==="input"||e==="change")return Nu(t)}function MA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:MA;function ms(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var r=a[l];if(!ma.call(t,r)||!It(e[r],t[r]))return!1}return!0}function Qd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zd(e,t){var a=Qd(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qd(a)}}function Kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=qu(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=qu(e.document)}return t}function Vo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var TA=Pn&&"documentMode"in document&&11>=document.documentMode,Ji=null,Xo=null,ys=null,Qo=!1;function Fd(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qo||Ji==null||Ji!==qu(l)||(l=Ji,"selectionStart"in l&&Vo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ys&&ms(ys,l)||(ys=l,l=br(Xo,"onSelect"),0<l.length&&(t=new Uu("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=Ji)))}function ri(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Pi={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionrun:ri("Transition","TransitionRun"),transitionstart:ri("Transition","TransitionStart"),transitioncancel:ri("Transition","TransitionCancel"),transitionend:ri("Transition","TransitionEnd")},Zo={},Jd={};Pn&&(Jd=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function oi(e){if(Zo[e])return Zo[e];if(!Pi[e])return e;var t=Pi[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Jd)return Zo[e]=t[a];return e}var Pd=oi("animationend"),Id=oi("animationiteration"),Wd=oi("animationstart"),RA=oi("transitionrun"),qA=oi("transitionstart"),DA=oi("transitioncancel"),$d=oi("transitionend"),eg=new Map,Ko="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ko.push("scrollEnd");function qn(e,t){eg.set(e,t),si(t,[e])}var tg=new WeakMap;function gn(e,t){if(typeof e=="object"&&e!==null){var a=tg.get(e);return a!==void 0?a:(t={value:e,source:t,stack:yd(t)},tg.set(e,t),t)}return{value:e,source:t,stack:yd(t)}}var pn=[],Ii=0,ko=0;function Hu(){for(var e=Ii,t=ko=Ii=0;t<e;){var a=pn[t];pn[t++]=null;var l=pn[t];pn[t++]=null;var r=pn[t];pn[t++]=null;var f=pn[t];if(pn[t++]=null,l!==null&&r!==null){var m=l.pending;m===null?r.next=r:(r.next=m.next,m.next=r),l.pending=r}f!==0&&ng(a,r,f)}}function ju(e,t,a,l){pn[Ii++]=e,pn[Ii++]=t,pn[Ii++]=a,pn[Ii++]=l,ko|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Fo(e,t,a,l){return ju(e,t,a,l),_u(e)}function Wi(e,t){return ju(e,null,null,t),_u(e)}function ng(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var r=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(r=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,r&&t!==null&&(r=31-ot(a),e=f.hiddenUpdates,l=e[r],l===null?e[r]=[t]:l.push(t),t.lane=a|536870912),f):null}function _u(e){if(50<Vs)throw Vs=0,ef=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $i={};function OA(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,a,l){return new OA(e,t,a,l)}function Jo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function In(e,t){var a=e.alternate;return a===null?(a=Wt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ag(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Lu(e,t,a,l,r,f){var m=0;if(l=e,typeof e=="function")Jo(e)&&(m=1);else if(typeof e=="string")m=Cb(e,a,ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=Wt(31,a,t,r),e.elementType=K,e.lanes=f,e;case E:return ci(a.children,r,f,t);case U:m=8,r|=24;break;case x:return e=Wt(12,a,t,r|2),e.elementType=x,e.lanes=f,e;case k:return e=Wt(13,a,t,r),e.elementType=k,e.lanes=f,e;case q:return e=Wt(19,a,t,r),e.elementType=q,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:case X:m=10;break e;case H:m=9;break e;case ae:m=11;break e;case B:m=14;break e;case N:m=16,l=null;break e}m=29,a=Error(u(130,e===null?"null":typeof e,"")),l=null}return t=Wt(m,a,t,r),t.elementType=e,t.type=l,t.lanes=f,t}function ci(e,t,a,l){return e=Wt(7,e,l,t),e.lanes=a,e}function Po(e,t,a){return e=Wt(6,e,null,t),e.lanes=a,e}function Io(e,t,a){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var el=[],tl=0,Yu=null,Gu=0,mn=[],yn=0,fi=null,Wn=1,$n="";function hi(e,t){el[tl++]=Gu,el[tl++]=Yu,Yu=e,Gu=t}function ig(e,t,a){mn[yn++]=Wn,mn[yn++]=$n,mn[yn++]=fi,fi=e;var l=Wn;e=$n;var r=32-ot(l)-1;l&=~(1<<r),a+=1;var f=32-ot(t)+r;if(30<f){var m=r-r%5;f=(l&(1<<m)-1).toString(32),l>>=m,r-=m,Wn=1<<32-ot(t)+r|a<<r|l,$n=f+e}else Wn=1<<f|a<<r|l,$n=e}function Wo(e){e.return!==null&&(hi(e,1),ig(e,1,0))}function $o(e){for(;e===Yu;)Yu=el[--tl],el[tl]=null,Gu=el[--tl],el[tl]=null;for(;e===fi;)fi=mn[--yn],mn[yn]=null,$n=mn[--yn],mn[yn]=null,Wn=mn[--yn],mn[yn]=null}var Nt=null,nt=null,Le=!1,di=null,Ln=!1,ec=Error(u(519));function gi(e){var t=Error(u(418,""));throw bs(gn(t,e)),ec}function lg(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[Se]=e,t[_e]=l,a){case"dialog":Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":case"embed":Oe("load",t);break;case"video":case"audio":for(a=0;a<Qs.length;a++)Oe(Qs[a],t);break;case"source":Oe("error",t);break;case"img":case"image":case"link":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"input":Oe("invalid",t),bd(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ru(t);break;case"select":Oe("invalid",t);break;case"textarea":Oe("invalid",t),xd(t,l.value,l.defaultValue,l.children),Ru(t)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||xm(t.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",t),Oe("toggle",t)),l.onScroll!=null&&Oe("scroll",t),l.onScrollEnd!=null&&Oe("scrollend",t),l.onClick!=null&&(t.onclick=wr),t=!0):t=!1,t||gi(e)}function sg(e){for(Nt=e.return;Nt;)switch(Nt.tag){case 5:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Nt=Nt.return}}function vs(e){if(e!==Nt)return!1;if(!Le)return sg(e),Le=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||yf(e.type,e.memoizedProps)),a=!a),a&&nt&&gi(e),sg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){nt=On(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}nt=null}}else t===27?(t=nt,Na(e.type)?(e=wf,wf=null,nt=e):nt=t):nt=Nt?On(e.stateNode.nextSibling):null;return!0}function As(){nt=Nt=null,Le=!1}function ug(){var e=di;return e!==null&&(Yt===null?Yt=e:Yt.push.apply(Yt,e),di=null),e}function bs(e){di===null?di=[e]:di.push(e)}var tc=F(null),pi=null,ea=null;function ba(e,t,a){le(tc,t._currentValue),t._currentValue=a}function ta(e){e._currentValue=tc.current,ee(tc)}function nc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function ac(e,t,a,l){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var f=r.dependencies;if(f!==null){var m=r.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=r;for(var R=0;R<t.length;R++)if(b.context===t[R]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),nc(f.return,a,e),l||(m=null);break e}f=b.next}}else if(r.tag===18){if(m=r.return,m===null)throw Error(u(341));m.lanes|=a,f=m.alternate,f!==null&&(f.lanes|=a),nc(m,a,e),m=null}else m=r.child;if(m!==null)m.return=r;else for(m=r;m!==null;){if(m===e){m=null;break}if(r=m.sibling,r!==null){r.return=m.return,m=r;break}m=m.return}r=m}}function ws(e,t,a,l){e=null;for(var r=t,f=!1;r!==null;){if(!f){if((r.flags&524288)!==0)f=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var m=r.alternate;if(m===null)throw Error(u(387));if(m=m.memoizedProps,m!==null){var b=r.type;It(r.pendingProps.value,m.value)||(e!==null?e.push(b):e=[b])}}else if(r===gt.current){if(m=r.alternate,m===null)throw Error(u(387));m.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Ps):e=[Ps])}r=r.return}e!==null&&ac(t,e,a,l),t.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!It(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mi(e){pi=e,ea=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return rg(pi,e)}function Xu(e,t){return pi===null&&mi(e),rg(e,t)}function rg(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ea===null){if(e===null)throw Error(u(308));ea=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ea=ea.next=t;return a}var BA=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},CA=i.unstable_scheduleCallback,UA=i.unstable_NormalPriority,pt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ic(){return{controller:new BA,data:new Map,refCount:0}}function xs(e){e.refCount--,e.refCount===0&&CA(UA,function(){e.controller.abort()})}var Ss=null,lc=0,nl=0,al=null;function zA(e,t){if(Ss===null){var a=Ss=[];lc=0,nl=rf(),al={status:"pending",value:void 0,then:function(l){a.push(l)}}}return lc++,t.then(og,og),t}function og(){if(--lc===0&&Ss!==null){al!==null&&(al.status="fulfilled");var e=Ss;Ss=null,nl=0,al=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function NA(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(l.status="rejected",l.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),l}var cg=_.S;_.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&zA(e,t),cg!==null&&cg(e,t)};var yi=F(null);function sc(){var e=yi.current;return e!==null?e:Pe.pooledCache}function Qu(e,t){t===null?le(yi,yi.current):le(yi,t.pool)}function fg(){var e=sc();return e===null?null:{parent:pt._currentValue,pool:e}}var Es=Error(u(460)),hg=Error(u(474)),Zu=Error(u(542)),uc={then:function(){}};function dg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ku(){}function gg(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ku,Ku),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mg(e),e;default:if(typeof t.status=="string")t.then(Ku,Ku);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=l}},function(l){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mg(e),e}throw Ms=t,Es}}var Ms=null;function pg(){if(Ms===null)throw Error(u(459));var e=Ms;return Ms=null,e}function mg(e){if(e===Es||e===Zu)throw Error(u(483))}var wa=!1;function rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sa(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ve&2)!==0){var r=l.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),l.pending=t,t=_u(e),ng(e,null,a),t}return ju(e,l,t,a),_u(e)}function Ts(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,ss(e,a)}}function cc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var r=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?r=f=m:f=f.next=m,a=a.next}while(a!==null);f===null?r=f=t:f=f.next=t}else r=f=t;a={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var fc=!1;function Rs(){if(fc){var e=al;if(e!==null)throw e}}function qs(e,t,a,l){fc=!1;var r=e.updateQueue;wa=!1;var f=r.firstBaseUpdate,m=r.lastBaseUpdate,b=r.shared.pending;if(b!==null){r.shared.pending=null;var R=b,Y=R.next;R.next=null,m===null?f=Y:m.next=Y,m=R;var P=e.alternate;P!==null&&(P=P.updateQueue,b=P.lastBaseUpdate,b!==m&&(b===null?P.firstBaseUpdate=Y:b.next=Y,P.lastBaseUpdate=R))}if(f!==null){var te=r.baseState;m=0,P=Y=R=null,b=f;do{var G=b.lane&-536870913,V=G!==b.lane;if(V?(Ue&G)===G:(l&G)===G){G!==0&&G===nl&&(fc=!0),P!==null&&(P=P.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var we=e,ye=b;G=t;var Ke=a;switch(ye.tag){case 1:if(we=ye.payload,typeof we=="function"){te=we.call(Ke,te,G);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ye.payload,G=typeof we=="function"?we.call(Ke,te,G):we,G==null)break e;te=A({},te,G);break e;case 2:wa=!0}}G=b.callback,G!==null&&(e.flags|=64,V&&(e.flags|=8192),V=r.callbacks,V===null?r.callbacks=[G]:V.push(G))}else V={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},P===null?(Y=P=V,R=te):P=P.next=V,m|=G;if(b=b.next,b===null){if(b=r.shared.pending,b===null)break;V=b,b=V.next,V.next=null,r.lastBaseUpdate=V,r.shared.pending=null}}while(!0);P===null&&(R=te),r.baseState=R,r.firstBaseUpdate=Y,r.lastBaseUpdate=P,f===null&&(r.shared.lanes=0),Ba|=m,e.lanes=m,e.memoizedState=te}}function yg(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function vg(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)yg(a[e],t)}var il=F(null),ku=F(0);function Ag(e,t){e=ra,le(ku,e),le(il,t),ra=e|t.baseLanes}function hc(){le(ku,ra),le(il,il.current)}function dc(){ra=ku.current,ee(il),ee(ku)}var Ea=0,Re=null,Qe=null,ct=null,Fu=!1,ll=!1,vi=!1,Ju=0,Ds=0,sl=null,HA=0;function ut(){throw Error(u(321))}function gc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!It(e[a],t[a]))return!1;return!0}function pc(e,t,a,l,r,f){return Ea=f,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_.H=e===null||e.memoizedState===null?np:ap,vi=!1,f=a(l,r),vi=!1,ll&&(f=wg(t,a,l,r)),bg(e),f}function bg(e){_.H=tr;var t=Qe!==null&&Qe.next!==null;if(Ea=0,ct=Qe=Re=null,Fu=!1,Ds=0,sl=null,t)throw Error(u(300));e===null||bt||(e=e.dependencies,e!==null&&Vu(e)&&(bt=!0))}function wg(e,t,a,l){Re=e;var r=0;do{if(ll&&(sl=null),Ds=0,ll=!1,25<=r)throw Error(u(301));if(r+=1,ct=Qe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}_.H=XA,f=t(a,l)}while(ll);return f}function jA(){var e=_.H,t=e.useState()[0];return t=typeof t.then=="function"?Os(t):t,e=e.useState()[0],(Qe!==null?Qe.memoizedState:null)!==e&&(Re.flags|=1024),t}function mc(){var e=Ju!==0;return Ju=0,e}function yc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function vc(e){if(Fu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fu=!1}Ea=0,ct=Qe=Re=null,ll=!1,Ds=Ju=0,sl=null}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Re.memoizedState=ct=e:ct=ct.next=e,ct}function ft(){if(Qe===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=ct===null?Re.memoizedState:ct.next;if(t!==null)ct=t,Qe=e;else{if(e===null)throw Re.alternate===null?Error(u(467)):Error(u(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},ct===null?Re.memoizedState=ct=e:ct=ct.next=e}return ct}function Ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Os(e){var t=Ds;return Ds+=1,sl===null&&(sl=[]),e=gg(sl,e,t),t=Re,(ct===null?t.memoizedState:ct.next)===null&&(t=t.alternate,_.H=t===null||t.memoizedState===null?np:ap),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Os(e);if(e.$$typeof===X)return Dt(e)}throw Error(u(438,String(e)))}function bc(e){var t=null,a=Re.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ac(),Re.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=ne;return t.index++,a}function na(e,t){return typeof t=="function"?t(e):t}function Iu(e){var t=ft();return wc(t,Qe,e)}function wc(e,t,a){var l=e.queue;if(l===null)throw Error(u(311));l.lastRenderedReducer=a;var r=e.baseQueue,f=l.pending;if(f!==null){if(r!==null){var m=r.next;r.next=f.next,f.next=m}t.baseQueue=r=f,l.pending=null}if(f=e.baseState,r===null)e.memoizedState=f;else{t=r.next;var b=m=null,R=null,Y=t,P=!1;do{var te=Y.lane&-536870913;if(te!==Y.lane?(Ue&te)===te:(Ea&te)===te){var G=Y.revertLane;if(G===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),te===nl&&(P=!0);else if((Ea&G)===G){Y=Y.next,G===nl&&(P=!0);continue}else te={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},R===null?(b=R=te,m=f):R=R.next=te,Re.lanes|=G,Ba|=G;te=Y.action,vi&&a(f,te),f=Y.hasEagerState?Y.eagerState:a(f,te)}else G={lane:te,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},R===null?(b=R=G,m=f):R=R.next=G,Re.lanes|=te,Ba|=te;Y=Y.next}while(Y!==null&&Y!==t);if(R===null?m=f:R.next=b,!It(f,e.memoizedState)&&(bt=!0,P&&(a=al,a!==null)))throw a;e.memoizedState=f,e.baseState=m,e.baseQueue=R,l.lastRenderedState=f}return r===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function xc(e){var t=ft(),a=t.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=e;var l=a.dispatch,r=a.pending,f=t.memoizedState;if(r!==null){a.pending=null;var m=r=r.next;do f=e(f,m.action),m=m.next;while(m!==r);It(f,t.memoizedState)||(bt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,l]}function xg(e,t,a){var l=Re,r=ft(),f=Le;if(f){if(a===void 0)throw Error(u(407));a=a()}else a=t();var m=!It((Qe||r).memoizedState,a);m&&(r.memoizedState=a,bt=!0),r=r.queue;var b=Mg.bind(null,l,r,e);if(Bs(2048,8,b,[e]),r.getSnapshot!==t||m||ct!==null&&ct.memoizedState.tag&1){if(l.flags|=2048,ul(9,Wu(),Eg.bind(null,l,r,a,t),null),Pe===null)throw Error(u(349));f||(Ea&124)!==0||Sg(l,t,a)}return a}function Sg(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Re.updateQueue,t===null?(t=Ac(),Re.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Eg(e,t,a,l){t.value=a,t.getSnapshot=l,Tg(t)&&Rg(e)}function Mg(e,t,a){return a(function(){Tg(t)&&Rg(e)})}function Tg(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!It(e,a)}catch{return!0}}function Rg(e){var t=Wi(e,2);t!==null&&an(t,e,2)}function Sc(e){var t=_t();if(typeof e=="function"){var a=e;if(e=a(),vi){vt(!0);try{a()}finally{vt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:e},t}function qg(e,t,a,l){return e.baseState=a,wc(e,Qe,typeof l=="function"?l:na)}function _A(e,t,a,l,r){if(er(e))throw Error(u(485));if(e=t.action,e!==null){var f={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};_.T!==null?a(!0):f.isTransition=!1,l(f),a=t.pending,a===null?(f.next=t.pending=f,Dg(t,f)):(f.next=a.next,t.pending=a.next=f)}}function Dg(e,t){var a=t.action,l=t.payload,r=e.state;if(t.isTransition){var f=_.T,m={};_.T=m;try{var b=a(r,l),R=_.S;R!==null&&R(m,b),Og(e,t,b)}catch(Y){Ec(e,t,Y)}finally{_.T=f}}else try{f=a(r,l),Og(e,t,f)}catch(Y){Ec(e,t,Y)}}function Og(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Bg(e,t,l)},function(l){return Ec(e,t,l)}):Bg(e,t,a)}function Bg(e,t,a){t.status="fulfilled",t.value=a,Cg(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Dg(e,a)))}function Ec(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Cg(t),t=t.next;while(t!==l)}e.action=null}function Cg(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ug(e,t){return t}function zg(e,t){if(Le){var a=Pe.formState;if(a!==null){e:{var l=Re;if(Le){if(nt){t:{for(var r=nt,f=Ln;r.nodeType!==8;){if(!f){r=null;break t}if(r=On(r.nextSibling),r===null){r=null;break t}}f=r.data,r=f==="F!"||f==="F"?r:null}if(r){nt=On(r.nextSibling),l=r.data==="F!";break e}}gi(l)}l=!1}l&&(t=a[0])}}return a=_t(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:t},a.queue=l,a=$g.bind(null,Re,l),l.dispatch=a,l=Sc(!1),f=Dc.bind(null,Re,!1,l.queue),l=_t(),r={state:t,dispatch:null,action:e,pending:null},l.queue=r,a=_A.bind(null,Re,r,f,a),r.dispatch=a,l.memoizedState=e,[t,a,!1]}function Ng(e){var t=ft();return Hg(t,Qe,e)}function Hg(e,t,a){if(t=wc(e,t,Ug)[0],e=Iu(na)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Os(t)}catch(m){throw m===Es?Zu:m}else l=t;t=ft();var r=t.queue,f=r.dispatch;return a!==t.memoizedState&&(Re.flags|=2048,ul(9,Wu(),LA.bind(null,r,a),null)),[l,f,e]}function LA(e,t){e.action=t}function jg(e){var t=ft(),a=Qe;if(a!==null)return Hg(t,a,e);ft(),t=t.memoizedState,a=ft();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function ul(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=Re.updateQueue,t===null&&(t=Ac(),Re.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Wu(){return{destroy:void 0,resource:void 0}}function _g(){return ft().memoizedState}function $u(e,t,a,l){var r=_t();l=l===void 0?null:l,Re.flags|=e,r.memoizedState=ul(1|t,Wu(),a,l)}function Bs(e,t,a,l){var r=ft();l=l===void 0?null:l;var f=r.memoizedState.inst;Qe!==null&&l!==null&&gc(l,Qe.memoizedState.deps)?r.memoizedState=ul(t,f,a,l):(Re.flags|=e,r.memoizedState=ul(1|t,f,a,l))}function Lg(e,t){$u(8390656,8,e,t)}function Yg(e,t){Bs(2048,8,e,t)}function Gg(e,t){return Bs(4,2,e,t)}function Vg(e,t){return Bs(4,4,e,t)}function Xg(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qg(e,t,a){a=a!=null?a.concat([e]):null,Bs(4,4,Xg.bind(null,t,e),a)}function Mc(){}function Zg(e,t){var a=ft();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&gc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Kg(e,t){var a=ft();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&gc(t,l[1]))return l[0];if(l=e(),vi){vt(!0);try{e()}finally{vt(!1)}}return a.memoizedState=[l,t],l}function Tc(e,t,a){return a===void 0||(Ea&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Jp(),Re.lanes|=e,Ba|=e,a)}function kg(e,t,a,l){return It(a,t)?a:il.current!==null?(e=Tc(e,a,l),It(e,t)||(bt=!0),e):(Ea&42)===0?(bt=!0,e.memoizedState=a):(e=Jp(),Re.lanes|=e,Ba|=e,t)}function Fg(e,t,a,l,r){var f=$.p;$.p=f!==0&&8>f?f:8;var m=_.T,b={};_.T=b,Dc(e,!1,t,a);try{var R=r(),Y=_.S;if(Y!==null&&Y(b,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var P=NA(R,l);Cs(e,t,P,nn(e))}else Cs(e,t,l,nn(e))}catch(te){Cs(e,t,{then:function(){},status:"rejected",reason:te},nn())}finally{$.p=f,_.T=m}}function YA(){}function Rc(e,t,a,l){if(e.tag!==5)throw Error(u(476));var r=Jg(e).queue;Fg(e,r,t,ue,a===null?YA:function(){return Pg(e),a(l)})}function Jg(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:ue},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Pg(e){var t=Jg(e).next.queue;Cs(e,t,{},nn())}function qc(){return Dt(Ps)}function Ig(){return ft().memoizedState}function Wg(){return ft().memoizedState}function GA(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=nn();e=xa(a);var l=Sa(t,e,a);l!==null&&(an(l,t,a),Ts(l,t,a)),t={cache:ic()},e.payload=t;return}t=t.return}}function VA(e,t,a){var l=nn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},er(e)?ep(t,a):(a=Fo(e,t,a,l),a!==null&&(an(a,e,l),tp(a,t,l)))}function $g(e,t,a){var l=nn();Cs(e,t,a,l)}function Cs(e,t,a,l){var r={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(er(e))ep(t,r);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var m=t.lastRenderedState,b=f(m,a);if(r.hasEagerState=!0,r.eagerState=b,It(b,m))return ju(e,t,r,0),Pe===null&&Hu(),!1}catch{}finally{}if(a=Fo(e,t,r,l),a!==null)return an(a,e,l),tp(a,t,l),!0}return!1}function Dc(e,t,a,l){if(l={lane:2,revertLane:rf(),action:l,hasEagerState:!1,eagerState:null,next:null},er(e)){if(t)throw Error(u(479))}else t=Fo(e,a,l,2),t!==null&&an(t,e,2)}function er(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function ep(e,t){ll=Fu=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function tp(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,ss(e,a)}}var tr={readContext:Dt,use:Pu,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut},np={readContext:Dt,use:Pu,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:Lg,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,$u(4194308,4,Xg.bind(null,t,e),a)},useLayoutEffect:function(e,t){return $u(4194308,4,e,t)},useInsertionEffect:function(e,t){$u(4,2,e,t)},useMemo:function(e,t){var a=_t();t=t===void 0?null:t;var l=e();if(vi){vt(!0);try{e()}finally{vt(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=_t();if(a!==void 0){var r=a(t);if(vi){vt(!0);try{a(t)}finally{vt(!1)}}}else r=t;return l.memoizedState=l.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=VA.bind(null,Re,e),[l.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:function(e){e=Sc(e);var t=e.queue,a=$g.bind(null,Re,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Mc,useDeferredValue:function(e,t){var a=_t();return Tc(a,e,t)},useTransition:function(){var e=Sc(!1);return e=Fg.bind(null,Re,e.queue,!0,!1),_t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Re,r=_t();if(Le){if(a===void 0)throw Error(u(407));a=a()}else{if(a=t(),Pe===null)throw Error(u(349));(Ue&124)!==0||Sg(l,t,a)}r.memoizedState=a;var f={value:a,getSnapshot:t};return r.queue=f,Lg(Mg.bind(null,l,f,e),[e]),l.flags|=2048,ul(9,Wu(),Eg.bind(null,l,f,a,t),null),a},useId:function(){var e=_t(),t=Pe.identifierPrefix;if(Le){var a=$n,l=Wn;a=(l&~(1<<32-ot(l)-1)).toString(32)+a,t=""+t+"R"+a,a=Ju++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=HA++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:qc,useFormState:zg,useActionState:zg,useOptimistic:function(e){var t=_t();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Dc.bind(null,Re,!0,a),a.dispatch=t,[e,t]},useMemoCache:bc,useCacheRefresh:function(){return _t().memoizedState=GA.bind(null,Re)}},ap={readContext:Dt,use:Pu,useCallback:Zg,useContext:Dt,useEffect:Yg,useImperativeHandle:Qg,useInsertionEffect:Gg,useLayoutEffect:Vg,useMemo:Kg,useReducer:Iu,useRef:_g,useState:function(){return Iu(na)},useDebugValue:Mc,useDeferredValue:function(e,t){var a=ft();return kg(a,Qe.memoizedState,e,t)},useTransition:function(){var e=Iu(na)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:Os(e),t]},useSyncExternalStore:xg,useId:Ig,useHostTransitionStatus:qc,useFormState:Ng,useActionState:Ng,useOptimistic:function(e,t){var a=ft();return qg(a,Qe,e,t)},useMemoCache:bc,useCacheRefresh:Wg},XA={readContext:Dt,use:Pu,useCallback:Zg,useContext:Dt,useEffect:Yg,useImperativeHandle:Qg,useInsertionEffect:Gg,useLayoutEffect:Vg,useMemo:Kg,useReducer:xc,useRef:_g,useState:function(){return xc(na)},useDebugValue:Mc,useDeferredValue:function(e,t){var a=ft();return Qe===null?Tc(a,e,t):kg(a,Qe.memoizedState,e,t)},useTransition:function(){var e=xc(na)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:Os(e),t]},useSyncExternalStore:xg,useId:Ig,useHostTransitionStatus:qc,useFormState:jg,useActionState:jg,useOptimistic:function(e,t){var a=ft();return Qe!==null?qg(a,Qe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:bc,useCacheRefresh:Wg},rl=null,Us=0;function nr(e){var t=Us;return Us+=1,rl===null&&(rl=[]),gg(rl,e,t)}function zs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ar(e,t){throw t.$$typeof===T?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ip(e){var t=e._init;return t(e._payload)}function lp(e){function t(z,C){if(e){var j=z.deletions;j===null?(z.deletions=[C],z.flags|=16):j.push(C)}}function a(z,C){if(!e)return null;for(;C!==null;)t(z,C),C=C.sibling;return null}function l(z){for(var C=new Map;z!==null;)z.key!==null?C.set(z.key,z):C.set(z.index,z),z=z.sibling;return C}function r(z,C){return z=In(z,C),z.index=0,z.sibling=null,z}function f(z,C,j){return z.index=j,e?(j=z.alternate,j!==null?(j=j.index,j<C?(z.flags|=67108866,C):j):(z.flags|=67108866,C)):(z.flags|=1048576,C)}function m(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function b(z,C,j,W){return C===null||C.tag!==6?(C=Po(j,z.mode,W),C.return=z,C):(C=r(C,j),C.return=z,C)}function R(z,C,j,W){var oe=j.type;return oe===E?P(z,C,j.props.children,W,j.key):C!==null&&(C.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===N&&ip(oe)===C.type)?(C=r(C,j.props),zs(C,j),C.return=z,C):(C=Lu(j.type,j.key,j.props,null,z.mode,W),zs(C,j),C.return=z,C)}function Y(z,C,j,W){return C===null||C.tag!==4||C.stateNode.containerInfo!==j.containerInfo||C.stateNode.implementation!==j.implementation?(C=Io(j,z.mode,W),C.return=z,C):(C=r(C,j.children||[]),C.return=z,C)}function P(z,C,j,W,oe){return C===null||C.tag!==7?(C=ci(j,z.mode,W,oe),C.return=z,C):(C=r(C,j),C.return=z,C)}function te(z,C,j){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Po(""+C,z.mode,j),C.return=z,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case v:return j=Lu(C.type,C.key,C.props,null,z.mode,j),zs(j,C),j.return=z,j;case D:return C=Io(C,z.mode,j),C.return=z,C;case N:var W=C._init;return C=W(C._payload),te(z,C,j)}if(me(C)||se(C))return C=ci(C,z.mode,j,null),C.return=z,C;if(typeof C.then=="function")return te(z,nr(C),j);if(C.$$typeof===X)return te(z,Xu(z,C),j);ar(z,C)}return null}function G(z,C,j,W){var oe=C!==null?C.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return oe!==null?null:b(z,C,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case v:return j.key===oe?R(z,C,j,W):null;case D:return j.key===oe?Y(z,C,j,W):null;case N:return oe=j._init,j=oe(j._payload),G(z,C,j,W)}if(me(j)||se(j))return oe!==null?null:P(z,C,j,W,null);if(typeof j.then=="function")return G(z,C,nr(j),W);if(j.$$typeof===X)return G(z,C,Xu(z,j),W);ar(z,j)}return null}function V(z,C,j,W,oe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(j)||null,b(C,z,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return z=z.get(W.key===null?j:W.key)||null,R(C,z,W,oe);case D:return z=z.get(W.key===null?j:W.key)||null,Y(C,z,W,oe);case N:var qe=W._init;return W=qe(W._payload),V(z,C,j,W,oe)}if(me(W)||se(W))return z=z.get(j)||null,P(C,z,W,oe,null);if(typeof W.then=="function")return V(z,C,j,nr(W),oe);if(W.$$typeof===X)return V(z,C,j,Xu(C,W),oe);ar(C,W)}return null}function we(z,C,j,W){for(var oe=null,qe=null,de=C,be=C=0,xt=null;de!==null&&be<j.length;be++){de.index>be?(xt=de,de=null):xt=de.sibling;var He=G(z,de,j[be],W);if(He===null){de===null&&(de=xt);break}e&&de&&He.alternate===null&&t(z,de),C=f(He,C,be),qe===null?oe=He:qe.sibling=He,qe=He,de=xt}if(be===j.length)return a(z,de),Le&&hi(z,be),oe;if(de===null){for(;be<j.length;be++)de=te(z,j[be],W),de!==null&&(C=f(de,C,be),qe===null?oe=de:qe.sibling=de,qe=de);return Le&&hi(z,be),oe}for(de=l(de);be<j.length;be++)xt=V(de,z,be,j[be],W),xt!==null&&(e&&xt.alternate!==null&&de.delete(xt.key===null?be:xt.key),C=f(xt,C,be),qe===null?oe=xt:qe.sibling=xt,qe=xt);return e&&de.forEach(function(Ya){return t(z,Ya)}),Le&&hi(z,be),oe}function ye(z,C,j,W){if(j==null)throw Error(u(151));for(var oe=null,qe=null,de=C,be=C=0,xt=null,He=j.next();de!==null&&!He.done;be++,He=j.next()){de.index>be?(xt=de,de=null):xt=de.sibling;var Ya=G(z,de,He.value,W);if(Ya===null){de===null&&(de=xt);break}e&&de&&Ya.alternate===null&&t(z,de),C=f(Ya,C,be),qe===null?oe=Ya:qe.sibling=Ya,qe=Ya,de=xt}if(He.done)return a(z,de),Le&&hi(z,be),oe;if(de===null){for(;!He.done;be++,He=j.next())He=te(z,He.value,W),He!==null&&(C=f(He,C,be),qe===null?oe=He:qe.sibling=He,qe=He);return Le&&hi(z,be),oe}for(de=l(de);!He.done;be++,He=j.next())He=V(de,z,be,He.value,W),He!==null&&(e&&He.alternate!==null&&de.delete(He.key===null?be:He.key),C=f(He,C,be),qe===null?oe=He:qe.sibling=He,qe=He);return e&&de.forEach(function(Qb){return t(z,Qb)}),Le&&hi(z,be),oe}function Ke(z,C,j,W){if(typeof j=="object"&&j!==null&&j.type===E&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case v:e:{for(var oe=j.key;C!==null;){if(C.key===oe){if(oe=j.type,oe===E){if(C.tag===7){a(z,C.sibling),W=r(C,j.props.children),W.return=z,z=W;break e}}else if(C.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===N&&ip(oe)===C.type){a(z,C.sibling),W=r(C,j.props),zs(W,j),W.return=z,z=W;break e}a(z,C);break}else t(z,C);C=C.sibling}j.type===E?(W=ci(j.props.children,z.mode,W,j.key),W.return=z,z=W):(W=Lu(j.type,j.key,j.props,null,z.mode,W),zs(W,j),W.return=z,z=W)}return m(z);case D:e:{for(oe=j.key;C!==null;){if(C.key===oe)if(C.tag===4&&C.stateNode.containerInfo===j.containerInfo&&C.stateNode.implementation===j.implementation){a(z,C.sibling),W=r(C,j.children||[]),W.return=z,z=W;break e}else{a(z,C);break}else t(z,C);C=C.sibling}W=Io(j,z.mode,W),W.return=z,z=W}return m(z);case N:return oe=j._init,j=oe(j._payload),Ke(z,C,j,W)}if(me(j))return we(z,C,j,W);if(se(j)){if(oe=se(j),typeof oe!="function")throw Error(u(150));return j=oe.call(j),ye(z,C,j,W)}if(typeof j.then=="function")return Ke(z,C,nr(j),W);if(j.$$typeof===X)return Ke(z,C,Xu(z,j),W);ar(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,C!==null&&C.tag===6?(a(z,C.sibling),W=r(C,j),W.return=z,z=W):(a(z,C),W=Po(j,z.mode,W),W.return=z,z=W),m(z)):a(z,C)}return function(z,C,j,W){try{Us=0;var oe=Ke(z,C,j,W);return rl=null,oe}catch(de){if(de===Es||de===Zu)throw de;var qe=Wt(29,de,null,z.mode);return qe.lanes=W,qe.return=z,qe}finally{}}}var ol=lp(!0),sp=lp(!1),vn=F(null),Yn=null;function Ma(e){var t=e.alternate;le(mt,mt.current&1),le(vn,e),Yn===null&&(t===null||il.current!==null||t.memoizedState!==null)&&(Yn=e)}function up(e){if(e.tag===22){if(le(mt,mt.current),le(vn,e),Yn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Yn=e)}}else Ta()}function Ta(){le(mt,mt.current),le(vn,vn.current)}function aa(e){ee(vn),Yn===e&&(Yn=null),ee(mt)}var mt=F(0);function ir(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||bf(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Oc(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:A({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bc={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=nn(),r=xa(l);r.payload=t,a!=null&&(r.callback=a),t=Sa(e,r,l),t!==null&&(an(t,e,l),Ts(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=nn(),r=xa(l);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=Sa(e,r,l),t!==null&&(an(t,e,l),Ts(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=nn(),l=xa(a);l.tag=2,t!=null&&(l.callback=t),t=Sa(e,l,a),t!==null&&(an(t,e,a),Ts(t,e,a))}};function rp(e,t,a,l,r,f,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,m):t.prototype&&t.prototype.isPureReactComponent?!ms(a,l)||!ms(r,f):!0}function op(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Bc.enqueueReplaceState(t,t.state,null)}function Ai(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=A({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}var lr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function cp(e){lr(e)}function fp(e){console.error(e)}function hp(e){lr(e)}function sr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function dp(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Cc(e,t,a){return a=xa(a),a.tag=3,a.payload={element:null},a.callback=function(){sr(e,t)},a}function gp(e){return e=xa(e),e.tag=3,e}function pp(e,t,a,l){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var f=l.value;e.payload=function(){return r(f)},e.callback=function(){dp(t,a,l)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){dp(t,a,l),typeof r!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function QA(e,t,a,l,r){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&ws(t,a,r,!0),a=vn.current,a!==null){switch(a.tag){case 13:return Yn===null?nf():a.alternate===null&&at===0&&(at=3),a.flags&=-257,a.flags|=65536,a.lanes=r,l===uc?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),lf(e,l,r)),!1;case 22:return a.flags|=65536,l===uc?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),lf(e,l,r)),!1}throw Error(u(435,a.tag))}return lf(e,l,r),nf(),!1}if(Le)return t=vn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,l!==ec&&(e=Error(u(422),{cause:l}),bs(gn(e,a)))):(l!==ec&&(t=Error(u(423),{cause:l}),bs(gn(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,l=gn(l,a),r=Cc(e.stateNode,l,r),cc(e,r),at!==4&&(at=2)),!1;var f=Error(u(520),{cause:l});if(f=gn(f,a),Gs===null?Gs=[f]:Gs.push(f),at!==4&&(at=2),t===null)return!0;l=gn(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=Cc(a.stateNode,l,e),cc(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ca===null||!Ca.has(f))))return a.flags|=65536,r&=-r,a.lanes|=r,r=gp(r),pp(r,e,a,l),cc(a,r),!1}a=a.return}while(a!==null);return!1}var mp=Error(u(461)),bt=!1;function Mt(e,t,a,l){t.child=e===null?sp(t,null,a,l):ol(t,e.child,a,l)}function yp(e,t,a,l,r){a=a.render;var f=t.ref;if("ref"in l){var m={};for(var b in l)b!=="ref"&&(m[b]=l[b])}else m=l;return mi(t),l=pc(e,t,a,m,f,r),b=mc(),e!==null&&!bt?(yc(e,t,r),ia(e,t,r)):(Le&&b&&Wo(t),t.flags|=1,Mt(e,t,l,r),t.child)}function vp(e,t,a,l,r){if(e===null){var f=a.type;return typeof f=="function"&&!Jo(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,Ap(e,t,f,l,r)):(e=Lu(a.type,null,l,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Yc(e,r)){var m=f.memoizedProps;if(a=a.compare,a=a!==null?a:ms,a(m,l)&&e.ref===t.ref)return ia(e,t,r)}return t.flags|=1,e=In(f,l),e.ref=t.ref,e.return=t,t.child=e}function Ap(e,t,a,l,r){if(e!==null){var f=e.memoizedProps;if(ms(f,l)&&e.ref===t.ref)if(bt=!1,t.pendingProps=l=f,Yc(e,r))(e.flags&131072)!==0&&(bt=!0);else return t.lanes=e.lanes,ia(e,t,r)}return Uc(e,t,a,l,r)}function bp(e,t,a){var l=t.pendingProps,r=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,e!==null){for(r=t.child=e.child,f=0;r!==null;)f=f|r.lanes|r.childLanes,r=r.sibling;t.childLanes=f&~l}else t.childLanes=0,t.child=null;return wp(e,t,l,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qu(t,f!==null?f.cachePool:null),f!==null?Ag(t,f):hc(),up(t);else return t.lanes=t.childLanes=536870912,wp(e,t,f!==null?f.baseLanes|a:a,a)}else f!==null?(Qu(t,f.cachePool),Ag(t,f),Ta(),t.memoizedState=null):(e!==null&&Qu(t,null),hc(),Ta());return Mt(e,t,r,a),t.child}function wp(e,t,a,l){var r=sc();return r=r===null?null:{parent:pt._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&Qu(t,null),hc(),up(t),e!==null&&ws(e,t,l,!0),null}function ur(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(u(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Uc(e,t,a,l,r){return mi(t),a=pc(e,t,a,l,void 0,r),l=mc(),e!==null&&!bt?(yc(e,t,r),ia(e,t,r)):(Le&&l&&Wo(t),t.flags|=1,Mt(e,t,a,r),t.child)}function xp(e,t,a,l,r,f){return mi(t),t.updateQueue=null,a=wg(t,l,a,r),bg(e),l=mc(),e!==null&&!bt?(yc(e,t,f),ia(e,t,f)):(Le&&l&&Wo(t),t.flags|=1,Mt(e,t,a,f),t.child)}function Sp(e,t,a,l,r){if(mi(t),t.stateNode===null){var f=$i,m=a.contextType;typeof m=="object"&&m!==null&&(f=Dt(m)),f=new a(l,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=l,f.state=t.memoizedState,f.refs={},rc(t),m=a.contextType,f.context=typeof m=="object"&&m!==null?Dt(m):$i,f.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Oc(t,a,m,l),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&Bc.enqueueReplaceState(f,f.state,null),qs(t,l,f,r),Rs(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){f=t.stateNode;var b=t.memoizedProps,R=Ai(a,b);f.props=R;var Y=f.context,P=a.contextType;m=$i,typeof P=="object"&&P!==null&&(m=Dt(P));var te=a.getDerivedStateFromProps;P=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,P||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||Y!==m)&&op(t,f,l,m),wa=!1;var G=t.memoizedState;f.state=G,qs(t,l,f,r),Rs(),Y=t.memoizedState,b||G!==Y||wa?(typeof te=="function"&&(Oc(t,a,te,l),Y=t.memoizedState),(R=wa||rp(t,a,R,l,G,Y,m))?(P||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=Y),f.props=l,f.state=Y,f.context=m,l=R):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{f=t.stateNode,oc(e,t),m=t.memoizedProps,P=Ai(a,m),f.props=P,te=t.pendingProps,G=f.context,Y=a.contextType,R=$i,typeof Y=="object"&&Y!==null&&(R=Dt(Y)),b=a.getDerivedStateFromProps,(Y=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==te||G!==R)&&op(t,f,l,R),wa=!1,G=t.memoizedState,f.state=G,qs(t,l,f,r),Rs();var V=t.memoizedState;m!==te||G!==V||wa||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof b=="function"&&(Oc(t,a,b,l),V=t.memoizedState),(P=wa||rp(t,a,P,l,G,V,R)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(Y||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,V,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,V,R)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=V),f.props=l,f.state=V,f.context=R,l=P):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),l=!1)}return f=l,ur(e,t),l=(t.flags&128)!==0,f||l?(f=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&l?(t.child=ol(t,e.child,null,r),t.child=ol(t,null,a,r)):Mt(e,t,a,r),t.memoizedState=f.state,e=t.child):e=ia(e,t,r),e}function Ep(e,t,a,l){return As(),t.flags|=256,Mt(e,t,a,l),t.child}var zc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nc(e){return{baseLanes:e,cachePool:fg()}}function Hc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=An),e}function Mp(e,t,a){var l=t.pendingProps,r=!1,f=(t.flags&128)!==0,m;if((m=f)||(m=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),m&&(r=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Le){if(r?Ma(t):Ta(),Le){var b=nt,R;if(R=b){e:{for(R=b,b=Ln;R.nodeType!==8;){if(!b){b=null;break e}if(R=On(R.nextSibling),R===null){b=null;break e}}b=R}b!==null?(t.memoizedState={dehydrated:b,treeContext:fi!==null?{id:Wn,overflow:$n}:null,retryLane:536870912,hydrationErrors:null},R=Wt(18,null,null,0),R.stateNode=b,R.return=t,t.child=R,Nt=t,nt=null,R=!0):R=!1}R||gi(t)}if(b=t.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return bf(b)?t.lanes=32:t.lanes=536870912,null;aa(t)}return b=l.children,l=l.fallback,r?(Ta(),r=t.mode,b=rr({mode:"hidden",children:b},r),l=ci(l,r,a,null),b.return=t,l.return=t,b.sibling=l,t.child=b,r=t.child,r.memoizedState=Nc(a),r.childLanes=Hc(e,m,a),t.memoizedState=zc,l):(Ma(t),jc(t,b))}if(R=e.memoizedState,R!==null&&(b=R.dehydrated,b!==null)){if(f)t.flags&256?(Ma(t),t.flags&=-257,t=_c(e,t,a)):t.memoizedState!==null?(Ta(),t.child=e.child,t.flags|=128,t=null):(Ta(),r=l.fallback,b=t.mode,l=rr({mode:"visible",children:l.children},b),r=ci(r,b,a,null),r.flags|=2,l.return=t,r.return=t,l.sibling=r,t.child=l,ol(t,e.child,null,a),l=t.child,l.memoizedState=Nc(a),l.childLanes=Hc(e,m,a),t.memoizedState=zc,t=r);else if(Ma(t),bf(b)){if(m=b.nextSibling&&b.nextSibling.dataset,m)var Y=m.dgst;m=Y,l=Error(u(419)),l.stack="",l.digest=m,bs({value:l,source:null,stack:null}),t=_c(e,t,a)}else if(bt||ws(e,t,a,!1),m=(a&e.childLanes)!==0,bt||m){if(m=Pe,m!==null&&(l=a&-a,l=(l&42)!==0?1:O(l),l=(l&(m.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Wi(e,l),an(m,e,l),mp;b.data==="$?"||nf(),t=_c(e,t,a)}else b.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=R.treeContext,nt=On(b.nextSibling),Nt=t,Le=!0,di=null,Ln=!1,e!==null&&(mn[yn++]=Wn,mn[yn++]=$n,mn[yn++]=fi,Wn=e.id,$n=e.overflow,fi=t),t=jc(t,l.children),t.flags|=4096);return t}return r?(Ta(),r=l.fallback,b=t.mode,R=e.child,Y=R.sibling,l=In(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,Y!==null?r=In(Y,r):(r=ci(r,b,a,null),r.flags|=2),r.return=t,l.return=t,l.sibling=r,t.child=l,l=r,r=t.child,b=e.child.memoizedState,b===null?b=Nc(a):(R=b.cachePool,R!==null?(Y=pt._currentValue,R=R.parent!==Y?{parent:Y,pool:Y}:R):R=fg(),b={baseLanes:b.baseLanes|a,cachePool:R}),r.memoizedState=b,r.childLanes=Hc(e,m,a),t.memoizedState=zc,l):(Ma(t),a=e.child,e=a.sibling,a=In(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function jc(e,t){return t=rr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function rr(e,t){return e=Wt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function _c(e,t,a){return ol(t,e.child,null,a),e=jc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tp(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),nc(e.return,t,a)}function Lc(e,t,a,l,r){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:r}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=r)}function Rp(e,t,a){var l=t.pendingProps,r=l.revealOrder,f=l.tail;if(Mt(e,t,l.children,a),l=mt.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tp(e,a,t);else if(e.tag===19)Tp(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(le(mt,l),r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&ir(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),Lc(t,!1,r,a,f);break;case"backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ir(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}Lc(t,!0,a,null,f);break;case"together":Lc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ba|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ws(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,a=In(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=In(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Yc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function ZA(e,t,a){switch(t.tag){case 3:Ge(t,t.stateNode.containerInfo),ba(t,pt,e.memoizedState.cache),As();break;case 27:case 5:jn(t);break;case 4:Ge(t,t.stateNode.containerInfo);break;case 10:ba(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ma(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Mp(e,t,a):(Ma(t),e=ia(e,t,a),e!==null?e.sibling:null);Ma(t);break;case 19:var r=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(ws(e,t,a,!1),l=(a&t.childLanes)!==0),r){if(l)return Rp(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),le(mt,mt.current),l)break;return null;case 22:case 23:return t.lanes=0,bp(e,t,a);case 24:ba(t,pt,e.memoizedState.cache)}return ia(e,t,a)}function qp(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)bt=!0;else{if(!Yc(e,a)&&(t.flags&128)===0)return bt=!1,ZA(e,t,a);bt=(e.flags&131072)!==0}else bt=!1,Le&&(t.flags&1048576)!==0&&ig(t,Gu,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,r=l._init;if(l=r(l._payload),t.type=l,typeof l=="function")Jo(l)?(e=Ai(l,e),t.tag=1,t=Sp(null,t,l,e,a)):(t.tag=0,t=Uc(null,t,l,e,a));else{if(l!=null){if(r=l.$$typeof,r===ae){t.tag=11,t=yp(null,t,l,e,a);break e}else if(r===B){t.tag=14,t=vp(null,t,l,e,a);break e}}throw t=ve(l)||l,Error(u(306,t,""))}}return t;case 0:return Uc(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,r=Ai(l,t.pendingProps),Sp(e,t,l,r,a);case 3:e:{if(Ge(t,t.stateNode.containerInfo),e===null)throw Error(u(387));l=t.pendingProps;var f=t.memoizedState;r=f.element,oc(e,t),qs(t,l,null,a);var m=t.memoizedState;if(l=m.cache,ba(t,pt,l),l!==f.cache&&ac(t,[pt],a,!0),Rs(),l=m.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Ep(e,t,l,a);break e}else if(l!==r){r=gn(Error(u(424)),t),bs(r),t=Ep(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(nt=On(e.firstChild),Nt=t,Le=!0,di=null,Ln=!0,a=sp(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(As(),l===r){t=ia(e,t,a);break e}Mt(e,t,l,a)}t=t.child}return t;case 26:return ur(e,t),e===null?(a=Cm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Le||(a=t.type,e=t.pendingProps,l=xr(Ae.current).createElement(a),l[Se]=t,l[_e]=e,Rt(l,a,e),At(l),t.stateNode=l):t.memoizedState=Cm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return jn(t),e===null&&Le&&(l=t.stateNode=Dm(t.type,t.pendingProps,Ae.current),Nt=t,Ln=!0,r=nt,Na(t.type)?(wf=r,nt=On(l.firstChild)):nt=r),Mt(e,t,t.pendingProps.children,a),ur(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Le&&((r=l=nt)&&(l=Ab(l,t.type,t.pendingProps,Ln),l!==null?(t.stateNode=l,Nt=t,nt=On(l.firstChild),Ln=!1,r=!0):r=!1),r||gi(t)),jn(t),r=t.type,f=t.pendingProps,m=e!==null?e.memoizedProps:null,l=f.children,yf(r,f)?l=null:m!==null&&yf(r,m)&&(t.flags|=32),t.memoizedState!==null&&(r=pc(e,t,jA,null,null,a),Ps._currentValue=r),ur(e,t),Mt(e,t,l,a),t.child;case 6:return e===null&&Le&&((e=a=nt)&&(a=bb(a,t.pendingProps,Ln),a!==null?(t.stateNode=a,Nt=t,nt=null,e=!0):e=!1),e||gi(t)),null;case 13:return Mp(e,t,a);case 4:return Ge(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ol(t,null,l,a):Mt(e,t,l,a),t.child;case 11:return yp(e,t,t.type,t.pendingProps,a);case 7:return Mt(e,t,t.pendingProps,a),t.child;case 8:return Mt(e,t,t.pendingProps.children,a),t.child;case 12:return Mt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,ba(t,t.type,l.value),Mt(e,t,l.children,a),t.child;case 9:return r=t.type._context,l=t.pendingProps.children,mi(t),r=Dt(r),l=l(r),t.flags|=1,Mt(e,t,l,a),t.child;case 14:return vp(e,t,t.type,t.pendingProps,a);case 15:return Ap(e,t,t.type,t.pendingProps,a);case 19:return Rp(e,t,a);case 31:return l=t.pendingProps,a=t.mode,l={mode:l.mode,children:l.children},e===null?(a=rr(l,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=In(e.child,l),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return bp(e,t,a);case 24:return mi(t),l=Dt(pt),e===null?(r=sc(),r===null&&(r=Pe,f=ic(),r.pooledCache=f,f.refCount++,f!==null&&(r.pooledCacheLanes|=a),r=f),t.memoizedState={parent:l,cache:r},rc(t),ba(t,pt,r)):((e.lanes&a)!==0&&(oc(e,t),qs(t,null,null,a),Rs()),r=e.memoizedState,f=t.memoizedState,r.parent!==l?(r={parent:l,cache:l},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),ba(t,pt,l)):(l=f.cache,ba(t,pt,l),l!==r.cache&&ac(t,[pt],a,!0))),Mt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function la(e){e.flags|=4}function Dp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jm(t)){if(t=vn.current,t!==null&&((Ue&4194048)===Ue?Yn!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||t!==Yn))throw Ms=uc,hg;e.flags|=8192}}function or(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?li():536870912,e.lanes|=t,dl|=t)}function Ns(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,l|=r.subtreeFlags&65011712,l|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function KA(e,t,a){var l=t.pendingProps;switch($o(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return et(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ta(pt),Ft(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(vs(t)?la(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ug())),et(t),null;case 26:return a=t.memoizedState,e===null?(la(t),a!==null?(et(t),Dp(t,a)):(et(t),t.flags&=-16777217)):a?a!==e.memoizedState?(la(t),et(t),Dp(t,a)):(et(t),t.flags&=-16777217):(e.memoizedProps!==l&&la(t),et(t),t.flags&=-16777217),null;case 27:Ut(t),a=Ae.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&la(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return et(t),null}e=ce.current,vs(t)?lg(t):(e=Dm(r,l,a),t.stateNode=e,la(t))}return et(t),null;case 5:if(Ut(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&la(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return et(t),null}if(e=ce.current,vs(t))lg(t);else{switch(r=xr(Ae.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?r.createElement("select",{is:l.is}):r.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?r.createElement(a,{is:l.is}):r.createElement(a)}}e[Se]=t,e[_e]=l;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(Rt(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&la(t)}}return et(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&la(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(u(166));if(e=Ae.current,vs(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,r=Nt,r!==null)switch(r.tag){case 27:case 5:l=r.memoizedProps}e[Se]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||xm(e.nodeValue,a)),e||gi(t)}else e=xr(e).createTextNode(l),e[Se]=t,t.stateNode=e}return et(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=vs(t),l!==null&&l.dehydrated!==null){if(e===null){if(!r)throw Error(u(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(u(317));r[Se]=t}else As(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),r=!1}else r=ug(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(aa(t),t):(aa(t),null)}if(aa(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=t.child,r=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(r=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==r&&(l.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),or(t,t.updateQueue),et(t),null;case 4:return Ft(),e===null&&hf(t.stateNode.containerInfo),et(t),null;case 10:return ta(t.type),et(t),null;case 19:if(ee(mt),r=t.memoizedState,r===null)return et(t),null;if(l=(t.flags&128)!==0,f=r.rendering,f===null)if(l)Ns(r,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=ir(e),f!==null){for(t.flags|=128,Ns(r,!1),e=f.updateQueue,t.updateQueue=e,or(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)ag(a,e),a=a.sibling;return le(mt,mt.current&1|2),t.child}e=e.sibling}r.tail!==null&&Be()>hr&&(t.flags|=128,l=!0,Ns(r,!1),t.lanes=4194304)}else{if(!l)if(e=ir(f),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,or(t,e),Ns(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!Le)return et(t),null}else 2*Be()-r.renderingStartTime>hr&&a!==536870912&&(t.flags|=128,l=!0,Ns(r,!1),t.lanes=4194304);r.isBackwards?(f.sibling=t.child,t.child=f):(e=r.last,e!==null?e.sibling=f:t.child=f,r.last=f)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Be(),t.sibling=null,e=mt.current,le(mt,l?e&1|2:e&1),t):(et(t),null);case 22:case 23:return aa(t),dc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),a=t.updateQueue,a!==null&&or(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&ee(yi),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ta(pt),et(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function kA(e,t){switch($o(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ta(pt),Ft(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ut(t),null;case 13:if(aa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));As()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(mt),null;case 4:return Ft(),null;case 10:return ta(t.type),null;case 22:case 23:return aa(t),dc(),e!==null&&ee(yi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ta(pt),null;case 25:return null;default:return null}}function Op(e,t){switch($o(t),t.tag){case 3:ta(pt),Ft();break;case 26:case 27:case 5:Ut(t);break;case 4:Ft();break;case 13:aa(t);break;case 19:ee(mt);break;case 10:ta(t.type);break;case 22:case 23:aa(t),dc(),e!==null&&ee(yi);break;case 24:ta(pt)}}function Hs(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var r=l.next;a=r;do{if((a.tag&e)===e){l=void 0;var f=a.create,m=a.inst;l=f(),m.destroy=l}a=a.next}while(a!==r)}}catch(b){Je(t,t.return,b)}}function Ra(e,t,a){try{var l=t.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var f=r.next;l=f;do{if((l.tag&e)===e){var m=l.inst,b=m.destroy;if(b!==void 0){m.destroy=void 0,r=t;var R=a,Y=b;try{Y()}catch(P){Je(r,R,P)}}}l=l.next}while(l!==f)}}catch(P){Je(t,t.return,P)}}function Bp(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{vg(t,a)}catch(l){Je(e,e.return,l)}}}function Cp(e,t,a){a.props=Ai(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Je(e,t,l)}}function js(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(r){Je(e,t,r)}}function Gn(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(r){Je(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){Je(e,t,r)}else a.current=null}function Up(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(r){Je(e,e.return,r)}}function Gc(e,t,a){try{var l=e.stateNode;gb(l,e.type,a,t),l[_e]=t}catch(r){Je(e,e.return,r)}}function zp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Na(e.type)||e.tag===4}function Vc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Na(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xc(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=wr));else if(l!==4&&(l===27&&Na(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Xc(e,t,a),e=e.sibling;e!==null;)Xc(e,t,a),e=e.sibling}function cr(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Na(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(cr(e,t,a),e=e.sibling;e!==null;)cr(e,t,a),e=e.sibling}function Np(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Rt(t,l,a),t[Se]=e,t[_e]=a}catch(f){Je(e,e.return,f)}}var sa=!1,rt=!1,Qc=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,wt=null;function FA(e,t){if(e=e.containerInfo,pf=qr,e=kd(e),Vo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var r=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var m=0,b=-1,R=-1,Y=0,P=0,te=e,G=null;t:for(;;){for(var V;te!==a||r!==0&&te.nodeType!==3||(b=m+r),te!==f||l!==0&&te.nodeType!==3||(R=m+l),te.nodeType===3&&(m+=te.nodeValue.length),(V=te.firstChild)!==null;)G=te,te=V;for(;;){if(te===e)break t;if(G===a&&++Y===r&&(b=m),G===f&&++P===l&&(R=m),(V=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=V}a=b===-1||R===-1?null:{start:b,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(mf={focusedElem:e,selectionRange:a},qr=!1,wt=t;wt!==null;)if(t=wt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,wt=e;else for(;wt!==null;){switch(t=wt,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,r=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var we=Ai(a.type,r,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(we,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Je(a,a.return,ye)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Af(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Af(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,wt=e;break}wt=t.return}}function jp(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qa(e,a),l&4&&Hs(5,a);break;case 1:if(qa(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Je(a,a.return,m)}else{var r=Ai(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Je(a,a.return,m)}}l&64&&Bp(a),l&512&&js(a,a.return);break;case 3:if(qa(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{vg(e,t)}catch(m){Je(a,a.return,m)}}break;case 27:t===null&&l&4&&Np(a);case 26:case 5:qa(e,a),t===null&&l&4&&Up(a),l&512&&js(a,a.return);break;case 12:qa(e,a);break;case 13:qa(e,a),l&4&&Yp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ab.bind(null,a),wb(e,a))));break;case 22:if(l=a.memoizedState!==null||sa,!l){t=t!==null&&t.memoizedState!==null||rt,r=sa;var f=rt;sa=l,(rt=t)&&!f?Da(e,a,(a.subtreeFlags&8772)!==0):qa(e,a),sa=r,rt=f}break;case 30:break;default:qa(e,a)}}function _p(e){var t=e.alternate;t!==null&&(e.alternate=null,_p(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&So(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var We=null,Lt=!1;function ua(e,t,a){for(a=a.child;a!==null;)Lp(e,t,a),a=a.sibling}function Lp(e,t,a){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(En,a)}catch{}switch(a.tag){case 26:rt||Gn(a,t),ua(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||Gn(a,t);var l=We,r=Lt;Na(a.type)&&(We=a.stateNode,Lt=!1),ua(e,t,a),Ks(a.stateNode),We=l,Lt=r;break;case 5:rt||Gn(a,t);case 6:if(l=We,r=Lt,We=null,ua(e,t,a),We=l,Lt=r,We!==null)if(Lt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(a.stateNode)}catch(f){Je(a,t,f)}else try{We.removeChild(a.stateNode)}catch(f){Je(a,t,f)}break;case 18:We!==null&&(Lt?(e=We,Rm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),eu(e)):Rm(We,a.stateNode));break;case 4:l=We,r=Lt,We=a.stateNode.containerInfo,Lt=!0,ua(e,t,a),We=l,Lt=r;break;case 0:case 11:case 14:case 15:rt||Ra(2,a,t),rt||Ra(4,a,t),ua(e,t,a);break;case 1:rt||(Gn(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Cp(a,t,l)),ua(e,t,a);break;case 21:ua(e,t,a);break;case 22:rt=(l=rt)||a.memoizedState!==null,ua(e,t,a),rt=l;break;default:ua(e,t,a)}}function Yp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{eu(e)}catch(a){Je(t,t.return,a)}}function JA(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hp),t;default:throw Error(u(435,e.tag))}}function Zc(e,t){var a=JA(e);t.forEach(function(l){var r=ib.bind(null,e,l);a.has(l)||(a.add(l),l.then(r,r))})}function $t(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var r=a[l],f=e,m=t,b=m;e:for(;b!==null;){switch(b.tag){case 27:if(Na(b.type)){We=b.stateNode,Lt=!1;break e}break;case 5:We=b.stateNode,Lt=!1;break e;case 3:case 4:We=b.stateNode.containerInfo,Lt=!0;break e}b=b.return}if(We===null)throw Error(u(160));Lp(f,m,r),We=null,Lt=!1,f=r.alternate,f!==null&&(f.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Gp(t,e),t=t.sibling}var Dn=null;function Gp(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),en(e),l&4&&(Ra(3,e,e.return),Hs(3,e),Ra(5,e,e.return));break;case 1:$t(t,e),en(e),l&512&&(rt||a===null||Gn(a,a.return)),l&64&&sa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var r=Dn;if($t(t,e),en(e),l&512&&(rt||a===null||Gn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(l){case"title":f=r.getElementsByTagName("title")[0],(!f||f[us]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=r.createElement(l),r.head.insertBefore(f,r.querySelector("head > title"))),Rt(f,l,a),f[Se]=e,At(f),l=f;break e;case"link":var m=Nm("link","href",r).get(l+(a.href||""));if(m){for(var b=0;b<m.length;b++)if(f=m[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(b,1);break t}}f=r.createElement(l),Rt(f,l,a),r.head.appendChild(f);break;case"meta":if(m=Nm("meta","content",r).get(l+(a.content||""))){for(b=0;b<m.length;b++)if(f=m[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(b,1);break t}}f=r.createElement(l),Rt(f,l,a),r.head.appendChild(f);break;default:throw Error(u(468,l))}f[Se]=e,At(f),l=f}e.stateNode=l}else Hm(r,e.type,e.stateNode);else e.stateNode=zm(r,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Hm(r,e.type,e.stateNode):zm(r,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Gc(e,e.memoizedProps,a.memoizedProps)}break;case 27:$t(t,e),en(e),l&512&&(rt||a===null||Gn(a,a.return)),a!==null&&l&4&&Gc(e,e.memoizedProps,a.memoizedProps);break;case 5:if($t(t,e),en(e),l&512&&(rt||a===null||Gn(a,a.return)),e.flags&32){r=e.stateNode;try{Zi(r,"")}catch(V){Je(e,e.return,V)}}l&4&&e.stateNode!=null&&(r=e.memoizedProps,Gc(e,r,a!==null?a.memoizedProps:r)),l&1024&&(Qc=!0);break;case 6:if($t(t,e),en(e),l&4){if(e.stateNode===null)throw Error(u(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(V){Je(e,e.return,V)}}break;case 3:if(Mr=null,r=Dn,Dn=Sr(t.containerInfo),$t(t,e),Dn=r,en(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eu(t.containerInfo)}catch(V){Je(e,e.return,V)}Qc&&(Qc=!1,Vp(e));break;case 4:l=Dn,Dn=Sr(e.stateNode.containerInfo),$t(t,e),en(e),Dn=l;break;case 12:$t(t,e),en(e);break;case 13:$t(t,e),en(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ic=Be()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zc(e,l)));break;case 22:r=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,Y=sa,P=rt;if(sa=Y||r,rt=P||R,$t(t,e),rt=P,sa=Y,en(e),l&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||R||sa||rt||bi(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){R=a=t;try{if(f=R.stateNode,r)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=R.stateNode;var te=R.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(V){Je(R,R.return,V)}}}else if(t.tag===6){if(a===null){R=t;try{R.stateNode.nodeValue=r?"":R.memoizedProps}catch(V){Je(R,R.return,V)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Zc(e,a))));break;case 19:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zc(e,l)));break;case 30:break;case 21:break;default:$t(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(zp(l)){a=l;break}l=l.return}if(a==null)throw Error(u(160));switch(a.tag){case 27:var r=a.stateNode,f=Vc(e);cr(e,f,r);break;case 5:var m=a.stateNode;a.flags&32&&(Zi(m,""),a.flags&=-33);var b=Vc(e);cr(e,b,m);break;case 3:case 4:var R=a.stateNode.containerInfo,Y=Vc(e);Xc(e,Y,R);break;default:throw Error(u(161))}}catch(P){Je(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Vp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function qa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)jp(e,t.alternate,t),t=t.sibling}function bi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ra(4,t,t.return),bi(t);break;case 1:Gn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Cp(t,t.return,a),bi(t);break;case 27:Ks(t.stateNode);case 26:case 5:Gn(t,t.return),bi(t);break;case 22:t.memoizedState===null&&bi(t);break;case 30:bi(t);break;default:bi(t)}e=e.sibling}}function Da(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,r=e,f=t,m=f.flags;switch(f.tag){case 0:case 11:case 15:Da(r,f,a),Hs(4,f);break;case 1:if(Da(r,f,a),l=f,r=l.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(Y){Je(l,l.return,Y)}if(l=f,r=l.updateQueue,r!==null){var b=l.stateNode;try{var R=r.shared.hiddenCallbacks;if(R!==null)for(r.shared.hiddenCallbacks=null,r=0;r<R.length;r++)yg(R[r],b)}catch(Y){Je(l,l.return,Y)}}a&&m&64&&Bp(f),js(f,f.return);break;case 27:Np(f);case 26:case 5:Da(r,f,a),a&&l===null&&m&4&&Up(f),js(f,f.return);break;case 12:Da(r,f,a);break;case 13:Da(r,f,a),a&&m&4&&Yp(r,f);break;case 22:f.memoizedState===null&&Da(r,f,a),js(f,f.return);break;case 30:break;default:Da(r,f,a)}t=t.sibling}}function Kc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&xs(a))}function kc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xs(e))}function Vn(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xp(e,t,a,l),t=t.sibling}function Xp(e,t,a,l){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Vn(e,t,a,l),r&2048&&Hs(9,t);break;case 1:Vn(e,t,a,l);break;case 3:Vn(e,t,a,l),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xs(e)));break;case 12:if(r&2048){Vn(e,t,a,l),e=t.stateNode;try{var f=t.memoizedProps,m=f.id,b=f.onPostCommit;typeof b=="function"&&b(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Je(t,t.return,R)}}else Vn(e,t,a,l);break;case 13:Vn(e,t,a,l);break;case 23:break;case 22:f=t.stateNode,m=t.alternate,t.memoizedState!==null?f._visibility&2?Vn(e,t,a,l):_s(e,t):f._visibility&2?Vn(e,t,a,l):(f._visibility|=2,cl(e,t,a,l,(t.subtreeFlags&10256)!==0)),r&2048&&Kc(m,t);break;case 24:Vn(e,t,a,l),r&2048&&kc(t.alternate,t);break;default:Vn(e,t,a,l)}}function cl(e,t,a,l,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,m=t,b=a,R=l,Y=m.flags;switch(m.tag){case 0:case 11:case 15:cl(f,m,b,R,r),Hs(8,m);break;case 23:break;case 22:var P=m.stateNode;m.memoizedState!==null?P._visibility&2?cl(f,m,b,R,r):_s(f,m):(P._visibility|=2,cl(f,m,b,R,r)),r&&Y&2048&&Kc(m.alternate,m);break;case 24:cl(f,m,b,R,r),r&&Y&2048&&kc(m.alternate,m);break;default:cl(f,m,b,R,r)}t=t.sibling}}function _s(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,r=l.flags;switch(l.tag){case 22:_s(a,l),r&2048&&Kc(l.alternate,l);break;case 24:_s(a,l),r&2048&&kc(l.alternate,l);break;default:_s(a,l)}t=t.sibling}}var Ls=8192;function fl(e){if(e.subtreeFlags&Ls)for(e=e.child;e!==null;)Qp(e),e=e.sibling}function Qp(e){switch(e.tag){case 26:fl(e),e.flags&Ls&&e.memoizedState!==null&&zb(Dn,e.memoizedState,e.memoizedProps);break;case 5:fl(e);break;case 3:case 4:var t=Dn;Dn=Sr(e.stateNode.containerInfo),fl(e),Dn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ls,Ls=16777216,fl(e),Ls=t):fl(e));break;default:fl(e)}}function Zp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ys(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];wt=l,kp(l,e)}Zp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kp(e),e=e.sibling}function Kp(e){switch(e.tag){case 0:case 11:case 15:Ys(e),e.flags&2048&&Ra(9,e,e.return);break;case 3:Ys(e);break;case 12:Ys(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fr(e)):Ys(e);break;default:Ys(e)}}function fr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];wt=l,kp(l,e)}Zp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ra(8,t,t.return),fr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,fr(t));break;default:fr(t)}e=e.sibling}}function kp(e,t){for(;wt!==null;){var a=wt;switch(a.tag){case 0:case 11:case 15:Ra(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,wt=l;else e:for(a=e;wt!==null;){l=wt;var r=l.sibling,f=l.return;if(_p(l),l===a){wt=null;break e}if(r!==null){r.return=f,wt=r;break e}wt=f}}}var PA={getCacheForType:function(e){var t=Dt(pt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},IA=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Pe=null,De=null,Ue=0,Xe=0,tn=null,Oa=!1,hl=!1,Fc=!1,ra=0,at=0,Ba=0,wi=0,Jc=0,An=0,dl=0,Gs=null,Yt=null,Pc=!1,Ic=0,hr=1/0,dr=null,Ca=null,Tt=0,Ua=null,gl=null,pl=0,Wc=0,$c=null,Fp=null,Vs=0,ef=null;function nn(){if((Ve&2)!==0&&Ue!==0)return Ue&-Ue;if(_.T!==null){var e=nl;return e!==0?e:rf()}return I()}function Jp(){An===0&&(An=(Ue&536870912)===0||Le?ji():536870912);var e=vn.current;return e!==null&&(e.flags|=32),An}function an(e,t,a){(e===Pe&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(ml(e,0),za(e,Ue,An,!1)),va(e,a),((Ve&2)===0||e!==Pe)&&(e===Pe&&((Ve&2)===0&&(wi|=a),at===4&&za(e,Ue,An,!1)),Xn(e))}function Pp(e,t,a){if((Ve&6)!==0)throw Error(u(327));var l=!a&&(t&124)===0&&(t&e.expiredLanes)===0||ya(e,t),r=l?eb(e,t):af(e,t,!0),f=l;do{if(r===0){hl&&!l&&za(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!WA(a)){r=af(e,t,!1),f=!1;continue}if(r===2){if(f=t,e.errorRecoveryDisabledLanes&f)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var b=e;r=Gs;var R=b.current.memoizedState.isDehydrated;if(R&&(ml(b,m).flags|=256),m=af(b,m,!1),m!==2){if(Fc&&!R){b.errorRecoveryDisabledLanes|=f,wi|=f,r=4;break e}f=Yt,Yt=r,f!==null&&(Yt===null?Yt=f:Yt.push.apply(Yt,f))}r=m}if(f=!1,r!==2)continue}}if(r===1){ml(e,0),za(e,t,0,!0);break}e:{switch(l=e,f=r,f){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:za(l,t,An,!Oa);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(r=Ic+300-Be(),10<r)){if(za(l,t,An,!Oa),ii(l,0,!0)!==0)break e;l.timeoutHandle=Mm(Ip.bind(null,l,a,Yt,dr,Pc,t,An,wi,dl,Oa,f,2,-0,0),r);break e}Ip(l,a,Yt,dr,Pc,t,An,wi,dl,Oa,f,0,-0,0)}}break}while(!0);Xn(e)}function Ip(e,t,a,l,r,f,m,b,R,Y,P,te,G,V){if(e.timeoutHandle=-1,te=t.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Js={stylesheets:null,count:0,unsuspend:Ub},Qp(t),te=Nb(),te!==null)){e.cancelPendingCommit=te(im.bind(null,e,t,f,a,l,r,m,b,R,P,1,G,V)),za(e,f,m,!Y);return}im(e,t,f,a,l,r,m,b,R)}function WA(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var r=a[l],f=r.getSnapshot;r=r.value;try{if(!It(f(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function za(e,t,a,l){t&=~Jc,t&=~wi,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var r=t;0<r;){var f=31-ot(r),m=1<<f;l[f]=-1,r&=~m}a!==0&&ls(e,a,t)}function gr(){return(Ve&6)===0?(Xs(0),!1):!0}function tf(){if(De!==null){if(Xe===0)var e=De.return;else e=De,ea=pi=null,vc(e),rl=null,Us=0,e=De;for(;e!==null;)Op(e.alternate,e),e=e.return;De=null}}function ml(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,mb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),tf(),Pe=e,De=a=In(e.current,null),Ue=t,Xe=0,tn=null,Oa=!1,hl=ya(e,t),Fc=!1,dl=An=Jc=wi=Ba=at=0,Yt=Gs=null,Pc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var r=31-ot(l),f=1<<r;t|=e[r],l&=~f}return ra=t,Hu(),a}function Wp(e,t){Re=null,_.H=tr,t===Es||t===Zu?(t=pg(),Xe=3):t===hg?(t=pg(),Xe=4):Xe=t===mp?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,tn=t,De===null&&(at=1,sr(e,gn(t,e.current)))}function $p(){var e=_.H;return _.H=tr,e===null?tr:e}function em(){var e=_.A;return _.A=PA,e}function nf(){at=4,Oa||(Ue&4194048)!==Ue&&vn.current!==null||(hl=!0),(Ba&134217727)===0&&(wi&134217727)===0||Pe===null||za(Pe,Ue,An,!1)}function af(e,t,a){var l=Ve;Ve|=2;var r=$p(),f=em();(Pe!==e||Ue!==t)&&(dr=null,ml(e,t)),t=!1;var m=at;e:do try{if(Xe!==0&&De!==null){var b=De,R=tn;switch(Xe){case 8:tf(),m=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(t=!0);var Y=Xe;if(Xe=0,tn=null,yl(e,b,R,Y),a&&hl){m=0;break e}break;default:Y=Xe,Xe=0,tn=null,yl(e,b,R,Y)}}$A(),m=at;break}catch(P){Wp(e,P)}while(!0);return t&&e.shellSuspendCounter++,ea=pi=null,Ve=l,_.H=r,_.A=f,De===null&&(Pe=null,Ue=0,Hu()),m}function $A(){for(;De!==null;)tm(De)}function eb(e,t){var a=Ve;Ve|=2;var l=$p(),r=em();Pe!==e||Ue!==t?(dr=null,hr=Be()+500,ml(e,t)):hl=ya(e,t);e:do try{if(Xe!==0&&De!==null){t=De;var f=tn;t:switch(Xe){case 1:Xe=0,tn=null,yl(e,t,f,1);break;case 2:case 9:if(dg(f)){Xe=0,tn=null,nm(t);break}t=function(){Xe!==2&&Xe!==9||Pe!==e||(Xe=7),Xn(e)},f.then(t,t);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:dg(f)?(Xe=0,tn=null,nm(t)):(Xe=0,tn=null,yl(e,t,f,7));break;case 5:var m=null;switch(De.tag){case 26:m=De.memoizedState;case 5:case 27:var b=De;if(!m||jm(m)){Xe=0,tn=null;var R=b.sibling;if(R!==null)De=R;else{var Y=b.return;Y!==null?(De=Y,pr(Y)):De=null}break t}}Xe=0,tn=null,yl(e,t,f,5);break;case 6:Xe=0,tn=null,yl(e,t,f,6);break;case 8:tf(),at=6;break e;default:throw Error(u(462))}}tb();break}catch(P){Wp(e,P)}while(!0);return ea=pi=null,_.H=l,_.A=r,Ve=a,De!==null?0:(Pe=null,Ue=0,Hu(),at)}function tb(){for(;De!==null&&!xe();)tm(De)}function tm(e){var t=qp(e.alternate,e,ra);e.memoizedProps=e.pendingProps,t===null?pr(e):De=t}function nm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=xp(a,t,t.pendingProps,t.type,void 0,Ue);break;case 11:t=xp(a,t,t.pendingProps,t.type.render,t.ref,Ue);break;case 5:vc(t);default:Op(a,t),t=De=ag(t,ra),t=qp(a,t,ra)}e.memoizedProps=e.pendingProps,t===null?pr(e):De=t}function yl(e,t,a,l){ea=pi=null,vc(t),rl=null,Us=0;var r=t.return;try{if(QA(e,r,t,a,Ue)){at=1,sr(e,gn(a,e.current)),De=null;return}}catch(f){if(r!==null)throw De=r,f;at=1,sr(e,gn(a,e.current)),De=null;return}t.flags&32768?(Le||l===1?e=!0:hl||(Ue&536870912)!==0?e=!1:(Oa=e=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),am(t,e)):pr(t)}function pr(e){var t=e;do{if((t.flags&32768)!==0){am(t,Oa);return}e=t.return;var a=KA(t.alternate,t,ra);if(a!==null){De=a;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);at===0&&(at=5)}function am(e,t){do{var a=kA(e.alternate,e);if(a!==null){a.flags&=32767,De=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){De=e;return}De=e=a}while(e!==null);at=6,De=null}function im(e,t,a,l,r,f,m,b,R){e.cancelPendingCommit=null;do mr();while(Tt!==0);if((Ve&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(f=t.lanes|t.childLanes,f|=ko,xo(e,a,f,m,b,R),e===Pe&&(De=Pe=null,Ue=0),gl=t,Ua=e,pl=a,Wc=f,$c=r,Fp=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,lb(Jt,function(){return om(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=_.T,_.T=null,r=$.p,$.p=2,m=Ve,Ve|=4;try{FA(e,t,a)}finally{Ve=m,$.p=r,_.T=l}}Tt=1,lm(),sm(),um()}}function lm(){if(Tt===1){Tt=0;var e=Ua,t=gl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=_.T,_.T=null;var l=$.p;$.p=2;var r=Ve;Ve|=4;try{Gp(t,e);var f=mf,m=kd(e.containerInfo),b=f.focusedElem,R=f.selectionRange;if(m!==b&&b&&b.ownerDocument&&Kd(b.ownerDocument.documentElement,b)){if(R!==null&&Vo(b)){var Y=R.start,P=R.end;if(P===void 0&&(P=Y),"selectionStart"in b)b.selectionStart=Y,b.selectionEnd=Math.min(P,b.value.length);else{var te=b.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var V=G.getSelection(),we=b.textContent.length,ye=Math.min(R.start,we),Ke=R.end===void 0?ye:Math.min(R.end,we);!V.extend&&ye>Ke&&(m=Ke,Ke=ye,ye=m);var z=Zd(b,ye),C=Zd(b,Ke);if(z&&C&&(V.rangeCount!==1||V.anchorNode!==z.node||V.anchorOffset!==z.offset||V.focusNode!==C.node||V.focusOffset!==C.offset)){var j=te.createRange();j.setStart(z.node,z.offset),V.removeAllRanges(),ye>Ke?(V.addRange(j),V.extend(C.node,C.offset)):(j.setEnd(C.node,C.offset),V.addRange(j))}}}}for(te=[],V=b;V=V.parentNode;)V.nodeType===1&&te.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var W=te[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}qr=!!pf,mf=pf=null}finally{Ve=r,$.p=l,_.T=a}}e.current=t,Tt=2}}function sm(){if(Tt===2){Tt=0;var e=Ua,t=gl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=_.T,_.T=null;var l=$.p;$.p=2;var r=Ve;Ve|=4;try{jp(e,t.alternate,t)}finally{Ve=r,$.p=l,_.T=a}}Tt=3}}function um(){if(Tt===4||Tt===3){Tt=0,Me();var e=Ua,t=gl,a=pl,l=Fp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Tt=5:(Tt=0,gl=Ua=null,rm(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ca=null),Z(a),t=t.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(En,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=_.T,r=$.p,$.p=2,_.T=null;try{for(var f=e.onRecoverableError,m=0;m<l.length;m++){var b=l[m];f(b.value,{componentStack:b.stack})}}finally{_.T=t,$.p=r}}(pl&3)!==0&&mr(),Xn(e),r=e.pendingLanes,(a&4194090)!==0&&(r&42)!==0?e===ef?Vs++:(Vs=0,ef=e):Vs=0,Xs(0)}}function rm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,xs(t)))}function mr(e){return lm(),sm(),um(),om()}function om(){if(Tt!==5)return!1;var e=Ua,t=Wc;Wc=0;var a=Z(pl),l=_.T,r=$.p;try{$.p=32>a?32:a,_.T=null,a=$c,$c=null;var f=Ua,m=pl;if(Tt=0,gl=Ua=null,pl=0,(Ve&6)!==0)throw Error(u(331));var b=Ve;if(Ve|=4,Kp(f.current),Xp(f,f.current,m,a),Ve=b,Xs(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(En,f)}catch{}return!0}finally{$.p=r,_.T=l,rm(e,t)}}function cm(e,t,a){t=gn(a,t),t=Cc(e.stateNode,t,2),e=Sa(e,t,2),e!==null&&(va(e,2),Xn(e))}function Je(e,t,a){if(e.tag===3)cm(e,e,a);else for(;t!==null;){if(t.tag===3){cm(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ca===null||!Ca.has(l))){e=gn(a,e),a=gp(2),l=Sa(t,a,2),l!==null&&(pp(a,l,t,e),va(l,2),Xn(l));break}}t=t.return}}function lf(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new IA;var r=new Set;l.set(t,r)}else r=l.get(t),r===void 0&&(r=new Set,l.set(t,r));r.has(a)||(Fc=!0,r.add(a),e=nb.bind(null,e,t,a),t.then(e,e))}function nb(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Pe===e&&(Ue&a)===a&&(at===4||at===3&&(Ue&62914560)===Ue&&300>Be()-Ic?(Ve&2)===0&&ml(e,0):Jc|=a,dl===Ue&&(dl=0)),Xn(e)}function fm(e,t){t===0&&(t=li()),e=Wi(e,t),e!==null&&(va(e,t),Xn(e))}function ab(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),fm(e,a)}function ib(e,t){var a=0;switch(e.tag){case 13:var l=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(u(314))}l!==null&&l.delete(t),fm(e,a)}function lb(e,t){return Sn(e,t)}var yr=null,vl=null,sf=!1,vr=!1,uf=!1,xi=0;function Xn(e){e!==vl&&e.next===null&&(vl===null?yr=vl=e:vl=vl.next=e),vr=!0,sf||(sf=!0,ub())}function Xs(e,t){if(!uf&&vr){uf=!0;do for(var a=!1,l=yr;l!==null;){if(e!==0){var r=l.pendingLanes;if(r===0)var f=0;else{var m=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-ot(42|e)+1)-1,f&=r&~(m&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,pm(l,f))}else f=Ue,f=ii(l,l===Pe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ya(l,f)||(a=!0,pm(l,f));l=l.next}while(a);uf=!1}}function sb(){hm()}function hm(){vr=sf=!1;var e=0;xi!==0&&(pb()&&(e=xi),xi=0);for(var t=Be(),a=null,l=yr;l!==null;){var r=l.next,f=dm(l,t);f===0?(l.next=null,a===null?yr=r:a.next=r,r===null&&(vl=a)):(a=l,(e!==0||(f&3)!==0)&&(vr=!0)),l=r}Xs(e)}function dm(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,r=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var m=31-ot(f),b=1<<m,R=r[m];R===-1?((b&a)===0||(b&l)!==0)&&(r[m]=zt(b,t)):R<=t&&(e.expiredLanes|=b),f&=~b}if(t=Pe,a=Ue,a=ii(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&he(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ya(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&he(l),Z(a)){case 2:case 8:a=yt;break;case 32:a=Jt;break;case 268435456:a=zi;break;default:a=Jt}return l=gm.bind(null,e),a=Sn(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&he(l),e.callbackPriority=2,e.callbackNode=null,2}function gm(e,t){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(mr()&&e.callbackNode!==a)return null;var l=Ue;return l=ii(e,e===Pe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Pp(e,l,t),dm(e,Be()),e.callbackNode!=null&&e.callbackNode===a?gm.bind(null,e):null)}function pm(e,t){if(mr())return null;Pp(e,t,!0)}function ub(){yb(function(){(Ve&6)!==0?Sn(ze,sb):hm()})}function rf(){return xi===0&&(xi=ji()),xi}function mm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Du(""+e)}function ym(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function rb(e,t,a,l,r){if(t==="submit"&&a&&a.stateNode===r){var f=mm((r[_e]||null).action),m=l.submitter;m&&(t=(t=m[_e]||null)?mm(t.formAction):m.getAttribute("formAction"),t!==null&&(f=t,m=null));var b=new Uu("action","action",null,l,r);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xi!==0){var R=m?ym(r,m):new FormData(r);Rc(a,{pending:!0,data:R,method:r.method,action:f},null,R)}}else typeof f=="function"&&(b.preventDefault(),R=m?ym(r,m):new FormData(r),Rc(a,{pending:!0,data:R,method:r.method,action:f},f,R))},currentTarget:r}]})}}for(var of=0;of<Ko.length;of++){var cf=Ko[of],ob=cf.toLowerCase(),cb=cf[0].toUpperCase()+cf.slice(1);qn(ob,"on"+cb)}qn(Pd,"onAnimationEnd"),qn(Id,"onAnimationIteration"),qn(Wd,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(RA,"onTransitionRun"),qn(qA,"onTransitionStart"),qn(DA,"onTransitionCancel"),qn($d,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qs));function vm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],r=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var m=l.length-1;0<=m;m--){var b=l[m],R=b.instance,Y=b.currentTarget;if(b=b.listener,R!==f&&r.isPropagationStopped())break e;f=b,r.currentTarget=Y;try{f(r)}catch(P){lr(P)}r.currentTarget=null,f=R}else for(m=0;m<l.length;m++){if(b=l[m],R=b.instance,Y=b.currentTarget,b=b.listener,R!==f&&r.isPropagationStopped())break e;f=b,r.currentTarget=Y;try{f(r)}catch(P){lr(P)}r.currentTarget=null,f=R}}}}function Oe(e,t){var a=t[Pt];a===void 0&&(a=t[Pt]=new Set);var l=e+"__bubble";a.has(l)||(Am(t,e,2,!1),a.add(l))}function ff(e,t,a){var l=0;t&&(l|=4),Am(a,e,l,t)}var Ar="_reactListening"+Math.random().toString(36).slice(2);function hf(e){if(!e[Ar]){e[Ar]=!0,hd.forEach(function(a){a!=="selectionchange"&&(fb.has(a)||ff(a,!1,e),ff(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ar]||(t[Ar]=!0,ff("selectionchange",!1,t))}}function Am(e,t,a,l){switch(Xm(t)){case 2:var r=_b;break;case 8:r=Lb;break;default:r=Tf}a=r.bind(null,t,a,e),r=void 0,!Uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),l?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function df(e,t,a,l,r){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var b=l.stateNode.containerInfo;if(b===r)break;if(m===4)for(m=l.return;m!==null;){var R=m.tag;if((R===3||R===4)&&m.stateNode.containerInfo===r)return;m=m.return}for(;b!==null;){if(m=Li(b),m===null)return;if(R=m.tag,R===5||R===6||R===26||R===27){l=f=m;continue e}b=b.parentNode}}l=l.return}Td(function(){var Y=f,P=Bo(a),te=[];e:{var G=eg.get(e);if(G!==void 0){var V=Uu,we=e;switch(e){case"keypress":if(Bu(a)===0)break e;case"keydown":case"keyup":V=lA;break;case"focusin":we="focus",V=jo;break;case"focusout":we="blur",V=jo;break;case"beforeblur":case"afterblur":V=jo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=rA;break;case Pd:case Id:case Wd:V=Pv;break;case $d:V=cA;break;case"scroll":case"scrollend":V=Zv;break;case"wheel":V=hA;break;case"copy":case"cut":case"paste":V=Wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Bd;break;case"toggle":case"beforetoggle":V=gA}var ye=(t&4)!==0,Ke=!ye&&(e==="scroll"||e==="scrollend"),z=ye?G!==null?G+"Capture":null:G;ye=[];for(var C=Y,j;C!==null;){var W=C;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||z===null||(W=os(C,z),W!=null&&ye.push(Zs(C,W,j))),Ke)break;C=C.return}0<ye.length&&(G=new V(G,we,null,a,P),te.push({event:G,listeners:ye}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",G&&a!==Oo&&(we=a.relatedTarget||a.fromElement)&&(Li(we)||we[Fe]))break e;if((V||G)&&(G=P.window===P?P:(G=P.ownerDocument)?G.defaultView||G.parentWindow:window,V?(we=a.relatedTarget||a.toElement,V=Y,we=we?Li(we):null,we!==null&&(Ke=c(we),ye=we.tag,we!==Ke||ye!==5&&ye!==27&&ye!==6)&&(we=null)):(V=null,we=Y),V!==we)){if(ye=Dd,W="onMouseLeave",z="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(ye=Bd,W="onPointerLeave",z="onPointerEnter",C="pointer"),Ke=V==null?G:rs(V),j=we==null?G:rs(we),G=new ye(W,C+"leave",V,a,P),G.target=Ke,G.relatedTarget=j,W=null,Li(P)===Y&&(ye=new ye(z,C+"enter",we,a,P),ye.target=j,ye.relatedTarget=Ke,W=ye),Ke=W,V&&we)t:{for(ye=V,z=we,C=0,j=ye;j;j=Al(j))C++;for(j=0,W=z;W;W=Al(W))j++;for(;0<C-j;)ye=Al(ye),C--;for(;0<j-C;)z=Al(z),j--;for(;C--;){if(ye===z||z!==null&&ye===z.alternate)break t;ye=Al(ye),z=Al(z)}ye=null}else ye=null;V!==null&&bm(te,G,V,ye,!1),we!==null&&Ke!==null&&bm(te,Ke,we,ye,!0)}}e:{if(G=Y?rs(Y):window,V=G.nodeName&&G.nodeName.toLowerCase(),V==="select"||V==="input"&&G.type==="file")var oe=Ld;else if(jd(G))if(Yd)oe=EA;else{oe=xA;var qe=wA}else V=G.nodeName,!V||V.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?Y&&Do(Y.elementType)&&(oe=Ld):oe=SA;if(oe&&(oe=oe(e,Y))){_d(te,oe,a,P);break e}qe&&qe(e,G,Y),e==="focusout"&&Y&&G.type==="number"&&Y.memoizedProps.value!=null&&qo(G,"number",G.value)}switch(qe=Y?rs(Y):window,e){case"focusin":(jd(qe)||qe.contentEditable==="true")&&(Ji=qe,Xo=Y,ys=null);break;case"focusout":ys=Xo=Ji=null;break;case"mousedown":Qo=!0;break;case"contextmenu":case"mouseup":case"dragend":Qo=!1,Fd(te,a,P);break;case"selectionchange":if(TA)break;case"keydown":case"keyup":Fd(te,a,P)}var de;if(Lo)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Fi?Nd(e,a)&&(be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(Cd&&a.locale!=="ko"&&(Fi||be!=="onCompositionStart"?be==="onCompositionEnd"&&Fi&&(de=Rd()):(Aa=P,zo="value"in Aa?Aa.value:Aa.textContent,Fi=!0)),qe=br(Y,be),0<qe.length&&(be=new Od(be,e,null,a,P),te.push({event:be,listeners:qe}),de?be.data=de:(de=Hd(a),de!==null&&(be.data=de)))),(de=mA?yA(e,a):vA(e,a))&&(be=br(Y,"onBeforeInput"),0<be.length&&(qe=new Od("onBeforeInput","beforeinput",null,a,P),te.push({event:qe,listeners:be}),qe.data=de)),rb(te,e,Y,a,P)}vm(te,t)})}function Zs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function br(e,t){for(var a=t+"Capture",l=[];e!==null;){var r=e,f=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||f===null||(r=os(e,a),r!=null&&l.unshift(Zs(e,r,f)),r=os(e,t),r!=null&&l.push(Zs(e,r,f))),e.tag===3)return l;e=e.return}return[]}function Al(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bm(e,t,a,l,r){for(var f=t._reactName,m=[];a!==null&&a!==l;){var b=a,R=b.alternate,Y=b.stateNode;if(b=b.tag,R!==null&&R===l)break;b!==5&&b!==26&&b!==27||Y===null||(R=Y,r?(Y=os(a,f),Y!=null&&m.unshift(Zs(a,Y,R))):r||(Y=os(a,f),Y!=null&&m.push(Zs(a,Y,R)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var hb=/\r\n?/g,db=/\u0000|\uFFFD/g;function wm(e){return(typeof e=="string"?e:""+e).replace(hb,`
`).replace(db,"")}function xm(e,t){return t=wm(t),wm(e)===t}function wr(){}function Ze(e,t,a,l,r,f){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Zi(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Zi(e,""+l);break;case"className":Tu(e,"class",l);break;case"tabIndex":Tu(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tu(e,a,l);break;case"style":Ed(e,l,f);break;case"data":if(t!=="object"){Tu(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Du(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&Ze(e,t,"name",r.name,r,null),Ze(e,t,"formEncType",r.formEncType,r,null),Ze(e,t,"formMethod",r.formMethod,r,null),Ze(e,t,"formTarget",r.formTarget,r,null)):(Ze(e,t,"encType",r.encType,r,null),Ze(e,t,"method",r.method,r,null),Ze(e,t,"target",r.target,r,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Du(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=wr);break;case"onScroll":l!=null&&Oe("scroll",e);break;case"onScrollEnd":l!=null&&Oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(a=l.__html,a!=null){if(r.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Du(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Oe("beforetoggle",e),Oe("toggle",e),Mu(e,"popover",l);break;case"xlinkActuate":Jn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Jn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Jn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Jn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Jn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Jn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Mu(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Xv.get(a)||a,Mu(e,a,l))}}function gf(e,t,a,l,r,f){switch(a){case"style":Ed(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(a=l.__html,a!=null){if(r.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Zi(e,l):(typeof l=="number"||typeof l=="bigint")&&Zi(e,""+l);break;case"onScroll":l!=null&&Oe("scroll",e);break;case"onScrollEnd":l!=null&&Oe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),f=e[_e]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,r),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,r);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Mu(e,a,l)}}}function Rt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",e),Oe("load",e);var l=!1,r=!1,f;for(f in a)if(a.hasOwnProperty(f)){var m=a[f];if(m!=null)switch(f){case"src":l=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Ze(e,t,f,m,a,null)}}r&&Ze(e,t,"srcSet",a.srcSet,a,null),l&&Ze(e,t,"src",a.src,a,null);return;case"input":Oe("invalid",e);var b=f=m=r=null,R=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var P=a[l];if(P!=null)switch(l){case"name":r=P;break;case"type":m=P;break;case"checked":R=P;break;case"defaultChecked":Y=P;break;case"value":f=P;break;case"defaultValue":b=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(u(137,t));break;default:Ze(e,t,l,P,a,null)}}bd(e,f,b,R,Y,m,r,!1),Ru(e);return;case"select":Oe("invalid",e),l=m=f=null;for(r in a)if(a.hasOwnProperty(r)&&(b=a[r],b!=null))switch(r){case"value":f=b;break;case"defaultValue":m=b;break;case"multiple":l=b;default:Ze(e,t,r,b,a,null)}t=f,a=m,e.multiple=!!l,t!=null?Qi(e,!!l,t,!1):a!=null&&Qi(e,!!l,a,!0);return;case"textarea":Oe("invalid",e),f=r=l=null;for(m in a)if(a.hasOwnProperty(m)&&(b=a[m],b!=null))switch(m){case"value":l=b;break;case"defaultValue":r=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(u(91));break;default:Ze(e,t,m,b,a,null)}xd(e,l,r,f),Ru(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(e,t,R,l,a,null)}return;case"dialog":Oe("beforetoggle",e),Oe("toggle",e),Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":Oe("load",e);break;case"video":case"audio":for(l=0;l<Qs.length;l++)Oe(Qs[l],e);break;case"image":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"embed":case"source":case"link":Oe("error",e),Oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Ze(e,t,Y,l,a,null)}return;default:if(Do(t)){for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!==void 0&&gf(e,t,P,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ze(e,t,b,l,a,null))}function gb(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,f=null,m=null,b=null,R=null,Y=null,P=null;for(V in a){var te=a[V];if(a.hasOwnProperty(V)&&te!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":R=te;default:l.hasOwnProperty(V)||Ze(e,t,V,null,l,te)}}for(var G in l){var V=l[G];if(te=a[G],l.hasOwnProperty(G)&&(V!=null||te!=null))switch(G){case"type":f=V;break;case"name":r=V;break;case"checked":Y=V;break;case"defaultChecked":P=V;break;case"value":m=V;break;case"defaultValue":b=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(u(137,t));break;default:V!==te&&Ze(e,t,G,V,l,te)}}Ro(e,m,b,R,Y,P,f,r);return;case"select":V=m=b=G=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":V=R;default:l.hasOwnProperty(f)||Ze(e,t,f,null,l,R)}for(r in l)if(f=l[r],R=a[r],l.hasOwnProperty(r)&&(f!=null||R!=null))switch(r){case"value":G=f;break;case"defaultValue":b=f;break;case"multiple":m=f;default:f!==R&&Ze(e,t,r,f,l,R)}t=b,a=m,l=V,G!=null?Qi(e,!!a,G,!1):!!l!=!!a&&(t!=null?Qi(e,!!a,t,!0):Qi(e,!!a,a?[]:"",!1));return;case"textarea":V=G=null;for(b in a)if(r=a[b],a.hasOwnProperty(b)&&r!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(e,t,b,null,l,r)}for(m in l)if(r=l[m],f=a[m],l.hasOwnProperty(m)&&(r!=null||f!=null))switch(m){case"value":G=r;break;case"defaultValue":V=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(u(91));break;default:r!==f&&Ze(e,t,m,r,l,f)}wd(e,G,V);return;case"option":for(var we in a)if(G=a[we],a.hasOwnProperty(we)&&G!=null&&!l.hasOwnProperty(we))switch(we){case"selected":e.selected=!1;break;default:Ze(e,t,we,null,l,G)}for(R in l)if(G=l[R],V=a[R],l.hasOwnProperty(R)&&G!==V&&(G!=null||V!=null))switch(R){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(e,t,R,G,l,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)G=a[ye],a.hasOwnProperty(ye)&&G!=null&&!l.hasOwnProperty(ye)&&Ze(e,t,ye,null,l,G);for(Y in l)if(G=l[Y],V=a[Y],l.hasOwnProperty(Y)&&G!==V&&(G!=null||V!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(u(137,t));break;default:Ze(e,t,Y,G,l,V)}return;default:if(Do(t)){for(var Ke in a)G=a[Ke],a.hasOwnProperty(Ke)&&G!==void 0&&!l.hasOwnProperty(Ke)&&gf(e,t,Ke,void 0,l,G);for(P in l)G=l[P],V=a[P],!l.hasOwnProperty(P)||G===V||G===void 0&&V===void 0||gf(e,t,P,G,l,V);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&Ze(e,t,z,null,l,G);for(te in l)G=l[te],V=a[te],!l.hasOwnProperty(te)||G===V||G==null&&V==null||Ze(e,t,te,G,l,V)}var pf=null,mf=null;function xr(e){return e.nodeType===9?e:e.ownerDocument}function Sm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Em(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function yf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vf=null;function pb(){var e=window.event;return e&&e.type==="popstate"?e===vf?!1:(vf=e,!0):(vf=null,!1)}var Mm=typeof setTimeout=="function"?setTimeout:void 0,mb=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,yb=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(e){return Tm.resolve(null).then(e).catch(vb)}:Mm;function vb(e){setTimeout(function(){throw e})}function Na(e){return e==="head"}function Rm(e,t){var a=t,l=0,r=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var m=e.ownerDocument;if(a&1&&Ks(m.documentElement),a&2&&Ks(m.body),a&4)for(a=m.head,Ks(a),m=a.firstChild;m;){var b=m.nextSibling,R=m.nodeName;m[us]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=b}}if(r===0){e.removeChild(f),eu(t);return}r--}else a==="$"||a==="$?"||a==="$!"?r++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);eu(t)}function Af(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Af(a),So(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ab(e,t,a,l){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[us])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function bb(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=On(e.nextSibling),e===null))return null;return e}function bf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function wb(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var wf=null;function qm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Dm(e,t,a){switch(t=xr(a),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function Ks(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);So(e)}var bn=new Map,Om=new Set;function Sr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var oa=$.d;$.d={f:xb,r:Sb,D:Eb,C:Mb,L:Tb,m:Rb,X:Db,S:qb,M:Ob};function xb(){var e=oa.f(),t=gr();return e||t}function Sb(e){var t=Yi(e);t!==null&&t.tag===5&&t.type==="form"?Pg(t):oa.r(e)}var bl=typeof document>"u"?null:document;function Bm(e,t,a){var l=bl;if(l&&typeof t=="string"&&t){var r=dn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),Om.has(r)||(Om.add(r),e={rel:e,crossOrigin:a,href:t},l.querySelector(r)===null&&(t=l.createElement("link"),Rt(t,"link",e),At(t),l.head.appendChild(t)))}}function Eb(e){oa.D(e),Bm("dns-prefetch",e,null)}function Mb(e,t){oa.C(e,t),Bm("preconnect",e,t)}function Tb(e,t,a){oa.L(e,t,a);var l=bl;if(l&&e&&t){var r='link[rel="preload"][as="'+dn(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+dn(a.imageSizes)+'"]')):r+='[href="'+dn(e)+'"]';var f=r;switch(t){case"style":f=wl(e);break;case"script":f=xl(e)}bn.has(f)||(e=A({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),bn.set(f,e),l.querySelector(r)!==null||t==="style"&&l.querySelector(ks(f))||t==="script"&&l.querySelector(Fs(f))||(t=l.createElement("link"),Rt(t,"link",e),At(t),l.head.appendChild(t)))}}function Rb(e,t){oa.m(e,t);var a=bl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(e)+'"]',f=r;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xl(e)}if(!bn.has(f)&&(e=A({rel:"modulepreload",href:e},t),bn.set(f,e),a.querySelector(r)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fs(f)))return}l=a.createElement("link"),Rt(l,"link",e),At(l),a.head.appendChild(l)}}}function qb(e,t,a){oa.S(e,t,a);var l=bl;if(l&&e){var r=Gi(l).hoistableStyles,f=wl(e);t=t||"default";var m=r.get(f);if(!m){var b={loading:0,preload:null};if(m=l.querySelector(ks(f)))b.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},a),(a=bn.get(f))&&xf(e,a);var R=m=l.createElement("link");At(R),Rt(R,"link",e),R._p=new Promise(function(Y,P){R.onload=Y,R.onerror=P}),R.addEventListener("load",function(){b.loading|=1}),R.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Er(m,t,l)}m={type:"stylesheet",instance:m,count:1,state:b},r.set(f,m)}}}function Db(e,t){oa.X(e,t);var a=bl;if(a&&e){var l=Gi(a).hoistableScripts,r=xl(e),f=l.get(r);f||(f=a.querySelector(Fs(r)),f||(e=A({src:e,async:!0},t),(t=bn.get(r))&&Sf(e,t),f=a.createElement("script"),At(f),Rt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(r,f))}}function Ob(e,t){oa.M(e,t);var a=bl;if(a&&e){var l=Gi(a).hoistableScripts,r=xl(e),f=l.get(r);f||(f=a.querySelector(Fs(r)),f||(e=A({src:e,async:!0,type:"module"},t),(t=bn.get(r))&&Sf(e,t),f=a.createElement("script"),At(f),Rt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(r,f))}}function Cm(e,t,a,l){var r=(r=Ae.current)?Sr(r):null;if(!r)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=wl(a.href),a=Gi(r).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=wl(a.href);var f=Gi(r).hoistableStyles,m=f.get(e);if(m||(r=r.ownerDocument||r,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,m),(f=r.querySelector(ks(e)))&&!f._p&&(m.instance=f,m.state.loading=5),bn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bn.set(e,a),f||Bb(r,e,a,m.state))),t&&l===null)throw Error(u(528,""));return m}if(t&&l!==null)throw Error(u(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xl(a),a=Gi(r).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function wl(e){return'href="'+dn(e)+'"'}function ks(e){return'link[rel="stylesheet"]['+e+"]"}function Um(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Bb(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Rt(t,"link",a),At(t),e.head.appendChild(t))}function xl(e){return'[src="'+dn(e)+'"]'}function Fs(e){return"script[async]"+e}function zm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+dn(a.href)+'"]');if(l)return t.instance=l,At(l),l;var r=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),At(l),Rt(l,"style",r),Er(l,a.precedence,e),t.instance=l;case"stylesheet":r=wl(a.href);var f=e.querySelector(ks(r));if(f)return t.state.loading|=4,t.instance=f,At(f),f;l=Um(a),(r=bn.get(r))&&xf(l,r),f=(e.ownerDocument||e).createElement("link"),At(f);var m=f;return m._p=new Promise(function(b,R){m.onload=b,m.onerror=R}),Rt(f,"link",l),t.state.loading|=4,Er(f,a.precedence,e),t.instance=f;case"script":return f=xl(a.src),(r=e.querySelector(Fs(f)))?(t.instance=r,At(r),r):(l=a,(r=bn.get(f))&&(l=A({},a),Sf(l,r)),e=e.ownerDocument||e,r=e.createElement("script"),At(r),Rt(r,"link",l),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Er(l,a.precedence,e));return t.instance}function Er(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=l.length?l[l.length-1]:null,f=r,m=0;m<l.length;m++){var b=l[m];if(b.dataset.precedence===t)f=b;else if(f!==r)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function xf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Sf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Mr=null;function Nm(e,t,a){if(Mr===null){var l=new Map,r=Mr=new Map;r.set(a,l)}else r=Mr,l=r.get(a),l||(l=new Map,r.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var f=a[r];if(!(f[us]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(t)||"";m=e+m;var b=l.get(m);b?b.push(f):l.set(m,[f])}}return l}function Hm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Cb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Js=null;function Ub(){}function zb(e,t,a){if(Js===null)throw Error(u(475));var l=Js;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var r=wl(a.href),f=e.querySelector(ks(r));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Tr.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=f,At(f);return}f=e.ownerDocument||e,a=Um(a),(r=bn.get(r))&&xf(a,r),f=f.createElement("link"),At(f);var m=f;m._p=new Promise(function(b,R){m.onload=b,m.onerror=R}),Rt(f,"link",a),t.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=Tr.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function Nb(){if(Js===null)throw Error(u(475));var e=Js;return e.stylesheets&&e.count===0&&Ef(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Ef(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Tr(){if(this.count--,this.count===0){if(this.stylesheets)Ef(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rr=null;function Ef(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rr=new Map,t.forEach(Hb,e),Rr=null,Tr.call(e))}function Hb(e,t){if(!(t.state.loading&4)){var a=Rr.get(e);if(a)var l=a.get(null);else{a=new Map,Rr.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<r.length;f++){var m=r[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),l=m)}l&&a.set(null,l)}r=t.instance,m=r.getAttribute("data-precedence"),f=a.get(m)||l,f===l&&a.set(null,r),a.set(m,r),this.count++,l=Tr.bind(this),r.addEventListener("load",l),r.addEventListener("error",l),f?f.parentNode.insertBefore(r,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Ps={$$typeof:X,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function jb(e,t,a,l,r,f,m,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=r,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function _m(e,t,a,l,r,f,m,b,R,Y,P,te){return e=new jb(e,t,a,m,b,R,Y,te),t=1,f===!0&&(t|=24),f=Wt(3,null,null,t),e.current=f,f.stateNode=e,t=ic(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:t},rc(f),e}function Lm(e){return e?(e=$i,e):$i}function Ym(e,t,a,l,r,f){r=Lm(r),l.context===null?l.context=r:l.pendingContext=r,l=xa(t),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Sa(e,l,t),a!==null&&(an(a,e,t),Ts(a,e,t))}function Gm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Mf(e,t){Gm(e,t),(e=e.alternate)&&Gm(e,t)}function Vm(e){if(e.tag===13){var t=Wi(e,67108864);t!==null&&an(t,e,67108864),Mf(e,67108864)}}var qr=!0;function _b(e,t,a,l){var r=_.T;_.T=null;var f=$.p;try{$.p=2,Tf(e,t,a,l)}finally{$.p=f,_.T=r}}function Lb(e,t,a,l){var r=_.T;_.T=null;var f=$.p;try{$.p=8,Tf(e,t,a,l)}finally{$.p=f,_.T=r}}function Tf(e,t,a,l){if(qr){var r=Rf(l);if(r===null)df(e,t,l,Dr,a),Qm(e,l);else if(Gb(r,e,t,a,l))l.stopPropagation();else if(Qm(e,l),t&4&&-1<Yb.indexOf(e)){for(;r!==null;){var f=Yi(r);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=Tn(f.pendingLanes);if(m!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;m;){var R=1<<31-ot(m);b.entanglements[1]|=R,m&=~R}Xn(f),(Ve&6)===0&&(hr=Be()+500,Xs(0))}}break;case 13:b=Wi(f,2),b!==null&&an(b,f,2),gr(),Mf(f,2)}if(f=Rf(l),f===null&&df(e,t,l,Dr,a),f===r)break;r=f}r!==null&&l.stopPropagation()}else df(e,t,l,null,a)}}function Rf(e){return e=Bo(e),qf(e)}var Dr=null;function qf(e){if(Dr=null,e=Li(e),e!==null){var t=c(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=d(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Dr=e,null}function Xm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case ze:return 2;case yt:return 8;case Jt:case is:return 32;case zi:return 268435456;default:return 32}default:return 32}}var Df=!1,Ha=null,ja=null,_a=null,Is=new Map,Ws=new Map,La=[],Yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qm(e,t){switch(e){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":Is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(t.pointerId)}}function $s(e,t,a,l,r,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[r]},t!==null&&(t=Yi(t),t!==null&&Vm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Gb(e,t,a,l,r){switch(t){case"focusin":return Ha=$s(Ha,e,t,a,l,r),!0;case"dragenter":return ja=$s(ja,e,t,a,l,r),!0;case"mouseover":return _a=$s(_a,e,t,a,l,r),!0;case"pointerover":var f=r.pointerId;return Is.set(f,$s(Is.get(f)||null,e,t,a,l,r)),!0;case"gotpointercapture":return f=r.pointerId,Ws.set(f,$s(Ws.get(f)||null,e,t,a,l,r)),!0}return!1}function Zm(e){var t=Li(e.target);if(t!==null){var a=c(t);if(a!==null){if(t=a.tag,t===13){if(t=d(a),t!==null){e.blockedOn=t,re(e.priority,function(){if(a.tag===13){var l=nn();l=O(l);var r=Wi(a,l);r!==null&&an(r,a,l),Mf(a,l)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Or(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Rf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Oo=l,a.target.dispatchEvent(l),Oo=null}else return t=Yi(a),t!==null&&Vm(t),e.blockedOn=a,!1;t.shift()}return!0}function Km(e,t,a){Or(e)&&a.delete(t)}function Vb(){Df=!1,Ha!==null&&Or(Ha)&&(Ha=null),ja!==null&&Or(ja)&&(ja=null),_a!==null&&Or(_a)&&(_a=null),Is.forEach(Km),Ws.forEach(Km)}function Br(e,t){e.blockedOn===t&&(e.blockedOn=null,Df||(Df=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vb)))}var Cr=null;function km(e){Cr!==e&&(Cr=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Cr===e&&(Cr=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],r=e[t+2];if(typeof l!="function"){if(qf(l||a)===null)continue;break}var f=Yi(a);f!==null&&(e.splice(t,3),t-=3,Rc(f,{pending:!0,data:r,method:a.method,action:l},l,r))}}))}function eu(e){function t(R){return Br(R,e)}Ha!==null&&Br(Ha,e),ja!==null&&Br(ja,e),_a!==null&&Br(_a,e),Is.forEach(t),Ws.forEach(t);for(var a=0;a<La.length;a++){var l=La[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<La.length&&(a=La[0],a.blockedOn===null);)Zm(a),a.blockedOn===null&&La.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var r=a[l],f=a[l+1],m=r[_e]||null;if(typeof f=="function")m||km(a);else if(m){var b=null;if(f&&f.hasAttribute("formAction")){if(r=f,m=f[_e]||null)b=m.formAction;else if(qf(r)!==null)continue}else b=m.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),km(a)}}}function Of(e){this._internalRoot=e}Ur.prototype.render=Of.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var a=t.current,l=nn();Ym(a,l,e,t,null,null)},Ur.prototype.unmount=Of.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ym(e.current,2,null,e,null,null),gr(),t[Fe]=null}};function Ur(e){this._internalRoot=e}Ur.prototype.unstable_scheduleHydration=function(e){if(e){var t=I();e={blockedOn:null,target:e,priority:t};for(var a=0;a<La.length&&t!==0&&t<La[a].priority;a++);La.splice(a,0,e),a===0&&Zm(e)}};var Fm=n.version;if(Fm!=="19.1.0")throw Error(u(527,Fm,"19.1.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=p(t),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var Xb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zr.isDisabled&&zr.supportsFiber)try{En=zr.inject(Xb),Ie=zr}catch{}}return nu.createRoot=function(e,t){if(!o(e))throw Error(u(299));var a=!1,l="",r=cp,f=fp,m=hp,b=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(b=t.unstable_transitionCallbacks)),t=_m(e,1,!1,null,null,a,l,r,f,m,b,null),e[Fe]=t.current,hf(e),new Of(t)},nu.hydrateRoot=function(e,t,a){if(!o(e))throw Error(u(299));var l=!1,r="",f=cp,m=fp,b=hp,R=null,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(Y=a.formState)),t=_m(e,1,!0,t,a??null,l,r,f,m,b,R,Y),t.context=Lm(null),a=t.current,l=nn(),l=O(l),r=xa(l),r.callback=null,Sa(a,r,l),a=l,t.current.lanes=a,va(t,a),Xn(t),e[Fe]=t.current,hf(e),new Ur(t)},nu.version="19.1.0",nu}var i0;function a2(){if(i0)return Uf.exports;i0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Uf.exports=n2(),Uf.exports}var i2=a2(),l2=Object.defineProperty,g=(i,n)=>l2(i,"name",{value:n,configurable:!0}),s2=(()=>{for(var i=new Uint8Array(128),n=0;n<64;n++)i[n<26?n+65:n<52?n+71:n<62?n-4:n*4-205]=n;return s=>{for(var u=s.length,o=new Uint8Array((u-(s[u-1]=="=")-(s[u-2]=="="))*3/4|0),c=0,d=0;c<u;){var y=i[s.charCodeAt(c++)],p=i[s.charCodeAt(c++)],h=i[s.charCodeAt(c++)],A=i[s.charCodeAt(c++)];o[d++]=y<<2|p>>4,o[d++]=p<<4|h>>2,o[d++]=h<<6|A}return o}})(),je,Ce=(je=class{constructor(n,s,u){L(this,"r",255);L(this,"g",255);L(this,"b",255);this.r=Hn(n,0,255),this.g=Hn(s,0,255),this.b=Hn(u,0,255)}static fromArray(n){return new je(n[0],n[1],n[2])}static fromHex(n){if(typeof n=="number")return new je(n>>16&255,n>>8&255,n>>0&255);if(typeof n=="string"){let s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);if(!s)throw new Error("Invalid hex color format");return new je(parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16))}else throw new Error("Invalid hex color format")}static fromHSL(n,s,u){if(s==0)return new je(255*u,255*u,255*u);let o=g((A,T,v)=>(v<0&&(v+=1),v>1&&(v-=1),v<1/6?A+(T-A)*6*v:v<1/2?T:v<2/3?A+(T-A)*(2/3-v)*6:A),"hue2rgb"),c=u<.5?u*(1+s):u+s-u*s,d=2*u-c,y=o(d,c,n+1/3),p=o(d,c,n),h=o(d,c,n-1/3);return new je(Math.round(y*255),Math.round(p*255),Math.round(h*255))}clone(){return new je(this.r,this.g,this.b)}lighten(n){return new je(this.r+n,this.g+n,this.b+n)}darken(n){return this.lighten(-n)}invert(){return new je(255-this.r,255-this.g,255-this.b)}mult(n){return new je(this.r*n.r/255,this.g*n.g/255,this.b*n.b/255)}lerp(n,s){return new je(Qt(this.r,n.r,s),Qt(this.g,n.g,s),Qt(this.b,n.b,s))}toHSL(){let n=this.r/255,s=this.g/255,u=this.b/255,o=Math.max(n,s,u),c=Math.min(n,s,u),d=(o+c)/2,y=d,p=d;if(o==c)d=y=0;else{let h=o-c;switch(y=p>.5?h/(2-o-c):h/(o+c),o){case n:d=(s-u)/h+(s<u?6:0);break;case s:d=(u-n)/h+2;break;case u:d=(n-s)/h+4;break}d/=6}return[d,y,p]}eq(n){return this.r===n.r&&this.g===n.g&&this.b===n.b}toString(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}toArray(){return[this.r,this.g,this.b]}},g(je,"Color"),L(je,"RED",new je(255,0,0)),L(je,"GREEN",new je(0,255,0)),L(je,"BLUE",new je(0,0,255)),L(je,"YELLOW",new je(255,255,0)),L(je,"MAGENTA",new je(255,0,255)),L(je,"CYAN",new je(0,255,255)),L(je,"WHITE",new je(255,255,255)),L(je,"BLACK",new je(0,0,0)),je);function Ye(...i){if(i.length===0)return new Ce(255,255,255);if(i.length===1){if(i[0]instanceof Ce)return i[0].clone();if(typeof i[0]=="string")return Ce.fromHex(i[0]);if(Array.isArray(i[0])&&i[0].length===3)return Ce.fromArray(i[0])}else if(i.length===2){if(i[0]instanceof Ce)return i[0].clone()}else if(i.length===3||i.length===4)return new Ce(i[0],i[1],i[2]);throw new Error("Invalid color arguments")}g(Ye,"rgb");var u2=g((i,n,s)=>Ce.fromHSL(i,n,s),"hsl2rgb");function dt(i){return i*Math.PI/180}g(dt,"deg2rad");function Fa(i){return i*180/Math.PI}g(Fa,"rad2deg");function Hn(i,n,s){return n>s?Hn(i,s,n):Math.min(Math.max(i,n),s)}g(Hn,"clamp");function Qt(i,n,s){if(typeof i=="number"&&typeof n=="number")return i+(n-i)*s;if(i instanceof J&&n instanceof J||i instanceof Ce&&n instanceof Ce)return i.lerp(n,s);throw new Error(`Bad value for lerp(): ${i}, ${n}. Only number, Vec2 and Color is supported.`)}g(Qt,"lerp");function zn(i,n,s,u,o){return u+(i-n)/(s-n)*(o-u)}g(zn,"map");function y0(i,n,s,u,o){return Hn(zn(i,n,s,u,o),u,o)}g(y0,"mapc");var ke,J=(ke=class{constructor(n=0,s=n){L(this,"x",0);L(this,"y",0);this.x=n,this.y=s}static fromAngle(n){let s=dt(n);return new ke(Math.cos(s),Math.sin(s))}static fromArray(n){return new ke(n[0],n[1])}clone(){return new ke(this.x,this.y)}add(...n){let s=Q(...n);return new ke(this.x+s.x,this.y+s.y)}sub(...n){let s=Q(...n);return new ke(this.x-s.x,this.y-s.y)}scale(...n){let s=Q(...n);return new ke(this.x*s.x,this.y*s.y)}dist(...n){let s=Q(...n);return this.sub(s).len()}sdist(...n){let s=Q(...n);return this.sub(s).slen()}static sdist(n,s){let u=n.x-s.x,o=n.y-s.y;return u*u+o*o}len(){return Math.sqrt(this.dot(this))}slen(){return this.dot(this)}unit(){let n=this.len();return n===0?new ke(0):this.scale(1/n)}normal(){return new ke(this.y,-this.x)}reflect(n){return this.sub(n.scale(2*this.dot(n)))}project(n){return n.scale(n.dot(this)/n.len())}reject(n){return this.sub(this.project(n))}dot(n){return this.x*n.x+this.y*n.y}static dot(n,s){return n.x*s.x+n.y*s.y}cross(n){return this.x*n.y-this.y*n.x}static cross(n,s){return n.x*s.y-n.y*s.x}angle(...n){let s=Q(...n);return Fa(Math.atan2(this.y-s.y,this.x-s.x))}angleBetween(...n){let s=Q(...n);return Fa(Math.atan2(this.cross(s),this.dot(s)))}lerp(n,s){return new ke(Qt(this.x,n.x,s),Qt(this.y,n.y,s))}slerp(n,s){let u=this.dot(n),o=this.cross(n),c=Math.atan2(o,u);return this.scale(Math.sin((1-s)*c)).add(n.scale(Math.sin(s*c))).scale(1/o)}isZero(){return this.x===0&&this.y===0}toFixed(n){return new ke(Number(this.x.toFixed(n)),Number(this.y.toFixed(n)))}transform(n){return n.multVec2(this)}eq(n){return this.x===n.x&&this.y===n.y}bbox(){return new tt(this,0,0)}toString(){return`vec2(${this.x.toFixed(2)}, ${this.y.toFixed(2)})`}toArray(){return[this.x,this.y]}},g(ke,"Vec2"),L(ke,"ZERO",new ke(0,0)),L(ke,"ONE",new ke(1,1)),L(ke,"LEFT",new ke(-1,0)),L(ke,"RIGHT",new ke(1,0)),L(ke,"UP",new ke(0,-1)),L(ke,"DOWN",new ke(0,1)),ke);function Q(...i){if(i.length===1){if(i[0]instanceof J)return new J(i[0].x,i[0].y);if(Array.isArray(i[0])&&i[0].length===2)return new J(...i[0])}return new J(...i)}g(Q,"vec2");var Qa,lt=(Qa=class{constructor(n,s,u,o){L(this,"x",0);L(this,"y",0);L(this,"w",1);L(this,"h",1);this.x=n,this.y=s,this.w=u,this.h=o}scale(n){return new Qa(this.x+this.w*n.x,this.y+this.h*n.y,this.w*n.w,this.h*n.h)}pos(){return new J(this.x,this.y)}clone(){return new Qa(this.x,this.y,this.w,this.h)}eq(n){return this.x===n.x&&this.y===n.y&&this.w===n.w&&this.h===n.h}toString(){return`quad(${this.x}, ${this.y}, ${this.w}, ${this.h})`}},g(Qa,"Quad"),Qa);function ht(i,n,s,u){return new lt(i,n,s,u)}g(ht,"quad");var Cn,Qr=(Cn=class{constructor(n,s,u,o){L(this,"a");L(this,"b");L(this,"c");L(this,"d");this.a=n,this.b=s,this.c=u,this.d=o}mul(n){return new Cn(this.a*n.a+this.b*n.c,this.a*n.b+this.b*n.d,this.c*n.a+this.d*n.c,this.c*n.b+this.d*n.d)}transform(n){return Q(this.a*n.x+this.b*n.y,this.c*n.x+this.d*n.y)}get inverse(){let n=this.det;return new Cn(this.d/n,-this.b/n,-this.c/n,this.a/n)}get transpose(){return new Cn(this.a,this.c,this.b,this.d)}get eigenvalues(){let n=this.trace/2,s=this.det,u=n+Math.sqrt(n*n-s),o=n-Math.sqrt(n*n-s);return[u,o]}eigenvectors(n,s){return this.c!=0?[[n-this.d,this.c],[s-this.d,this.c]]:this.b!=0?[[this.b,n-this.a],[this.b,s-this.a]]:Math.abs(this.transform(Q(1,0)).x-n)<Number.EPSILON?[[1,0],[0,1]]:[[0,1],[1,0]]}get det(){return this.a*this.d-this.b*this.c}get trace(){return this.a+this.d}static rotation(n){let s=Math.cos(n),u=Math.sin(n);return new Cn(s,u,-u,s)}static scale(n,s){return new Cn(n,0,0,s)}},g(Cn,"Mat2"),Cn),Zn,lu=(Zn=class{constructor(n,s,u,o,c,d,y,p,h){L(this,"m11");L(this,"m12");L(this,"m13");L(this,"m21");L(this,"m22");L(this,"m23");L(this,"m31");L(this,"m32");L(this,"m33");this.m11=n,this.m12=s,this.m13=u,this.m21=o,this.m22=c,this.m23=d,this.m31=y,this.m32=p,this.m33=h}static fromMat2(n){return new Zn(n.a,n.b,0,n.c,n.d,0,0,0,1)}toMat2(){return new Qr(this.m11,this.m12,this.m21,this.m22)}mul(n){return new Zn(this.m11*n.m11+this.m12*n.m21+this.m13*n.m31,this.m11*n.m12+this.m12*n.m22+this.m13*n.m32,this.m11*n.m13+this.m12*n.m23+this.m13*n.m33,this.m21*n.m11+this.m22*n.m21+this.m23*n.m31,this.m21*n.m12+this.m22*n.m22+this.m23*n.m32,this.m21*n.m13+this.m22*n.m23+this.m23*n.m33,this.m31*n.m11+this.m32*n.m21+this.m33*n.m31,this.m31*n.m12+this.m32*n.m22+this.m33*n.m32,this.m31*n.m13+this.m32*n.m23+this.m33*n.m33)}get det(){return this.m11*this.m22*this.m33+this.m12*this.m23*this.m31+this.m13*this.m21*this.m32-this.m13*this.m22*this.m31-this.m12*this.m21*this.m33-this.m11*this.m23*this.m32}rotate(n){let s=Math.cos(n),u=Math.sin(n),o=this.m11,c=this.m12;return this.m11=s*this.m11+u*this.m21,this.m12=s*this.m12+u*this.m22,this.m21=s*this.m21-u*o,this.m22=s*this.m22-u*c,this}scale(n,s){return this.m11*=n,this.m12*=n,this.m21*=s,this.m22*=s,this}get inverse(){let n=this.det;return new Zn((this.m22*this.m33-this.m23*this.m32)/n,(this.m13*this.m32-this.m12*this.m33)/n,(this.m12*this.m23-this.m13*this.m22)/n,(this.m23*this.m31-this.m21*this.m33)/n,(this.m11*this.m33-this.m13*this.m31)/n,(this.m13*this.m21-this.m11*this.m23)/n,(this.m21*this.m32-this.m22*this.m31)/n,(this.m12*this.m31-this.m11*this.m32)/n,(this.m11*this.m22-this.m12*this.m21)/n)}get transpose(){return new Zn(this.m11,this.m21,this.m31,this.m12,this.m22,this.m32,this.m13,this.m23,this.m33)}},g(Zn,"Mat3"),Zn),Gt,Fn=(Gt=class{constructor(n){L(this,"m",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);n&&(this.m=n)}static translate(n){return new Gt([1,0,0,0,0,1,0,0,0,0,1,0,n.x,n.y,0,1])}static scale(n){return new Gt([n.x,0,0,0,0,n.y,0,0,0,0,1,0,0,0,0,1])}static rotateX(n){n=dt(-n);let s=Math.cos(n),u=Math.sin(n);return new Gt([1,0,0,0,0,s,-u,0,0,u,s,0,0,0,0,1])}static rotateY(n){n=dt(-n);let s=Math.cos(n),u=Math.sin(n);return new Gt([s,0,u,0,0,1,0,0,-u,0,s,0,0,0,0,1])}static rotateZ(n){n=dt(-n);let s=Math.cos(n),u=Math.sin(n);return new Gt([s,-u,0,0,u,s,0,0,0,0,1,0,0,0,0,1])}translate(n){return this.m[12]+=this.m[0]*n.x+this.m[4]*n.y,this.m[13]+=this.m[1]*n.x+this.m[5]*n.y,this.m[14]+=this.m[2]*n.x+this.m[6]*n.y,this.m[15]+=this.m[3]*n.x+this.m[7]*n.y,this}scale(n){return this.m[0]*=n.x,this.m[4]*=n.y,this.m[1]*=n.x,this.m[5]*=n.y,this.m[2]*=n.x,this.m[6]*=n.y,this.m[3]*=n.x,this.m[7]*=n.y,this}rotate(n){n=dt(-n);let s=Math.cos(n),u=Math.sin(n),o=this.m[0],c=this.m[1],d=this.m[4],y=this.m[5];return this.m[0]=o*s+c*u,this.m[1]=-o*u+c*s,this.m[4]=d*s+y*u,this.m[5]=-d*u+y*s,this}mult(n){let s=[];for(let u=0;u<4;u++)for(let o=0;o<4;o++)s[u*4+o]=this.m[0*4+o]*n.m[u*4+0]+this.m[1*4+o]*n.m[u*4+1]+this.m[2*4+o]*n.m[u*4+2]+this.m[3*4+o]*n.m[u*4+3];return new Gt(s)}multVec2(n){return new J(n.x*this.m[0]+n.y*this.m[4]+this.m[12],n.x*this.m[1]+n.y*this.m[5]+this.m[13])}getTranslation(){return new J(this.m[12],this.m[13])}getScale(){if(this.m[0]!=0||this.m[1]!=0){let n=this.m[0]*this.m[5]-this.m[1]*this.m[4],s=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new J(s,n/s)}else if(this.m[4]!=0||this.m[5]!=0){let n=this.m[0]*this.m[5]-this.m[1]*this.m[4],s=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new J(n/s,s)}else return new J(0,0)}getRotation(){if(this.m[0]!=0||this.m[1]!=0){let n=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return Fa(this.m[1]>0?Math.acos(this.m[0]/n):-Math.acos(this.m[0]/n))}else if(this.m[4]!=0||this.m[5]!=0){let n=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return Fa(Math.PI/2-(this.m[5]>0?Math.acos(-this.m[4]/n):-Math.acos(this.m[4]/n)))}else return 0}getSkew(){if(this.m[0]!=0||this.m[1]!=0){let n=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new J(Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(n*n),0)}else if(this.m[4]!=0||this.m[5]!=0){let n=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new J(0,Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(n*n))}else return new J(0,0)}invert(){let n=[],s=this.m[10]*this.m[15]-this.m[14]*this.m[11],u=this.m[9]*this.m[15]-this.m[13]*this.m[11],o=this.m[9]*this.m[14]-this.m[13]*this.m[10],c=this.m[8]*this.m[15]-this.m[12]*this.m[11],d=this.m[8]*this.m[14]-this.m[12]*this.m[10],y=this.m[8]*this.m[13]-this.m[12]*this.m[9],p=this.m[6]*this.m[15]-this.m[14]*this.m[7],h=this.m[5]*this.m[15]-this.m[13]*this.m[7],A=this.m[5]*this.m[14]-this.m[13]*this.m[6],T=this.m[4]*this.m[15]-this.m[12]*this.m[7],v=this.m[4]*this.m[14]-this.m[12]*this.m[6],D=this.m[5]*this.m[15]-this.m[13]*this.m[7],E=this.m[4]*this.m[13]-this.m[12]*this.m[5],U=this.m[6]*this.m[11]-this.m[10]*this.m[7],x=this.m[5]*this.m[11]-this.m[9]*this.m[7],S=this.m[5]*this.m[10]-this.m[9]*this.m[6],H=this.m[4]*this.m[11]-this.m[8]*this.m[7],X=this.m[4]*this.m[10]-this.m[8]*this.m[6],ae=this.m[4]*this.m[9]-this.m[8]*this.m[5];n[0]=this.m[5]*s-this.m[6]*u+this.m[7]*o,n[4]=-(this.m[4]*s-this.m[6]*c+this.m[7]*d),n[8]=this.m[4]*u-this.m[5]*c+this.m[7]*y,n[12]=-(this.m[4]*o-this.m[5]*d+this.m[6]*y),n[1]=-(this.m[1]*s-this.m[2]*u+this.m[3]*o),n[5]=this.m[0]*s-this.m[2]*c+this.m[3]*d,n[9]=-(this.m[0]*u-this.m[1]*c+this.m[3]*y),n[13]=this.m[0]*o-this.m[1]*d+this.m[2]*y,n[2]=this.m[1]*p-this.m[2]*h+this.m[3]*A,n[6]=-(this.m[0]*p-this.m[2]*T+this.m[3]*v),n[10]=this.m[0]*D-this.m[1]*T+this.m[3]*E,n[14]=-(this.m[0]*A-this.m[1]*v+this.m[2]*E),n[3]=-(this.m[1]*U-this.m[2]*x+this.m[3]*S),n[7]=this.m[0]*U-this.m[2]*H+this.m[3]*X,n[11]=-(this.m[0]*x-this.m[1]*H+this.m[3]*ae),n[15]=this.m[0]*S-this.m[1]*X+this.m[2]*ae;let k=this.m[0]*n[0]+this.m[1]*n[4]+this.m[2]*n[8]+this.m[3]*n[12];for(let q=0;q<4;q++)for(let B=0;B<4;B++)n[q*4+B]*=1/k;return new Gt(n)}clone(){return new Gt([...this.m])}toString(){return this.m.toString()}},g(Gt,"Mat4"),Gt);function ih(i,n,s,u=o=>-Math.cos(o)){return i+(u(s)+1)/2*(n-i)}g(ih,"wave");var r2=1103515245,o2=12345,l0=2147483648,Cl,v0=(Cl=class{constructor(n){L(this,"seed");this.seed=n}gen(){return this.seed=(r2*this.seed+o2)%l0,this.seed/l0}genNumber(n,s){return n+this.gen()*(s-n)}genVec2(n,s){return new J(this.genNumber(n.x,s.x),this.genNumber(n.y,s.y))}genColor(n,s){return new Ce(this.genNumber(n.r,s.r),this.genNumber(n.g,s.g),this.genNumber(n.b,s.b))}genAny(...n){if(n.length===0)return this.gen();if(n.length===1){if(typeof n[0]=="number")return this.genNumber(0,n[0]);if(n[0]instanceof J)return this.genVec2(Q(0,0),n[0]);if(n[0]instanceof Ce)return this.genColor(Ye(0,0,0),n[0])}else if(n.length===2){if(typeof n[0]=="number"&&typeof n[1]=="number")return this.genNumber(n[0],n[1]);if(n[0]instanceof J&&n[1]instanceof J)return this.genVec2(n[0],n[1]);if(n[0]instanceof Ce&&n[1]instanceof Ce)return this.genColor(n[0],n[1])}throw new Error("More than 2 arguments not supported")}},g(Cl,"RNG"),Cl),Vf=new v0(Date.now());function A0(i){return i!=null&&(Vf.seed=i),Vf.seed}g(A0,"randSeed");function St(...i){return Vf.genAny(...i)}g(St,"rand");function lh(...i){return Math.floor(St(...i.length>0?i:[2]))}g(lh,"randi");function b0(i){return St()<=i}g(b0,"chance");function sh(i){for(let n=i.length-1;n>0;n--){let s=Math.floor(Math.random()*(n+1));[i[n],i[s]]=[i[s],i[n]]}return i}g(sh,"shuffle");function w0(i,n){return i.length<=n?i.slice():sh(i.slice()).slice(0,n)}g(w0,"chooseMultiple");function x0(i){return i[lh(i.length)]}g(x0,"choose");function uh(i,n){return i.pos.x+i.width>n.pos.x&&i.pos.x<n.pos.x+n.width&&i.pos.y+i.height>n.pos.y&&i.pos.y<n.pos.y+n.height}g(uh,"testRectRect");function S0(i,n){if(i.p1.x===i.p2.x&&i.p1.y===i.p2.y||n.p1.x===n.p2.x&&n.p1.y===n.p2.y)return null;let s=(n.p2.y-n.p1.y)*(i.p2.x-i.p1.x)-(n.p2.x-n.p1.x)*(i.p2.y-i.p1.y);if(s===0)return null;let u=((n.p2.x-n.p1.x)*(i.p1.y-n.p1.y)-(n.p2.y-n.p1.y)*(i.p1.x-n.p1.x))/s,o=((i.p2.x-i.p1.x)*(i.p1.y-n.p1.y)-(i.p2.y-i.p1.y)*(i.p1.x-n.p1.x))/s;return u<0||u>1||o<0||o>1?null:u}g(S0,"testLineLineT");function io(i,n){let s=S0(i,n);return s?Q(i.p1.x+s*(i.p2.x-i.p1.x),i.p1.y+s*(i.p2.y-i.p1.y)):null}g(io,"testLineLine");function lo(i,n){let s=n.p2.sub(n.p1),u=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;if(s.x!=0){let c=(i.pos.x-n.p1.x)/s.x,d=(i.pos.x+i.width-n.p1.x)/s.x;u=Math.max(u,Math.min(c,d)),o=Math.min(o,Math.max(c,d))}if(s.y!=0){let c=(i.pos.y-n.p1.y)/s.y,d=(i.pos.y+i.height-n.p1.y)/s.y;u=Math.max(u,Math.min(c,d)),o=Math.min(o,Math.max(c,d))}return o>=u&&o>=0&&u<=1}g(lo,"testRectLine");function vu(i,n){return n.x>i.pos.x&&n.x<i.pos.x+i.width&&n.y>i.pos.y&&n.y<i.pos.y+i.height}g(vu,"testRectPoint");function rh(i,n){let s=Math.max(i.pos.x,Math.min(n.center.x,i.pos.x+i.width)),u=Math.max(i.pos.y,Math.min(n.center.y,i.pos.y+i.height));return Q(s,u).sdist(n.center)<=n.radius*n.radius}g(rh,"testRectCircle");function oh(i,n){return ch(n,new Kt(i.points()))}g(oh,"testRectPolygon");function so(i,n){let s=n.sub(i.p1),u=i.p2.sub(i.p1);if(Math.abs(s.cross(u))>Number.EPSILON)return!1;let o=s.dot(u)/u.dot(u);return o>=0&&o<=1}g(so,"testLinePoint");function ns(i,n){let s=i.p2.sub(i.p1),u=s.dot(s),o=i.p1.sub(n.center),c=2*s.dot(o),d=o.dot(o)-n.radius*n.radius,y=c*c-4*u*d;if(u<=Number.EPSILON||y<0)return!1;if(y==0){let p=-c/(2*u);if(p>=0&&p<=1)return!0}else{let p=(-c+Math.sqrt(y))/(2*u),h=(-c-Math.sqrt(y))/(2*u);if(p>=0&&p<=1||h>=0&&h<=1)return!0}return Au(n,i.p1)}g(ns,"testLineCircle");function uo(i,n){if(da(n,i.p1)||da(n,i.p2))return!0;for(let s=0;s<n.pts.length;s++){let u=n.pts[s],o=n.pts[(s+1)%n.pts.length];if(io(i,new cn(u,o)))return!0}return!1}g(uo,"testLinePolygon");function Au(i,n){return i.center.sdist(n)<i.radius*i.radius}g(Au,"testCirclePoint");function E0(i,n){return i.center.sdist(n.center)<(i.radius+n.radius)*(i.radius+n.radius)}g(E0,"testCircleCircle");function bu(i,n){let s=n.pts[n.pts.length-1];for(let u of n.pts){if(ns(new cn(s,u),i))return!0;s=u}return Au(i,n.pts[0])?!0:da(n,i.center)}g(bu,"testCirclePolygon");function ch(i,n){for(let s=0;s<i.pts.length;s++)if(uo(new cn(i.pts[s],i.pts[(s+1)%i.pts.length]),n))return!0;return!!(i.pts.some(s=>da(n,s))||n.pts.some(s=>da(i,s)))}g(ch,"testPolygonPolygon");function da(i,n){let s=!1,u=i.pts;for(let o=0,c=u.length-1;o<u.length;c=o++)u[o].y>n.y!=u[c].y>n.y&&n.x<(u[c].x-u[o].x)*(n.y-u[o].y)/(u[c].y-u[o].y)+u[o].x&&(s=!s);return s}g(da,"testPolygonPoint");function ro(i,n){n=n.sub(i.center);let s=dt(i.angle),u=Math.cos(s),o=Math.sin(s),c=n.x*u+n.y*o,d=-n.x*o+n.y*u;return c*c/(i.radiusX*i.radiusX)+d*d/(i.radiusY*i.radiusY)<1}g(ro,"testEllipsePoint");function ru(i,n){let s=n.center.sub(i.center),u=dt(i.angle),o=Math.cos(u),c=Math.sin(u),d=s.x*o+s.y*c,y=-s.x*c+s.y*o;return ro(new ga(Q(),i.radiusX+n.radius,i.radiusY+n.radius,0),Q(d,y))}g(ru,"testEllipseCircle");function fh(i,n){let s=i.toMat2().inverse;return n=new cn(s.transform(n.p1.sub(i.center)),s.transform(n.p2.sub(i.center))),ns(n,new rn(Q(),1))}g(fh,"testEllipseLine");function M0(i,n){if(i.radiusX===i.radiusY)return ru(n,new rn(i.center,i.radiusX));if(n.radiusX===n.radiusY)return ru(i,new rn(n.center,n.radiusX));let s=new lu(1/i.radiusX**2,0,0,0,1/i.radiusY**2,0,0,0,-1),u=new lu(1/n.radiusX**2,0,0,0,1/n.radiusY**2,0,0,0,-1),o=i.center.x,c=i.center.y,d=n.center.x,y=n.center.y,p=dt(i.angle),h=dt(n.angle),A=new lu(Math.cos(p),-Math.sin(p),o,Math.sin(p),Math.cos(p),c,0,0,1),T=new lu(Math.cos(h),-Math.sin(h),d,Math.sin(h),Math.cos(h),y,0,0,1),v=A.inverse,D=T.inverse,E=v.transpose.mul(s).mul(v),U=D.transpose.mul(u).mul(D),x=E.m11,S=E.m12,H=E.m13,X=E.m21,ae=E.m22,k=E.m23,q=E.m31,B=E.m32,N=E.m33,K=U.m11,ne=U.m12,ie=U.m13,se=U.m21,ge=U.m22,ve=U.m23,me=U.m31,_=U.m32,$=U.m33,ue=x*ae*N-x*k*B-S*X*N+S*k*q+H*X*B-H*ae*q,fe=(x*ae*$-x*k*_-x*B*ve+x*N*ge-S*X*$+S*k*me+S*q*ve-S*N*se+H*X*_-H*ae*me-H*q*ge+H*B*se+X*B*ie-X*N*ne-ae*q*ie+ae*N*K+k*q*ne-k*B*K)/ue,M=(x*ge*$-x*ve*_-S*se*$+S*ve*me+H*se*_-H*ge*me-X*ne*$+X*ie*_+ae*K*$-ae*ie*me-k*K*_+k*ne*me+q*ne*ve-q*ie*ge-B*K*ve+B*ie*se+N*K*ge-N*ne*se)/ue,F=(K*ge*$-K*ve*_-ne*se*$+ne*ve*me+ie*se*_-ie*ge*me)/ue;if(fe>=0){let ee=-3*M+fe**2,le=3*fe*F+M*fe**2-4*M**2,ce=-27*F**2+18*F*fe*M+fe**2*M**2-4*fe**3*F-4*M**3;return!(ee>0&&le<0&&ce>0)}else{let ee=-3*M+fe**2,le=-27*F**2+18*F*fe*M+fe**2*M**2-4*fe**3*F-4*M**3;return!(ee>0&&le>0)}}g(M0,"testEllipseEllipse");function hh(i,n){return oo(i,new Kt(n.points()))}g(hh,"testEllipseRect");function oo(i,n){let s=i.toMat2().inverse;return n=new Kt(n.pts.map(u=>s.transform(u.sub(i.center)))),bu(new rn(Q(),1),n)}g(oo,"testEllipsePolygon");function T0(i,n){return i.x===n.x&&i.y===n.y}g(T0,"testPointPoint");function R0(i,n){return n instanceof J?T0(n,i.pt):n instanceof rn?Au(n,i.pt):n instanceof cn?so(n,i.pt):n instanceof tt?vu(n,i.pt):n instanceof Kt?da(n,i.pt):n instanceof ga?ro(n,i.pt):!1}g(R0,"testPointShape");function q0(i,n){return n instanceof J?so(i,n):n instanceof rn?ns(i,n):n instanceof cn?io(i,n)!=null:n instanceof tt?lo(n,i):n instanceof Kt?uo(i,n):n instanceof ga?fh(n,i):!1}g(q0,"testLineShape");function D0(i,n){return n instanceof J?Au(i,n):n instanceof rn?E0(i,n):n instanceof cn?ns(n,i):n instanceof tt?rh(n,i):n instanceof Kt?bu(i,n):n instanceof ga?ru(n,i):!1}g(D0,"testCircleShape");function O0(i,n){return n instanceof J?vu(i,n):n instanceof rn?rh(i,n):n instanceof cn?lo(i,n):n instanceof tt?uh(i,n):n instanceof Kt?oh(i,n):n instanceof ga?hh(n,i):!1}g(O0,"testRectShape");function B0(i,n){return n instanceof J?da(i,n):n instanceof rn?bu(n,i):n instanceof cn?uo(n,i):n instanceof tt?oh(n,i):n instanceof Kt?ch(n,i):n instanceof ga?oo(n,i):!1}g(B0,"testPolygonShape");function C0(i,n){return n instanceof J?ro(i,n):n instanceof rn?ru(i,n):n instanceof cn?fh(i,n):n instanceof tt?hh(i,n):n instanceof Kt?oo(i,n):n instanceof ga?M0(n,i):!1}g(C0,"testEllipseShape");function dh(i,n,s){let u=i,o=s.p1,c=s.p2,d=n,y=c.sub(o),p=d.cross(y);if(Math.abs(p)<Number.EPSILON)return null;let h=o.sub(u),A=h.cross(y)/p;if(A<=0||A>=1)return null;let T=h.cross(d)/p;if(T<=0||T>=1)return null;let v=y.normal().unit();return n.dot(v)>0&&(v.x*=-1,v.y*=-1),{point:u.add(d.scale(A)),normal:v,fraction:A}}g(dh,"raycastLine");function U0(i,n,s){let u=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,c;if(i.x!=0){let d=(s.pos.x-i.x)/n.x,y=(s.pos.x+s.width-i.x)/n.x;c=Q(-Math.sign(n.x),0),u=Math.max(u,Math.min(d,y)),o=Math.min(o,Math.max(d,y))}if(i.y!=0){let d=(s.pos.y-i.y)/n.y,y=(s.pos.y+s.height-i.y)/n.y;Math.min(d,y)>u&&(c=Q(0,-Math.sign(n.y))),u=Math.max(u,Math.min(d,y)),o=Math.min(o,Math.max(d,y))}return o>=u&&u>=0&&u<=1?{point:i.add(n.scale(u)),normal:c,fraction:u}:null}g(U0,"raycastRect");function gh(i,n,s){let u=i,o=s.center,c=n,d=c.dot(c),y=u.sub(o),p=2*c.dot(y),h=y.dot(y)-s.radius*s.radius,A=p*p-4*d*h;if(d<=Number.EPSILON||A<0)return null;if(A==0){let T=-p/(2*d);if(T>=0&&T<=1){let v=u.add(c.scale(T));return{point:v,normal:v.sub(o),fraction:T}}}else{let T=(-p+Math.sqrt(A))/(2*d),v=(-p-Math.sqrt(A))/(2*d),D=null;if(T>=0&&T<=1&&(D=T),v>=0&&v<=1&&(D=Math.min(v,D??v)),D!=null){let E=u.add(c.scale(D));return{point:E,normal:E.sub(o).unit(),fraction:D}}}return null}g(gh,"raycastCircle");function z0(i,n,s){let u=s.pts,o=null,c=u[u.length-1];for(let d=0;d<u.length;d++){let y=u[d],p=dh(i,n,new cn(c,y));p&&(!o||o.fraction>p.fraction)&&(o=p),c=y}return o}g(z0,"raycastPolygon");function N0(i,n,s){let u=s.toMat2(),o=u.inverse,c=o.transform(i.sub(s.center)),d=o.transform(n),y=gh(c,d,new rn(Q(),1));if(y){let p=Qr.rotation(dt(-s.angle)),h=Qr.scale(s.radiusX,s.radiusY).transform(y.point),A=u.transform(y.point).add(s.center),T=A.dist(i)/n.len();return{point:A,normal:p.transform(Q(s.radiusY**2*h.x,s.radiusX**2*h.y)).unit(),fraction:T}}return y}g(N0,"raycastEllipse");function H0(i,n,s,u=64){let o=i,c=n.len(),d=n.scale(1/c),y=0,p=Q(Math.floor(i.x),Math.floor(i.y)),h=Q(d.x>0?1:-1,d.y>0?1:-1),A=Q(Math.abs(1/d.x),Math.abs(1/d.y)),T=Q(h.x>0?p.x+1-i.x:i.x-p.x,h.y>0?p.y+1-i.y:i.y-p.y),v=Q(A.x<1/0?A.x*T.x:1/0,A.y<1/0?A.y*T.y:1/0),D=-1;for(;y<=u;){let E=s(p);if(E===!0)return{point:o.add(d.scale(y)),normal:Q(D===0?-h.x:0,D===1?-h.y:0),fraction:y/c,gridPos:p};if(E)return E;v.x<v.y?(p.x+=h.x,y=v.x,v.x+=A.x,D=0):(p.y+=h.y,y=v.y,v.y+=A.y,D=1)}return null}g(H0,"raycastGrid");var Za,c2=(Za=class{constructor(n){L(this,"pt");this.pt=n.clone()}transform(n){return new Za(n.multVec2(this.pt))}bbox(){return new tt(this.pt,0,0)}area(){return 0}clone(){return new Za(this.pt)}collides(n){return R0(this,n)}contains(n){return this.pt.eq(n)}raycast(n,s){return null}random(){return this.pt.clone()}},g(Za,"Point"),Za),Ka,cn=(Ka=class{constructor(n,s){L(this,"p1");L(this,"p2");this.p1=n.clone(),this.p2=s.clone()}transform(n){return new Ka(n.multVec2(this.p1),n.multVec2(this.p2))}bbox(){return tt.fromPoints(this.p1,this.p2)}area(){return this.p1.dist(this.p2)}clone(){return new Ka(this.p1,this.p2)}collides(n){return q0(this,n)}contains(n){return this.collides(n)}raycast(n,s){return dh(n,s,this)}random(){return this.p1.add(this.p2.sub(this.p1).scale(St(1)))}},g(Ka,"Line"),Ka),ka,tt=(ka=class{constructor(n,s,u){L(this,"pos");L(this,"width");L(this,"height");this.pos=n.clone(),this.width=s,this.height=u}static fromPoints(n,s){return new ka(n.clone(),s.x-n.x,s.y-n.y)}center(){return new J(this.pos.x+this.width/2,this.pos.y+this.height/2)}points(){return[this.pos,this.pos.add(this.width,0),this.pos.add(this.width,this.height),this.pos.add(0,this.height)]}transform(n){return new Kt(this.points().map(s=>n.multVec2(s)))}bbox(){return this.clone()}area(){return this.width*this.height}clone(){return new ka(this.pos.clone(),this.width,this.height)}distToPoint(n){return Math.sqrt(this.sdistToPoint(n))}sdistToPoint(n){let s=this.pos,u=this.pos.add(this.width,this.height),o=Math.max(s.x-n.x,0,n.x-u.x),c=Math.max(s.y-n.y,0,n.y-u.y);return o*o+c*c}collides(n){return O0(this,n)}contains(n){return this.collides(n)}raycast(n,s){return U0(n,s,this)}random(){return this.pos.add(St(this.width),St(this.height))}},g(ka,"Rect"),ka),Mi,rn=(Mi=class{constructor(n,s){L(this,"center");L(this,"radius");this.center=n.clone(),this.radius=s}transform(n){return new ga(this.center,this.radius,this.radius).transform(n)}bbox(){return tt.fromPoints(this.center.sub(Q(this.radius)),this.center.add(Q(this.radius)))}area(){return this.radius*this.radius*Math.PI}clone(){return new Mi(this.center,this.radius)}collides(n){return D0(this,n)}contains(n){return this.collides(n)}raycast(n,s){return gh(n,s,this)}random(){return this.center.add(J.fromAngle(St(360)).scale(St(this.radius)))}},g(Mi,"Circle"),Mi),Un,ga=(Un=class{constructor(n,s,u,o=0){L(this,"center");L(this,"radiusX");L(this,"radiusY");L(this,"angle");this.center=n.clone(),this.radiusX=s,this.radiusY=u,this.angle=o}static fromMat2(n){let s=n.inverse,u=s.transpose.mul(s),[o,c]=u.eigenvalues,[d,y]=u.eigenvectors(o,c),[p,h]=[1/Math.sqrt(o),1/Math.sqrt(c)];return p>h?new Un(Q(),p,h,Fa(Math.atan2(-d[1],d[0]))):new Un(Q(),h,p,Fa(Math.atan2(-y[1],y[0])))}toMat2(){let n=dt(this.angle),s=Math.cos(n),u=Math.sin(n);return new Qr(s*this.radiusX,-u*this.radiusY,u*this.radiusX,s*this.radiusY)}transform(n){if(this.angle==0&&n.getRotation()==0)return new Un(n.multVec2(this.center),n.m[0]*this.radiusX,n.m[5]*this.radiusY);{let s=this.toMat2(),u=n.getRotation(),o=n.getScale();s=lu.fromMat2(s).scale(o.x,o.y).rotate(u).toMat2();let c=Un.fromMat2(s);return c.center=n.multVec2(this.center),c}}bbox(){if(this.angle==0)return tt.fromPoints(this.center.sub(Q(this.radiusX,this.radiusY)),this.center.add(Q(this.radiusX,this.radiusY)));{let n=dt(this.angle),s=Math.cos(n),u=Math.sin(n),o=this.radiusX*s,c=this.radiusX*u,d=this.radiusY*u,y=this.radiusY*s,p=Math.sqrt(o*o+d*d),h=Math.sqrt(c*c+y*y);return tt.fromPoints(this.center.sub(Q(p,h)),this.center.add(Q(p,h)))}}area(){return this.radiusX*this.radiusY*Math.PI}clone(){return new Un(this.center,this.radiusX,this.radiusY,this.angle)}collides(n){return C0(this,n)}contains(n){n=n.sub(this.center);let s=dt(this.angle),u=Math.cos(s),o=Math.sin(s),c=n.x*u+n.y*o,d=-n.x*o+n.y*u;return c*c/(this.radiusX*this.radiusX)+d*d/(this.radiusY*this.radiusY)<1}raycast(n,s){return N0(n,s,this)}random(){return this.center}},g(Un,"Ellipse"),Un);function j0(i,n,s,u){let o=n.sub(i),c=u.sub(s),d=o.cross(c);return d<1e-5&&d>-1e-5||(d=s.sub(i).cross(c)/d,d<0||d>1)?null:i.add(o.scale(d))}g(j0,"segmentLineIntersection");var Kn,Kt=(Kn=class{constructor(n){L(this,"pts");if(n.length<3)throw new Error("Polygons should have at least 3 vertices");this.pts=n}transform(n){return new Kn(this.pts.map(s=>n.multVec2(s)))}bbox(){let n=Q(Number.MAX_VALUE),s=Q(-Number.MAX_VALUE);for(let u of this.pts)n.x=Math.min(n.x,u.x),s.x=Math.max(s.x,u.x),n.y=Math.min(n.y,u.y),s.y=Math.max(s.y,u.y);return tt.fromPoints(n,s)}area(){let n=0,s=this.pts.length;for(let u=0;u<s;u++){let o=this.pts[u],c=this.pts[(u+1)%s];n+=o.x*c.y*.5,n-=c.x*o.y*.5}return Math.abs(n)}clone(){return new Kn(this.pts.map(n=>n.clone()))}collides(n){return B0(this,n)}contains(n){return this.collides(n)}raycast(n,s){return z0(n,s,this)}random(){return Q()}cut(n,s){new cn(n,s);let u=[],o=[],c=s.sub(n),d=this.pts[this.pts.length-1],y=d.sub(n),p=c.cross(y)>0;return this.pts.forEach(h=>{y=h.sub(n);let A=c.cross(y)>0;if(p!=A){let T=j0(d,h,n,s);u.push(T),o.push(T),p=A}(A?u:o).push(h),d=h}),[u.length?new Kn(u):null,o.length?new Kn(o):null]}},g(Kn,"Polygon"),Kn);function _0(i,n,s,u){let o=u*u,c=1-u,d=c*c;return i.scale(d).add(n.scale(2*c*u)).add(s.scale(o))}g(_0,"evaluateQuadratic");function L0(i,n,s,u){let o=1-u;return n.sub(i).scale(2*o).add(s.sub(n).scale(2*u))}g(L0,"evaluateQuadraticFirstDerivative");function Y0(i,n,s,u){return s.sub(n.scale(2)).add(i).scale(2)}g(Y0,"evaluateQuadraticSecondDerivative");function co(i,n,s,u,o){let c=o*o,d=c*o,y=1-o,p=y*y,h=p*y;return i.scale(h).add(n.scale(3*p*o)).add(s.scale(3*y*c)).add(u.scale(d))}g(co,"evaluateBezier");function G0(i,n,s,u,o){let c=o*o,d=1-o,y=d*d;return n.sub(i).scale(3*y).add(s.sub(n).scale(6*d*o)).add(u.sub(s).scale(3*c))}g(G0,"evaluateBezierFirstDerivative");function V0(i,n,s,u,o){let c=1-o;return s.sub(n.scale(2)).add(i).scale(6*c).add(u.sub(s.scale(2)).add(n).scale(6*o))}g(V0,"evaluateBezierSecondDerivative");function X0(i,n,s,u,o){let c=.5*(((-o+2)*o-1)*o),d=.5*((3*o-5)*o*o+2),y=.5*(((-3*o+4)*o+1)*o),p=.5*((o-1)*o*o);return i.scale(c).add(n.scale(d)).add(s.scale(y)).add(u.scale(p))}g(X0,"evaluateCatmullRom");function Q0(i,n,s,u,o){let c=.5*((-3*o+4)*o-1),d=.5*((9*o-10)*o),y=.5*((-9*o+8)*o+1),p=.5*((3*o-2)*o);return i.scale(c).add(n.scale(d)).add(s.scale(y)).add(u.scale(p))}g(Q0,"evaluateCatmullRomFirstDerivative");function Z0(i){let n=ph(i),s=n(1);return u=>{let o=u*s,c=n(o,!0);return i(c)}}g(Z0,"normalizedCurve");function ph(i,n=10,s=10){let u=[0],o=[0],c=1/(n-1)/s,d=0,y=i(0),p=0;for(let h=1;h<n;h++){for(let A=0;A<s;A++){p+=c;let T=i(p),v=T.dist(y);d+=v,y=T}u[h]=d,o[h]=p}return o[n-1]=1,(h,A=!1)=>{if(A){let T=h;if(T<=0)return 0;if(T>=d)return 1;let v=0;for(;u[v+1]<T;)v++;let D=o[v],E=o[v+1],U=u[v],x=u[v+1],S=(T-U)/(x-U);return D+(E-D)*S}else{if(h<=0)return 0;if(h>=1)return u[n-1];let T=0;for(;o[T+1]<h;)T++;let v=o[T],D=o[T+1],E=u[T],U=u[T+1],x=(h-v)/(D-v);return E+(U-E)*x}}}g(ph,"curveLengthApproximation");function as(i,n,s,u){let o=2*i+n-2*u+s,c=-3*i+3*u-2*n-s,d=n,y=i;return p=>{let h=p*p,A=h*p;return o*A+c*h+d*p+y}}g(as,"hermite");function mh(i,n,s,u,o,c=as){let d=c(n.x,(1-o)*(s.x-i.x),(1-o)*(u.x-n.x),s.x),y=c(n.y,(1-o)*(s.y-i.y),(1-o)*(u.y-n.y),s.y);return p=>new J(d(p),y(p))}g(mh,"cardinal");function ou(i,n,s,u,o=as){return mh(i,n,s,u,.5,o)}g(ou,"catmullRom");function K0(i,n,s,u,o=as){return ou(u.add(i.sub(n).scale(6)),i,u,i.add(u.sub(s).scale(6)),o)}g(K0,"bezier");function k0(i,n,s,u,o,c,d,y=as){let p=y(n.x,.5*(1-o)*(1+d)*(1+c)*(n.x-i.x)+.5*(1-o)*(1-d)*(1-c)*(s.x-n.x),.5*(1-o)*(1+d)*(1-c)*(s.x-n.x)+.5*(1-o)*(1-d)*(1+c)*(u.x-s.x),s.x),h=y(n.y,.5*(1-o)*(1+d)*(1+c)*(n.y-i.y)+.5*(1-o)*(1-d)*(1-c)*(s.y-n.y),.5*(1-o)*(1+d)*(1-c)*(s.y-n.y)+.5*(1-o)*(1-d)*(1+c)*(u.y-s.y),s.y);return A=>new J(p(A),h(A))}g(k0,"kochanekBartels");function F0(i,n,s,u){let o=2*i+n-2*u+s,c=-3*i+3*u-2*n+s,d=n;return y=>{let p=y*y;return 3*o*p+2*c*y+d}}g(F0,"hermiteFirstDerivative");function Ml(i){return 0<=i&&i<=1}g(Ml,"inZeroOneDomain");function Lr(i,n){return Math.abs(i-n)<=Number.EPSILON}g(Lr,"approximately");function Tl(i){return i<0?-Math.pow(-i,1/3):Math.pow(i,1/3)}g(Tl,"cubeRoot");function J0(i,n,s,u){let o=3*i-6*n+3*s,c=-3*i+3*n,d=i,y=-i+3*n-3*s+u;if(Lr(y,0)){if(Lr(o,0))return Lr(c,0)?[]:[-d/c].filter(Ml);let x=Math.sqrt(c*c-4*o*d),S=2*o;return[(x-c)/S,(-c-x)/S].filter(Ml)}o/=y,c/=y,d/=y;let p=(3*c-o*o)/3,h=p/3,A=(2*o*o*o-9*o*c+27*d)/27,T=A/2,v=T*T+h*h*h;if(v<0){let x=-p/3,S=x*x*x,H=Math.sqrt(S),X=-A/(2*H),ae=X<-1?-1:X>1?1:X,k=Math.acos(ae),q=2*Tl(H),B=q*Math.cos(k/3)-o/3,N=q*Math.cos((k+2*Math.PI)/3)-o/3,K=q*Math.cos((k+4*Math.PI)/3)-o/3;return[B,N,K].filter(Ml)}if(v===0){let x=T<0?Tl(-T):-Tl(T),S=2*x-o/3,H=-x-o/3;return[S,H].filter(Ml)}let D=Math.sqrt(v),E=Tl(D-T),U=Tl(D+T);return[E-U-o/3].filter(Ml)}g(J0,"getCubicRoots");function P0(i,n,s,u,o){let c=J0(i.x-o,n.x-o,s.x-o,u.x-o);return c.length>0?co(i,n,s,u,c[0]).y:NaN}g(P0,"cubicBezierYforX");function I0(i){if(!i||i.length==0)throw new Error("Need at least one point for easingLinear.");let n=i.length;return s=>{if(s<=0||i.length==1||s<=i[0].x)return i[0].y;for(let u=0;u<n;u++)if(i[u].x>=s)return zn(s,i[u-1].x,i[u].x,i[u-1].y,i[u].y);return i[i.length-1].y}}g(I0,"easingLinear");function W0(i,n){return s=>P0(Q(0,0),i,n,Q(1,1),s)}g(W0,"easingCubicBezier");function $0(i,n="jump-end"){let s=1/i,u=n=="jump-start"||n=="jump-both",o=n=="jump-end"||n=="jump-both",c=1/(i+(o?1:0)),d=u?c:0;return y=>{let p=Math.floor(y/s);return d+p*c}}g($0,"easingSteps");function ey(i,n){let s=Number.MAX_VALUE,u={normal:Q(0),distance:0};for(let o of[i,n])for(let c=0;c<o.pts.length;c++){let d=o.pts[c],y=o.pts[(c+1)%o.pts.length].sub(d).normal().unit(),p=Number.MAX_VALUE,h=-Number.MAX_VALUE;for(let D=0;D<i.pts.length;D++){let E=i.pts[D].dot(y);p=Math.min(p,E),h=Math.max(h,E)}let A=Number.MAX_VALUE,T=-Number.MAX_VALUE;for(let D=0;D<n.pts.length;D++){let E=n.pts[D].dot(y);A=Math.min(A,E),T=Math.max(T,E)}let v=Math.min(h,T)-Math.max(p,A);if(v<0)return null;if(v<Math.abs(s)){let D=T-p,E=A-h;s=Math.abs(D)<Math.abs(E)?D:E,u.normal=y,u.distance=s}}return u}g(ey,"sat");function yh(i,n,s){return(n.x-i.x)*(s.y-i.y)-(n.y-i.y)*(s.x-i.x)>=0}g(yh,"isOrientedCcw");function ty(i){let n=0,s=i[i.length-1];for(let u=0;u<i.length;u++)n+=(i[u].x-s.x)*(i[u].y+s.y),s=i[u];return n<0}g(ty,"isOrientedCcwPolygon");function Yr(i,n,s,u){let o=u.x-s.x,c=u.y-s.y,d=o*(i.y-s.y)-c*(i.x-s.x),y=o*(n.y-s.y)-c*(n.x-s.x);return d*y>=0}g(Yr,"onSameSide");function ny(i,n,s,u){return Yr(i,n,s,u)&&Yr(i,s,n,u)&&Yr(i,u,n,s)}g(ny,"pointInTriangle");function ay(i,n,s,u){for(let o of i)if(o!==n&&o!==s&&o!==u&&ny(o,n,s,u))return!0;return!1}g(ay,"someInTriangle");function iy(i,n,s,u){return yh(i,n,s)&&!ay(u,i,n,s)}g(iy,"isEar");function vh(i){if(i.length<3)return[];if(i.length==3)return[i];let n=[],s=[],u=0;for(let T=0;T<i.length;T++){let v=i[u],D=i[T];(D.x<v.x||D.x==v.x&&D.y<v.y)&&(u=u),n[T]=T+1,s[T]=T-1}n[n.length-1]=0,s[0]=s.length-1,ty(i)||([n,s]=[s,n]);let o=[];for(let T=0;T<i.length;++T)yh(i[s[T]],i[T],i[n[T]])||o.push(i[T]);let c=[],d=i.length,y=1,p=0,h,A;for(;d>3;){h=n[y],A=s[y];let T=i[A],v=i[y],D=i[h];if(iy(T,v,D,o))c.push([T,v,D]),n[A]=h,s[h]=A,o.splice(o.indexOf(v),1),--d,p=0;else if(++p>d)return[];y=h}return h=n[y],A=s[y],c.push([i[A],i[y],i[h]]),c}g(vh,"triangulate");function ly(i){if(i.length<3)return!1;let n=i.length-2,s=i.length-1,u=0,o=i[s].sub(i[n]),c=i[u].sub(i[s]),d=o.cross(c);for(;u+1<i.length;)if(n=s,s=u,u++,o=i[s].sub(i[n]),c=i[u].sub(i[s]),o.cross(c)*d<0)return!1;return!0}g(ly,"isConvex");var sy=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",fo="topleft",f2="monospace",Zr="monospace",Xf="linear",Ah=[{name:"a_pos",size:2},{name:"a_uv",size:2},{name:"a_color",size:4}],h2=Ah.reduce((i,n)=>i+n.size,0),uy=2048,d2=uy*4*h2,g2=uy*6,p2=`
attribute vec2 a_pos;
attribute vec2 a_uv;
attribute vec4 a_color;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

vec4 def_vert() {
	return vec4(a_pos, 0.0, 1.0);
}

{{user}}

void main() {
	vec4 pos = vert(a_pos, a_uv, a_color);
	v_pos = a_pos;
	v_uv = a_uv;
	v_color = a_color;
	gl_Position = pos;
}
`,m2=`
precision mediump float;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

uniform sampler2D u_tex;

vec4 def_frag() {
	vec4 texColor = texture2D(u_tex, v_uv);
	return vec4((v_color.rgb * texColor.rgb), texColor.a) * v_color.a;
}

{{user}}

void main() {
	gl_FragColor = frag(v_pos, v_uv, v_color, u_tex);
	if (gl_FragColor.a == 0.0) {
		discard;
	}
}
`,Qf=`
vec4 vert(vec2 pos, vec2 uv, vec4 color) {
	return def_vert();
}
`,Zf=`
vec4 frag(vec2 pos, vec2 uv, vec4 color, sampler2D tex) {
	return def_frag();
}
`,y2=new Set(["id","require"]),v2=new Set(["add","fixedUpdate","update","draw","destroy","inspect","drawInspect"]),A2=200,b2=640,w2=65536,ry=Symbol.for("kaplay.cancel"),Ul,oy=(Ul=class extends Map{constructor(){super(...arguments);L(this,"lastID",0)}push(s){let u=this.lastID;return this.set(u,s),this.lastID++,u}pushd(s){let u=this.push(s);return()=>this.delete(u)}},g(Ul,"Registry"),Ul),Ti,Oi=(Ti=class{constructor(n){L(this,"paused",!1);L(this,"cancel");this.cancel=n}static join(n){let s=new Ti(()=>n.forEach(u=>u.cancel()));return Object.defineProperty(s,"paused",{get:g(()=>n[0].paused,"get"),set:g(u=>n.forEach(o=>o.paused=u),"set")}),s.paused=!1,s}static replace(n,s){return n.cancel=()=>s.cancel(),s.paused=n.paused,Object.defineProperty(n,"paused",{get:g(()=>s.paused,"get"),set:g(u=>s.paused=u,"set")}),n}},g(Ti,"KEventController"),Ti),zl,Vt=(zl=class{constructor(){L(this,"cancellers",new WeakMap);L(this,"handlers",new oy)}add(n){function s(...c){if(!o.paused)return n(...c)}g(s,"handler");let u=this.handlers.pushd(s),o=new Oi(u);return this.cancellers.set(s,u),o}addOnce(n){let s=this.add((...u)=>{s.cancel(),n(...u)});return s}next(){return new Promise(n=>this.addOnce(n))}trigger(...n){this.handlers.forEach(s=>{let u=s(...n),o;u===ry&&(o=this.cancellers.get(s))&&o()})}numListeners(){return this.handlers.size}clear(){this.handlers.clear()}},g(zl,"KEvent"),zl),Nl,cu=(Nl=class{constructor(){L(this,"handlers",{});L(this,"registers",{})}on(n,s){return this.handlers[n]||(this.handlers[n]=new Vt),this.handlers[n].add(s)}onOnce(n,s){let u=this.on(n,(...o)=>{u.cancel(),s(...o)});return u}next(n){return new Promise(s=>{this.onOnce(n,(...u)=>s(u[0]))})}trigger(n,...s){this.handlers[n]&&this.handlers[n].trigger(...s)}remove(n){delete this.handlers[n]}clear(){this.handlers={}}numListeners(n){var s;return((s=this.handlers[n])==null?void 0:s.numListeners())??0}},g(Nl,"KEventHandler"),Nl),x2=g(i=>i[0]instanceof Ce,"arrayIsColor"),S2=g(i=>i[0]instanceof J,"arrayIsVec2"),E2=g(i=>typeof i[0]=="number","arrayIsNumber"),Hl,cy=(Hl=class{constructor(n=(s,u)=>s<u){L(this,"_items");L(this,"_compareFn");this._compareFn=n,this._items=[]}insert(n){this._items.push(n),this.moveUp(this._items.length-1)}remove(){if(this._items.length===0)return null;let n=this._items[0],s=this._items.pop();return this._items.length!==0&&(this._items[0]=s,this.moveDown(0)),n}clear(){this._items.splice(0,this._items.length)}moveUp(n){for(;n>0;){let s=Math.floor((n-1)/2);if(!this._compareFn(this._items[n],this._items[s])&&this._items[n]>=this._items[s])break;this.swap(n,s),n=s}}moveDown(n){for(;n<Math.floor(this._items.length/2);){let s=2*n+1;if(s<this._items.length-1&&!this._compareFn(this._items[s],this._items[s+1])&&++s,this._compareFn(this._items[n],this._items[s]))break;this.swap(n,s),n=s}}swap(n,s){[this._items[n],this._items[s]]=[this._items[s],this._items[n]]}get length(){return this._items.length}},g(Hl,"BinaryHeap"),Hl);function fy(i){let n=window.atob(i),s=n.length,u=new Uint8Array(s);for(let o=0;o<s;o++)u[o]=n.charCodeAt(o);return u.buffer}g(fy,"base64ToArrayBuffer");function hy(i){return fy(i.split(",")[1])}g(hy,"dataURLToArrayBuffer");function ho(i,n){let s=document.createElement("a");s.href=n,s.download=i,s.click()}g(ho,"download");function bh(i,n){ho(i,"data:text/plain;charset=utf-8,"+n)}g(bh,"downloadText");function dy(i,n){bh(i,JSON.stringify(n))}g(dy,"downloadJSON");function Kf(i,n){let s=URL.createObjectURL(n);ho(i,s),URL.revokeObjectURL(s)}g(Kf,"downloadBlob");var gy=g(i=>i.match(/^data:\w+\/\w+;base64,.+/),"isDataURL"),M2=g(i=>i.split(".").slice(0,-1).join("."),"getFileName");function go(i,n){if(i===n)return!0;let s=typeof i,u=typeof n;if(s!==u)return!1;if(s==="object"&&u==="object"&&i!==null&&n!==null){if(Array.isArray(i)!==Array.isArray(n))return!1;let o=Object.keys(i),c=Object.keys(n);if(o.length!==c.length)return!1;for(let d of o){let y=i[d],p=n[d];if(!go(y,p))return!1}return!0}return!1}g(go,"deepEq");var s0=new Set,T2=g(i=>i instanceof Error?i.message:String(i),"getErrorMessage");function py(i){s0.has(i)||(s0.add(i),console.warn(i))}g(py,"warn");function Bi(i,n){py(`${i} is deprecated. Use ${n} instead.`)}g(Bi,"deprecateMsg");function Kr(i,n){return Number(i.toFixed(n))}g(Kr,"toFixed");function $e(i,n){return(...s)=>{let u=s.length;if(u===i.length)return i(...s);if(u===n.length)return n(...s)}}g($e,"overload2");var R2=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);function my(i){if(typeof i!="string")throw new TypeError("string cannot be undefined or null");let n=[],s=0,u=0;for(;s<i.length;){if(u+=yy(s+u,i),Ey(i[s+u])&&u++,wy(i[s+u])&&u++,xy(i[s+u])&&u++,My(i[s+u])){u++;continue}n.push(i.substring(s,s+u)),s+=u,u=0}return n}g(my,"runes");function yy(i,n){let s=n[i];if(!vy(s)||i===n.length-1)return 1;let u=s+n[i+1],o=n.substring(i+2,i+5);return kf(u)&&kf(o)?4:Ay(u)&&Sy(o)?n.slice(i).indexOf(String.fromCodePoint(917631))+2:by(o)?4:2}g(yy,"nextUnits");function vy(i){return i&&ei(i[0].charCodeAt(0),55296,56319)}g(vy,"isFirstOfSurrogatePair");function kf(i){return ei(po(i),127462,127487)}g(kf,"isRegionalIndicator");function Ay(i){return ei(po(i),127988,127988)}g(Ay,"isSubdivisionFlag");function by(i){return ei(po(i),127995,127999)}g(by,"isFitzpatrickModifier");function wy(i){return typeof i=="string"&&ei(i.charCodeAt(0),65024,65039)}g(wy,"isVariationSelector");function xy(i){return typeof i=="string"&&ei(i.charCodeAt(0),8400,8447)}g(xy,"isDiacriticalMark");function Sy(i){let n=i.codePointAt(0);return typeof i=="string"&&typeof n=="number"&&ei(n,917504,917631)}g(Sy,"isSupplementarySpecialpurposePlane");function Ey(i){return typeof i=="string"&&R2.includes(i.charCodeAt(0))}g(Ey,"isGrapheme");function My(i){return typeof i=="string"&&i.charCodeAt(0)===8205}g(My,"isZeroWidthJoiner");function po(i){let n=i.charCodeAt(0)-55296,s=i.charCodeAt(1)-56320;return(n<<10)+s+65536}g(po,"codePointFromSurrogatePair");function ei(i,n,s){return i>=n&&i<=s}g(ei,"betweenInclusive");var wn=g((i,n)=>Array.isArray(i)?i==null?void 0:i.includes(n):i===n,"isEqOrIncludes"),Qn=g((i,n)=>Array.isArray(n)?n.some(s=>i.has(s)):i.has(n),"setHasOrIncludes"),Nr=g((i,n,s)=>{var u;i.has(n)?(u=i.get(n))==null||u.push(s):i.set(n,[s])},"mapAddOrPush"),q2=(()=>{let i=0;return()=>i++})(),D2={"Joy-Con L+R (STANDARD GAMEPAD Vendor: 057e Product: 200e)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},"Joy-Con (L) (STANDARD GAMEPAD Vendor: 057e Product: 2006)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"select",10:"lstick",16:"start"},sticks:{left:{x:0,y:1}}},"Joy-Con (R) (STANDARD GAMEPAD Vendor: 057e Product: 2007)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"start",10:"lstick",16:"select"},sticks:{left:{x:0,y:1}}},"Pro Controller (STANDARD GAMEPAD Vendor: 057e Product: 2009)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},default:{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}}},O2=g(()=>Ei.lastInputDevice,"getLastInputDeviceType"),B2=g(()=>{let i=Ei.buttons;for(let n in i){let s=i[n].keyboard&&[i[n].keyboard].flat(),u=i[n].keyboardCode&&[i[n].keyboardCode].flat(),o=i[n].gamepad&&[i[n].gamepad].flat(),c=i[n].mouse&&[i[n].mouse].flat();s&&s.forEach(d=>{Nr(Ei.buttonsByKey,d,n)}),u&&u.forEach(d=>{Nr(Ei.buttonsByKeyCode,d,n)}),o&&o.forEach(d=>{Nr(Ei.buttonsByGamepad,d,n)}),c&&c.forEach(d=>{Nr(Ei.buttonsByMouse,d,n)})}},"parseButtonBindings"),jl,su=(jl=class{constructor(){L(this,"pressed",new Set([]));L(this,"pressedRepeat",new Set([]));L(this,"released",new Set([]));L(this,"down",new Set([]))}update(){this.pressed.clear(),this.released.clear(),this.pressedRepeat.clear()}press(n){this.pressed.add(n),this.pressedRepeat.add(n),this.down.add(n)}pressRepeat(n){this.pressedRepeat.add(n)}release(n){this.down.delete(n),this.pressed.delete(n),this.released.add(n)}},g(jl,"ButtonState"),jl),_l,C2=(_l=class{constructor(){L(this,"buttonState",new su);L(this,"stickState",new Map)}},g(_l,"GamepadState"),_l),Ll,U2=(Ll=class{constructor(){L(this,"dts",[]);L(this,"timer",0);L(this,"fps",0)}tick(n){this.dts.push(n),this.timer+=n,this.timer>=1&&(this.timer=0,this.fps=Math.round(1/(this.dts.reduce((s,u)=>s+u)/this.dts.length)),this.dts=[])}},g(Ll,"FPSCounter"),Ll),Ei,u0=D2,z2=g(i=>{let n=i.buttons??{};return{canvas:i.canvas,buttons:n,buttonsByKey:new Map,buttonsByMouse:new Map,buttonsByGamepad:new Map,buttonsByKeyCode:new Map,loopID:null,stopped:!1,dt:0,fixedDt:1/50,restDt:0,time:0,realTime:0,fpsCounter:new U2,timeScale:1,skipTime:!1,isHidden:!1,numFrames:0,mousePos:new J(0),mouseDeltaPos:new J(0),keyState:new su,mouseState:new su,mergedGamepadState:new C2,gamepadStates:new Map,lastInputDevice:null,buttonState:new su,gamepads:[],charInputted:[],isMouseMoved:!1,lastWidth:i.canvas.offsetWidth,lastHeight:i.canvas.offsetHeight,events:new cu}},"initAppState"),N2=g(i=>{if(!i.canvas)throw new Error("Please provide a canvas");let n=z2(i);Ei=n,B2();function s(){return n.dt*n.timeScale}g(s,"dt");function u(){return n.fixedDt*n.timeScale}g(u,"fixedDt");function o(){return n.restDt*n.timeScale}g(o,"restDt");function c(){return n.isHidden}g(c,"isHidden");function d(){return n.time}g(d,"time");function y(){return n.fpsCounter.fps}g(y,"fps");function p(){return n.numFrames}g(p,"numFrames");function h(){return n.canvas.toDataURL()}g(h,"screenshot");function A(O){n.canvas.style.cursor=O}g(A,"setCursor");function T(){return n.canvas.style.cursor}g(T,"getCursor");function v(O){if(O)try{let Z=n.canvas.requestPointerLock();Z!=null&&Z.catch&&Z.catch(I=>console.error(I))}catch(Z){console.error(Z)}else document.exitPointerLock()}g(v,"setCursorLocked");function D(){return!!document.pointerLockElement}g(D,"isCursorLocked");function E(O){O.requestFullscreen?O.requestFullscreen():O.webkitRequestFullscreen&&O.webkitRequestFullscreen()}g(E,"enterFullscreen");function U(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullScreen&&document.webkitExitFullScreen()}g(U,"exitFullscreen");function x(O=!0){O?E(n.canvas):U()}g(x,"setFullscreen");function S(){return document.fullscreenElement===n.canvas||document.webkitFullscreenElement===n.canvas}g(S,"isFullscreen");function H(){n.stopped=!0;let O=Object.entries(zt),Z=Object.entries(ji),I=Object.entries(li);for(let[re,pe]of O)n.canvas.removeEventListener(re,pe);for(let[re,pe]of Z)document.removeEventListener(re,pe);for(let[re,pe]of I)window.removeEventListener(re,pe);ss.disconnect()}g(H,"quit");function X(O,Z){n.loopID!==null&&cancelAnimationFrame(n.loopID);let I=0,re=0,pe=g(Se=>{if(n.stopped)return;if(document.visibilityState!=="visible"){n.loopID=requestAnimationFrame(pe);return}let _e=Se/1e3,Fe=Math.min(_e-n.realTime,.25),Pt=i.maxFPS?1/i.maxFPS:0;if(n.realTime=_e,re+=Fe,re>Pt){if(!n.skipTime){for(I+=re,n.dt=n.fixedDt,n.restDt=0;I>n.fixedDt;)I-=n.fixedDt,I<n.fixedDt&&(n.restDt=I),O();n.restDt=I,n.dt=re,n.time+=s(),n.fpsCounter.tick(n.dt)}re=0,n.skipTime=!1,n.numFrames++,Z(_n,ai)}n.loopID=requestAnimationFrame(pe)},"frame");pe(0)}g(X,"run");function ae(){return"ontouchstart"in window||navigator.maxTouchPoints>0}g(ae,"isTouchscreen");function k(){return n.mousePos.clone()}g(k,"mousePos");function q(){return n.mouseDeltaPos.clone()}g(q,"mouseDeltaPos");function B(O="left"){return n.mouseState.pressed.has(O)}g(B,"isMousePressed");function N(O="left"){return n.mouseState.down.has(O)}g(N,"isMouseDown");function K(O="left"){return n.mouseState.released.has(O)}g(K,"isMouseReleased");function ne(){return n.isMouseMoved}g(ne,"isMouseMoved");function ie(O){return O===void 0?n.keyState.pressed.size>0:Qn(n.keyState.pressed,O)}g(ie,"isKeyPressed");function se(O){return O===void 0?n.keyState.pressedRepeat.size>0:Qn(n.keyState.pressedRepeat,O)}g(se,"isKeyPressedRepeat");function ge(O){return O===void 0?n.keyState.down.size>0:Qn(n.keyState.down,O)}g(ge,"isKeyDown");function ve(O){return O===void 0?n.keyState.released.size>0:Qn(n.keyState.released,O)}g(ve,"isKeyReleased");function me(O){return O===void 0?n.mergedGamepadState.buttonState.pressed.size>0:Qn(n.mergedGamepadState.buttonState.pressed,O)}g(me,"isGamepadButtonPressed");function _(O){return O===void 0?n.mergedGamepadState.buttonState.down.size>0:Qn(n.mergedGamepadState.buttonState.down,O)}g(_,"isGamepadButtonDown");function $(O){return O===void 0?n.mergedGamepadState.buttonState.released.size>0:Qn(n.mergedGamepadState.buttonState.released,O)}g($,"isGamepadButtonReleased");function ue(O){return O===void 0?n.buttonState.pressed.size>0:Qn(n.buttonState.pressed,O)}g(ue,"isButtonPressed");function fe(O){return O===void 0?n.buttonState.down.size>0:Qn(n.buttonState.down,O)}g(fe,"isButtonDown");function M(O){return O===void 0?n.buttonState.released.size>0:Qn(n.buttonState.released,O)}g(M,"isButtonReleased");function F(O){var Z;return(Z=n.buttons)==null?void 0:Z[O]}g(F,"getButton");function ee(O,Z){n.buttons[O]={...n.buttons[O],...Z}}g(ee,"setButton");function le(O){n.buttonState.press(O),n.events.trigger("buttonPress",O)}g(le,"pressButton");function ce(O){n.buttonState.release(O),n.events.trigger("buttonRelease",O)}g(ce,"releaseButton");function Te(O){return n.events.on("resize",O)}g(Te,"onResize");let Ae=$e(O=>n.events.on("keyDown",O),(O,Z)=>n.events.on("keyDown",I=>wn(O,I)&&Z(I))),gt=$e(O=>n.events.on("keyPress",Z=>O(Z)),(O,Z)=>n.events.on("keyPress",I=>wn(O,I)&&Z(I))),Ge=$e(O=>n.events.on("keyPressRepeat",O),(O,Z)=>n.events.on("keyPressRepeat",I=>wn(O,I)&&Z(I))),Ft=$e(O=>n.events.on("keyRelease",O),(O,Z)=>n.events.on("keyRelease",I=>wn(O,I)&&Z(I))),jn=$e(O=>n.events.on("mouseDown",Z=>O(Z)),(O,Z)=>n.events.on("mouseDown",I=>wn(O,I)&&Z(I))),Ut=$e(O=>n.events.on("mousePress",Z=>O(Z)),(O,Z)=>n.events.on("mousePress",I=>wn(O,I)&&Z(I))),ma=$e(O=>n.events.on("mouseRelease",Z=>O(Z)),(O,Z)=>n.events.on("mouseRelease",I=>I===O&&Z(I)));function Sn(O){return n.events.on("mouseMove",()=>O(k(),q()))}g(Sn,"onMouseMove");function he(O){return n.events.on("charInput",O)}g(he,"onCharInput");function xe(O){return n.events.on("touchStart",O)}g(xe,"onTouchStart");function Me(O){return n.events.on("touchMove",O)}g(Me,"onTouchMove");function Be(O){return n.events.on("touchEnd",O)}g(Be,"onTouchEnd");function st(O){return n.events.on("scroll",O)}g(st,"onScroll");function ze(O){return n.events.on("hide",O)}g(ze,"onHide");function yt(O){return n.events.on("show",O)}g(yt,"onShow");let Jt=$e(O=>n.events.on("gamepadButtonPress",(Z,I)=>O(Z,I)),(O,Z)=>n.events.on("gamepadButtonPress",(I,re)=>wn(O,I)&&Z(I,re))),is=$e(O=>n.events.on("gamepadButtonDown",(Z,I)=>O(Z,I)),(O,Z)=>n.events.on("gamepadButtonDown",(I,re)=>wn(O,I)&&Z(I,re))),zi=$e(O=>n.events.on("gamepadButtonRelease",(Z,I)=>O(Z,I)),(O,Z)=>n.events.on("gamepadButtonRelease",(I,re)=>wn(O,I)&&Z(I,re)));function Ni(O,Z){return n.events.on("gamepadStick",(I,re,pe)=>I===O&&Z(re,pe))}g(Ni,"onGamepadStick");function Hi(O){n.events.on("gamepadConnect",O)}g(Hi,"onGamepadConnect");function En(O){n.events.on("gamepadDisconnect",O)}g(En,"onGamepadDisconnect");function Ie(O){return n.mergedGamepadState.stickState.get(O)||new J(0)}g(Ie,"getGamepadStick");function vt(){return[...n.charInputted]}g(vt,"charInputted");function ot(){return[...n.gamepads]}g(ot,"getGamepads");let Ht=$e(O=>n.events.on("buttonPress",Z=>O(Z)),(O,Z)=>n.events.on("buttonPress",I=>wn(O,I)&&Z(I))),ni=$e(O=>n.events.on("buttonDown",Z=>O(Z)),(O,Z)=>n.events.on("buttonDown",I=>wn(O,I)&&Z(I))),Mn=$e(O=>n.events.on("buttonRelease",Z=>O(Z)),(O,Z)=>n.events.on("buttonRelease",I=>wn(O,I)&&Z(I)));function _n(){n.events.trigger("input"),n.keyState.down.forEach(O=>n.events.trigger("keyDown",O)),n.mouseState.down.forEach(O=>n.events.trigger("mouseDown",O)),n.buttonState.down.forEach(O=>{n.events.trigger("buttonDown",O)}),ya()}g(_n,"processInput");function ai(){n.keyState.update(),n.mouseState.update(),n.buttonState.update(),n.mergedGamepadState.buttonState.update(),n.mergedGamepadState.stickState.forEach((O,Z)=>{n.mergedGamepadState.stickState.set(Z,new J(0))}),n.charInputted=[],n.isMouseMoved=!1,n.mouseDeltaPos=new J(0),n.gamepadStates.forEach(O=>{O.buttonState.update(),O.stickState.forEach((Z,I)=>{O.stickState.set(I,new J(0))})})}g(ai,"resetInput");function Tn(O){let Z={index:O.index,isPressed:g(I=>{var re;return((re=n.gamepadStates.get(O.index))==null?void 0:re.buttonState.pressed.has(I))||!1},"isPressed"),isDown:g(I=>{var re;return((re=n.gamepadStates.get(O.index))==null?void 0:re.buttonState.down.has(I))||!1},"isDown"),isReleased:g(I=>{var re;return((re=n.gamepadStates.get(O.index))==null?void 0:re.buttonState.released.has(I))||!1},"isReleased"),getStick:g(I=>{var re;return((re=n.gamepadStates.get(O.index))==null?void 0:re.stickState.get(I))||Q()},"getStick")};return n.gamepads.push(Z),n.gamepadStates.set(O.index,{buttonState:new su,stickState:new Map([["left",new J(0)],["right",new J(0)]])}),Z}g(Tn,"registerGamepad");function ii(O){n.gamepads=n.gamepads.filter(Z=>Z.index!==O.index),n.gamepadStates.delete(O.index)}g(ii,"removeGamepad");function ya(){var O,Z;for(let I of navigator.getGamepads())I&&!n.gamepadStates.has(I.index)&&Tn(I);for(let I of n.gamepads){let re=navigator.getGamepads()[I.index];if(!re)continue;let pe=(i.gamepads??{})[re.id]||u0[re.id]||u0.default,Se=n.gamepadStates.get(I.index);if(Se){for(let _e=0;_e<re.buttons.length;_e++){let Fe=pe.buttons[_e],Pt=re.buttons[_e],fn=n.buttonsByGamepad.has(Fe);if(Pt.pressed){if(Se.buttonState.down.has(Fe)){n.events.trigger("gamepadButtonDown",Fe,I);continue}n.lastInputDevice="gamepad",fn&&((O=n.buttonsByGamepad.get(Fe))==null||O.forEach(Rn=>{n.buttonState.press(Rn),n.events.trigger("buttonPress",Rn)})),n.mergedGamepadState.buttonState.press(Fe),Se.buttonState.press(Fe),n.events.trigger("gamepadButtonPress",Fe,I)}else Se.buttonState.down.has(Fe)&&(fn&&((Z=n.buttonsByGamepad.get(Fe))==null||Z.forEach(Rn=>{n.buttonState.release(Rn),n.events.trigger("buttonRelease",Rn)})),n.mergedGamepadState.buttonState.release(Fe),Se.buttonState.release(Fe),n.events.trigger("gamepadButtonRelease",Fe,I))}for(let _e in pe.sticks){let Fe=pe.sticks[_e];if(!Fe)continue;let Pt=new J(re.axes[Fe.x],re.axes[Fe.y]);Se.stickState.set(_e,Pt),n.mergedGamepadState.stickState.set(_e,Pt),n.events.trigger("gamepadStick",_e,Pt,I)}}}}g(ya,"processGamepad");let zt={},ji={},li={},_i=i.pixelDensity||1;zt.mousemove=O=>{let Z=new J(O.offsetX,O.offsetY),I=new J(O.movementX,O.movementY);if(S()){let re=n.canvas.width/_i,pe=n.canvas.height/_i,Se=window.innerWidth,_e=window.innerHeight,Fe=Se/_e,Pt=re/pe;if(Fe>Pt){let fn=_e/pe,Rn=(Se-re*fn)/2;Z.x=zn(O.offsetX-Rn,0,re*fn,0,re),Z.y=zn(O.offsetY,0,pe*fn,0,pe)}else{let fn=Se/re,Rn=(_e-pe*fn)/2;Z.x=zn(O.offsetX,0,re*fn,0,re),Z.y=zn(O.offsetY-Rn,0,pe*fn,0,pe)}}n.events.onOnce("input",()=>{n.isMouseMoved=!0,n.mousePos=Z,n.mouseDeltaPos=I,n.events.trigger("mouseMove")})};let va=["left","middle","right","back","forward"];zt.mousedown=O=>{n.events.onOnce("input",()=>{var I;let Z=va[O.button];Z&&(n.lastInputDevice="mouse",n.buttonsByMouse.has(Z)&&((I=n.buttonsByMouse.get(Z))==null||I.forEach(re=>{n.buttonState.press(re),n.events.trigger("buttonPress",re)})),n.mouseState.press(Z),n.events.trigger("mousePress",Z))})},zt.mouseup=O=>{n.events.onOnce("input",()=>{var I;let Z=va[O.button];Z&&(n.buttonsByMouse.has(Z)&&((I=n.buttonsByMouse.get(Z))==null||I.forEach(re=>{n.buttonState.release(re),n.events.trigger("buttonRelease",re)})),n.mouseState.release(Z),n.events.trigger("mouseRelease",Z))})};let xo=new Set([" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab"]),ls={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"," ":"space"};zt.keydown=O=>{xo.has(O.key)&&O.preventDefault(),n.events.onOnce("input",()=>{var re,pe;let Z=ls[O.key]||O.key.toLowerCase(),I=O.code;if(Z===void 0)throw new Error(`Unknown key: ${O.key}`);Z.length===1?(n.events.trigger("charInput",Z),n.charInputted.push(Z)):Z==="space"&&(n.events.trigger("charInput"," "),n.charInputted.push(" ")),O.repeat?(n.keyState.pressRepeat(Z),n.events.trigger("keyPressRepeat",Z)):(n.lastInputDevice="keyboard",n.buttonsByKey.has(Z)&&((re=n.buttonsByKey.get(Z))==null||re.forEach(Se=>{n.buttonState.press(Se),n.events.trigger("buttonPress",Se)})),n.buttonsByKeyCode.has(I)&&((pe=n.buttonsByKeyCode.get(I))==null||pe.forEach(Se=>{n.buttonState.press(Se),n.events.trigger("buttonPress",Se)})),n.keyState.press(Z),n.events.trigger("keyPressRepeat",Z),n.events.trigger("keyPress",Z))})},zt.keyup=O=>{n.events.onOnce("input",()=>{var re,pe;let Z=ls[O.key]||O.key.toLowerCase(),I=O.code;n.buttonsByKey.has(Z)&&((re=n.buttonsByKey.get(Z))==null||re.forEach(Se=>{n.buttonState.release(Se),n.events.trigger("buttonRelease",Se)})),n.buttonsByKeyCode.has(I)&&((pe=n.buttonsByKeyCode.get(I))==null||pe.forEach(Se=>{n.buttonState.release(Se),n.events.trigger("buttonRelease",Se)})),n.keyState.release(Z),n.events.trigger("keyRelease",Z)})},zt.touchstart=O=>{O.preventDefault(),n.events.onOnce("input",()=>{var re;let Z=[...O.changedTouches],I=n.canvas.getBoundingClientRect();i.touchToMouse!==!1&&(n.mousePos=new J(Z[0].clientX-I.x,Z[0].clientY-I.y),n.lastInputDevice="mouse",n.buttonsByMouse.has("left")&&((re=n.buttonsByMouse.get("left"))==null||re.forEach(pe=>{n.buttonState.press(pe),n.events.trigger("buttonPress",pe)})),n.mouseState.press("left"),n.events.trigger("mousePress","left")),Z.forEach(pe=>{n.events.trigger("touchStart",new J(pe.clientX-I.x,pe.clientY-I.y),pe)})})},zt.touchmove=O=>{O.preventDefault(),n.events.onOnce("input",()=>{let Z=[...O.changedTouches],I=n.canvas.getBoundingClientRect();if(i.touchToMouse!==!1){let re=n.mousePos;n.mousePos=new J(Z[0].clientX-I.x,Z[0].clientY-I.y),n.mouseDeltaPos=n.mousePos.sub(re),n.events.trigger("mouseMove")}Z.forEach(re=>{n.events.trigger("touchMove",new J(re.clientX-I.x,re.clientY-I.y),re)})})},zt.touchend=O=>{n.events.onOnce("input",()=>{var re;let Z=[...O.changedTouches],I=n.canvas.getBoundingClientRect();i.touchToMouse!==!1&&(n.mousePos=new J(Z[0].clientX-I.x,Z[0].clientY-I.y),n.mouseDeltaPos=new J(0,0),n.buttonsByMouse.has("left")&&((re=n.buttonsByMouse.get("left"))==null||re.forEach(pe=>{n.buttonState.release(pe),n.events.trigger("buttonRelease",pe)})),n.mouseState.release("left"),n.events.trigger("mouseRelease","left")),Z.forEach(pe=>{n.events.trigger("touchEnd",new J(pe.clientX-I.x,pe.clientY-I.y),pe)})})},zt.touchcancel=O=>{n.events.onOnce("input",()=>{let Z=[...O.changedTouches],I=n.canvas.getBoundingClientRect();i.touchToMouse!==!1&&(n.mousePos=new J(Z[0].clientX-I.x,Z[0].clientY-I.y),n.mouseState.release("left"),n.events.trigger("mouseRelease","left")),Z.forEach(re=>{n.events.trigger("touchEnd",new J(re.clientX-I.x,re.clientY-I.y),re)})})},zt.wheel=O=>{O.preventDefault(),n.events.onOnce("input",()=>{n.events.trigger("scroll",new J(O.deltaX,O.deltaY))})},zt.contextmenu=O=>O.preventDefault(),ji.visibilitychange=()=>{document.visibilityState==="visible"?(n.skipTime=!0,n.isHidden=!1,n.events.trigger("show")):(n.isHidden=!0,n.events.trigger("hide"))},li.gamepadconnected=O=>{let Z=Tn(O.gamepad);n.events.onOnce("input",()=>{n.events.trigger("gamepadConnect",Z)})},li.gamepaddisconnected=O=>{let Z=ot().filter(I=>I.index===O.gamepad.index)[0];ii(O.gamepad),n.events.onOnce("input",()=>{n.events.trigger("gamepadDisconnect",Z)})};for(let[O,Z]of Object.entries(zt))n.canvas.addEventListener(O,Z);for(let[O,Z]of Object.entries(ji))document.addEventListener(O,Z);for(let[O,Z]of Object.entries(li))window.addEventListener(O,Z);let ss=new ResizeObserver(O=>{for(let Z of O)if(Z.target===n.canvas){if(n.lastWidth===n.canvas.offsetWidth&&n.lastHeight===n.canvas.offsetHeight)return;n.lastWidth=n.canvas.offsetWidth,n.lastHeight=n.canvas.offsetHeight,n.events.onOnce("input",()=>{n.events.trigger("resize")})}});return ss.observe(n.canvas),{state:n,dt:s,fixedDt:u,restDt:o,time:d,run:X,canvas:n.canvas,fps:y,numFrames:p,quit:H,isHidden:c,setFullscreen:x,isFullscreen:S,setCursor:A,screenshot:h,getGamepads:ot,getCursor:T,setCursorLocked:v,isCursorLocked:D,isTouchscreen:ae,mousePos:k,mouseDeltaPos:q,isKeyDown:ge,isKeyPressed:ie,isKeyPressedRepeat:se,isKeyReleased:ve,isMouseDown:N,isMousePressed:B,isMouseReleased:K,isMouseMoved:ne,isGamepadButtonPressed:me,isGamepadButtonDown:_,isGamepadButtonReleased:$,getGamepadStick:Ie,isButtonPressed:ue,isButtonDown:fe,isButtonReleased:M,setButton:ee,getButton:F,pressButton:le,releaseButton:ce,charInputted:vt,onResize:Te,onKeyDown:Ae,onKeyPress:gt,onKeyPressRepeat:Ge,onKeyRelease:Ft,onMouseDown:jn,onMousePress:Ut,onMouseRelease:ma,onMouseMove:Sn,onCharInput:he,onTouchStart:xe,onTouchMove:Me,onTouchEnd:Be,onScroll:st,onHide:ze,onShow:yt,onGamepadButtonDown:is,onGamepadButtonPress:Jt,onGamepadButtonRelease:zi,onGamepadStick:Ni,onGamepadConnect:Hi,onGamepadDisconnect:En,onButtonPress:Ht,onButtonDown:ni,onButtonRelease:Mn,getLastInputDeviceType:O2,events:n.events}},"initApp");function Et(){return w.app.dt()}g(Et,"dt");function kr(){return w.app.fixedDt()}g(kr,"fixedDt");function Fr(){return w.app.restDt()}g(Fr,"restDt");var H2=new J(-1,-1),j2=new J(0,-1),_2=new J(1,-1),L2=new J(-1,0),Y2=new J(0,0),G2=new J(1,0),V2=new J(-1,1),X2=new J(0,1),Q2=new J(1,1);function Ci(i){switch(i){case"topleft":return H2;case"top":return j2;case"topright":return _2;case"left":return L2;case"center":return Y2;case"right":return G2;case"botleft":return V2;case"bot":return X2;case"botright":return Q2;default:return i}}g(Ci,"anchorPt");function Ty(i){switch(i){case"left":return 0;case"center":return .5;case"right":return 1;default:return 0}}g(Ty,"alignPt");function Ry(i){return i.createBuffer(1,1,44100)}g(Ry,"createEmptyAudioBuffer");var Hr=2.5949095,r0=1.70158+1,o0=2*Math.PI/3,c0=2*Math.PI/4.5,Gr={linear:g(i=>i,"linear"),easeInSine:g(i=>1-Math.cos(i*Math.PI/2),"easeInSine"),easeOutSine:g(i=>Math.sin(i*Math.PI/2),"easeOutSine"),easeInOutSine:g(i=>-(Math.cos(Math.PI*i)-1)/2,"easeInOutSine"),easeInQuad:g(i=>i*i,"easeInQuad"),easeOutQuad:g(i=>1-(1-i)*(1-i),"easeOutQuad"),easeInOutQuad:g(i=>i<.5?2*i*i:1-Math.pow(-2*i+2,2)/2,"easeInOutQuad"),easeInCubic:g(i=>i*i*i,"easeInCubic"),easeOutCubic:g(i=>1-Math.pow(1-i,3),"easeOutCubic"),easeInOutCubic:g(i=>i<.5?4*i*i*i:1-Math.pow(-2*i+2,3)/2,"easeInOutCubic"),easeInQuart:g(i=>i*i*i*i,"easeInQuart"),easeOutQuart:g(i=>1-Math.pow(1-i,4),"easeOutQuart"),easeInOutQuart:g(i=>i<.5?8*i*i*i*i:1-Math.pow(-2*i+2,4)/2,"easeInOutQuart"),easeInQuint:g(i=>i*i*i*i*i,"easeInQuint"),easeOutQuint:g(i=>1-Math.pow(1-i,5),"easeOutQuint"),easeInOutQuint:g(i=>i<.5?16*i*i*i*i*i:1-Math.pow(-2*i+2,5)/2,"easeInOutQuint"),easeInExpo:g(i=>i===0?0:Math.pow(2,10*i-10),"easeInExpo"),easeOutExpo:g(i=>i===1?1:1-Math.pow(2,-10*i),"easeOutExpo"),easeInOutExpo:g(i=>i===0?0:i===1?1:i<.5?Math.pow(2,20*i-10)/2:(2-Math.pow(2,-20*i+10))/2,"easeInOutExpo"),easeInCirc:g(i=>1-Math.sqrt(1-Math.pow(i,2)),"easeInCirc"),easeOutCirc:g(i=>Math.sqrt(1-Math.pow(i-1,2)),"easeOutCirc"),easeInOutCirc:g(i=>i<.5?(1-Math.sqrt(1-Math.pow(2*i,2)))/2:(Math.sqrt(1-Math.pow(-2*i+2,2))+1)/2,"easeInOutCirc"),easeInBack:g(i=>r0*i*i*i-1.70158*i*i,"easeInBack"),easeOutBack:g(i=>1+r0*Math.pow(i-1,3)+1.70158*Math.pow(i-1,2),"easeOutBack"),easeInOutBack:g(i=>i<.5?Math.pow(2*i,2)*((Hr+1)*2*i-Hr)/2:(Math.pow(2*i-2,2)*((Hr+1)*(i*2-2)+Hr)+2)/2,"easeInOutBack"),easeInElastic:g(i=>i===0?0:i===1?1:-Math.pow(2,10*i-10)*Math.sin((i*10-10.75)*o0),"easeInElastic"),easeOutElastic:g(i=>i===0?0:i===1?1:Math.pow(2,-10*i)*Math.sin((i*10-.75)*o0)+1,"easeOutElastic"),easeInOutElastic:g(i=>i===0?0:i===1?1:i<.5?-(Math.pow(2,20*i-10)*Math.sin((20*i-11.125)*c0))/2:Math.pow(2,-20*i+10)*Math.sin((20*i-11.125)*c0)/2+1,"easeInOutElastic"),easeInBounce:g(i=>1-Gr.easeOutBounce(1-i),"easeInBounce"),easeOutBounce:g(i=>i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375,"easeOutBounce"),easeInOutBounce:g(i=>i<.5?(1-Gr.easeOutBounce(1-2*i))/2:(1+Gr.easeOutBounce(2*i-1))/2,"easeInOutBounce")},fu=Gr;function qy(i,n,s){let u=[],o=n;for(u.push(o);o!==i;){if(o=s.get(o),o==null)return null;u.push(o)}return u.reverse()}g(qy,"buildPath");function Dy(i,n,s){var d;let u=new cy((y,p)=>y.cost<p.cost);u.insert({cost:0,node:n});let o=new Map;o.set(n,n);let c=new Map;for(c.set(n,0);u.length!==0;){let y=(d=u.remove())==null?void 0:d.node;if(y===s)break;let p=i.getNeighbours(y);for(let h of p){let A=(c.get(y)||0)+i.getCost(y,h)+i.getHeuristic(h,s);(!c.has(h)||A<c.get(h))&&(c.set(h,A),u.insert({cost:A,node:h}),o.set(h,y))}}return qy(n,s,o)}g(Dy,"aStarSearch");var Yl,Z2=(Yl=class{constructor(n,s,u){L(this,"a");L(this,"b");L(this,"polygon");this.a=n,this.b=s,this.polygon=new WeakRef(u)}isLeft(n,s){return(this.b.x-this.a.x)*(s-this.a.y)-(n-this.a.x)*(this.b.y-this.a.y)}get middle(){return this.a.add(this.b).scale(.5)}},g(Yl,"NavEdge"),Yl),Gl,K2=(Gl=class{constructor(n){L(this,"_edges");L(this,"_centroid");L(this,"_id");this._id=n}get id(){return this._id}set edges(n){this._edges=n;let s=0,u=0,o=0;for(let c of this._edges){c.polygon=new WeakRef(this);let d=c.a.x*c.b.y-c.a.y*c.b.x;s+=(c.a.x+c.b.x)*d,u+=(c.a.y+c.b.y)*d,o+=d}o/=2,this._centroid=Q(s/(6*o),u/(6*o))}get edges(){return this._edges}get centroid(){return this._centroid}contains(n){let s=!1;for(let u of this.edges)u.b.y>n.y!=u.a.y>n.y&&n.x<(u.a.x-u.b.x)*(n.y-u.b.y)/(u.a.y-u.b.y)+u.b.x&&(s=!s);return s}},g(Gl,"NavPolygon"),Gl),Vl,k2=(Vl=class{constructor(){L(this,"_polygons");L(this,"_pointCache");L(this,"_edgeCache");this._polygons=[],this._pointCache={},this._edgeCache={}}_addPoint(n){let s=this._pointCache[`${n.x}_${n.y}`];return s||(s=n.clone(),this._pointCache[`${n.x}_${n.y}`]=s,s)}_addEdge(n){let s=`${n.a.x}_${n.a.y}-${n.b.x}_${n.b.y}`;return this._edgeCache[s]=n,n}_findEdge(n,s){let u=`${n.x}_${n.y}-${s.x}_${s.y}`;return this._edgeCache[u]}_findCommonEdge(n,s){for(let u of n.edges){let o=this._findEdge(u.b,u.a);if(o&&o.polygon.deref().id===s.id)return o}return null}addPolygon(n){let s=new K2(this._polygons.length),u=n.map((o,c)=>new Z2(o,n[(c+1)%n.length],s));s.edges=u,this._polygons.push(s);for(let o of s.edges)this._addEdge(o);return s}addRect(n,s){let u=this._addPoint(n),o=this._addPoint(n.add(s.x,0)),c=this._addPoint(n.add(s)),d=this._addPoint(n.add(0,s.y));return this.addPolygon([u,o,c,d])}_getLocation(n){for(let s of this._polygons)if(s.contains(n))return s;return null}getNeighbours(n){let s=[];for(let u of this._polygons[n].edges){let o=this._findEdge(u.b,u.a);if(o){let c=o.polygon.deref();c&&s.push(c.id)}}return s}getCost(n,s){return 1}getHeuristic(n,s){let u=this._polygons[n],o=this._polygons[s],c=u.centroid.x-o.centroid.x,d=u.centroid.y-o.centroid.y;return Math.sqrt(c*c+d*d)}getPath(n,s){return n===void 0||s===void 0?[]:n===s?[n,s]:Dy(this,n,s)}getWaypointPath(n,s,u){let o=(u==null?void 0:u.type)||"centroids",c=this._getLocation(n),d=this._getLocation(s);if(c===void 0||d===void 0)return[];let y=this.getPath(c.id,d.id);if(!y)return[];if(o==="edges"){let p=[];for(let h=1;h<y.length;h++){let A=this._polygons[y[h-1]],T=this._polygons[y[h]],v=this._findCommonEdge(A,T);p.push(v.middle.add(T.centroid.sub(v.middle).unit().scale(4)))}return[n,...p,s]}else return[n,...y.slice(1,-1).map(p=>this._polygons[p].centroid),s]}},g(Vl,"NavMesh"),Vl);function Dl(i){let n=new Fn;return i.pos&&n.translate(i.pos),i.scale&&n.scale(i.scale),i.angle&&n.rotate(i.angle),i.parent?n.mult(i.parent.transform):n}g(Dl,"calcTransform");function Oy(i){return new J(i.x/qt()*2-1,-i.y/Ct()*2+1)}g(Oy,"screen2ndc");function Rl(i,n,s,u,o,c=1){u=dt(u%360),o=dt(o%360),o<=u&&(o+=Math.PI*2);let d=[],y=Math.ceil((o-u)/dt(8)*c),p=(o-u)/y,h=Q(Math.cos(u),Math.sin(u)),A=Q(Math.cos(p),Math.sin(p));for(let T=0;T<=y;T++)d.push(i.add(n*h.x,s*h.y)),h=Q(h.x*A.x-h.y*A.y,h.x*A.y+h.y*A.x);return d}g(Rl,"getArcPts");function By(...i){let n=Ye(...i),s=i[3]??1;w.gfx.bgColor=n,w.gfx.bgAlpha=s,w.gfx.ggl.gl.clearColor(n.r/255,n.g/255,n.b/255,s)}g(By,"setBackground");function Cy(){var i,n;return((n=(i=w.gfx.bgColor)==null?void 0:i.clone)==null?void 0:n.call(i))??null}g(Cy,"getBackground");function it(...i){if(i[0]===void 0)return;let n=Q(...i);n.x===0&&n.y===0||w.gfx.transform.translate(n)}g(it,"pushTranslate");function ln(){w.gfx.transformStack.push(w.gfx.transform.clone())}g(ln,"pushTransform");function Uy(i){w.gfx.transform=i.clone()}g(Uy,"pushMatrix");function es(...i){if(i[0]===void 0)return;let n=Q(...i);n.x===1&&n.y===1||w.gfx.transform.scale(n)}g(es,"pushScale");function Di(i){i&&w.gfx.transform.rotate(i)}g(Di,"pushRotate");function Xt(){w.gfx.transformStack.length>0&&(w.gfx.transform=w.gfx.transformStack.pop())}g(Xt,"popTransform");function sn(){w.gfx.renderer.flush()}g(sn,"flush");function qt(){return w.gfx.width}g(qt,"width");function Ct(){return w.gfx.height}g(Ct,"height");function wh(){return(w.gfx.viewport.width+w.gfx.viewport.height)/(w.gfx.width+w.gfx.height)}g(wh,"getViewportScale");function zy(i){return new J(i.x*w.gfx.viewport.width/w.gfx.width,i.y*w.gfx.viewport.height/w.gfx.height)}g(zy,"contentToView");function Ny(i){return new J((i.x-w.gfx.viewport.x)*qt()/w.gfx.viewport.width,(i.y-w.gfx.viewport.y)*Ct()/w.gfx.viewport.height)}g(Ny,"windowToContent");function xh(){return Ny(w.app.mousePos())}g(xh,"mousePos");function hu(){return Q(qt()/2,Ct()/2)}g(hu,"center");var Xl,F2=(Xl=class{constructor(n,s,u,o){L(this,"lastTextureId",0);L(this,"textures",[]);L(this,"bigTextures",[]);L(this,"texturesPosition",new Map);L(this,"canvas");L(this,"c2d");L(this,"x",0);L(this,"y",0);L(this,"curHeight",0);L(this,"gfx");L(this,"padding");this.gfx=n,this.canvas=document.createElement("canvas"),this.canvas.width=s,this.canvas.height=u,this.textures=[Va.fromImage(n,this.canvas)],this.bigTextures=[],this.padding=o;let c=this.canvas.getContext("2d");if(!c)throw new Error("Failed to get 2d context");this.c2d=c}add_single(n){let s=Va.fromImage(this.gfx,n);return this.bigTextures.push(s),[s,new lt(0,0,1,1),0]}add(n){let s=n.width+this.padding*2,u=n.height+this.padding*2;(s>this.canvas.width||u>this.canvas.height)&&this.add_single(n),this.x+s>this.canvas.width&&(this.x=0,this.y+=this.curHeight,this.curHeight=0),this.y+u>this.canvas.height&&(this.c2d.clearRect(0,0,this.canvas.width,this.canvas.height),this.textures.push(Va.fromImage(this.gfx,this.canvas)),this.x=0,this.y=0,this.curHeight=0);let o=this.textures[this.textures.length-1],c=new J(this.x+this.padding,this.y+this.padding);return this.x+=s,u>this.curHeight&&(this.curHeight=u),n instanceof ImageData?this.c2d.putImageData(n,c.x,c.y):this.c2d.drawImage(n,c.x,c.y),o.update(this.canvas),this.texturesPosition.set(this.lastTextureId,{position:c,size:new J(n.width,n.height),texture:o}),this.lastTextureId++,[o,new lt(c.x/this.canvas.width,c.y/this.canvas.height,n.width/this.canvas.width,n.height/this.canvas.height),this.lastTextureId-1]}free(){for(let n of this.textures)n.free();for(let n of this.bigTextures)n.free()}},g(Xl,"TexPacker"),Xl);function on(i){return typeof i!="string"||gy(i)?i:w.assets.urlPrefix+i}g(on,"fixURL");var Ri,xn=(Ri=class{constructor(n){L(this,"loaded",!1);L(this,"data",null);L(this,"error",null);L(this,"onLoadEvents",new Vt);L(this,"onErrorEvents",new Vt);L(this,"onFinishEvents",new Vt);n.then(s=>{this.loaded=!0,this.data=s,this.onLoadEvents.trigger(s)}).catch(s=>{if(this.error=s,this.onErrorEvents.numListeners()>0)this.onErrorEvents.trigger(s);else throw s}).finally(()=>{this.onFinishEvents.trigger(),this.loaded=!0})}static loaded(n){let s=new Ri(Promise.resolve(n));return s.data=n,s.loaded=!0,s}onLoad(n){return this.loaded&&this.data?n(this.data):this.onLoadEvents.add(n),this}onError(n){return this.loaded&&this.error?n(this.error):this.onErrorEvents.add(n),this}onFinish(n){return this.loaded?n():this.onFinishEvents.add(n),this}then(n){return this.onLoad(n)}catch(n){return this.onError(n)}finally(n){return this.onFinish(n)}},g(Ri,"Asset"),Ri),Ql,Sl=(Ql=class{constructor(){L(this,"assets",new Map);L(this,"lastUID",0)}add(n,s){let u=n??this.lastUID+++"",o=new xn(s);return this.assets.set(u,o),o}addLoaded(n,s){let u=n??this.lastUID+++"",o=xn.loaded(s);return this.assets.set(u,o),o}get(n){return this.assets.get(n)}progress(){if(this.assets.size===0)return 1;let n=0;return this.assets.forEach(s=>{s.loaded&&n++}),n/this.assets.size}getFailedAssets(){return Array.from(this.assets.keys()).filter(n=>this.assets.get(n).error!==null).map(n=>[n,this.assets.get(n)])}},g(Ql,"AssetBucket"),Ql);function mo(i){return fetch(i).then(n=>{if(!n.ok)throw new Error(`Failed to fetch "${i}"`);return n})}g(mo,"fetchURL");function wu(i){return mo(i).then(n=>n.json())}g(wu,"fetchJSON");function Hy(i){return mo(i).then(n=>n.text())}g(Hy,"fetchText");function jy(i){return mo(i).then(n=>n.arrayBuffer())}g(jy,"fetchArrayBuffer");function _y(i){return i!==void 0&&(w.assets.urlPrefix=i),w.assets.urlPrefix}g(_y,"loadRoot");function Ly(i,n){return w.assets.custom.add(i,wu(on(n)))}g(Ly,"loadJSON");function xu(i){let n=new Image;return n.crossOrigin="anonymous",n.src=i,new Promise((s,u)=>{n.onload=()=>s(n),n.onerror=()=>u(new Error(`Failed to load image from "${i}"`))})}g(xu,"loadImg");function Ja(){let i=[w.assets.sprites,w.assets.sounds,w.assets.shaders,w.assets.fonts,w.assets.bitmapFonts,w.assets.custom];return i.reduce((n,s)=>n+s.progress(),0)/i.length}g(Ja,"loadProgress");function Sh(){return[w.assets.sprites,w.assets.sounds,w.assets.shaders,w.assets.fonts,w.assets.bitmapFonts,w.assets.custom].reduce((i,n)=>i.concat(n.getFailedAssets()),[])}g(Sh,"getFailedAssets");function Yy(i){return w.assets.custom.get(i)??null}g(Yy,"getAsset");function Jr(i){return w.assets.custom.add(null,i)}g(Jr,"load");var J2=g((i,n)=>({urlPrefix:"",sprites:new Sl,fonts:new Sl,bitmapFonts:new Sl,sounds:new Sl,shaders:new Sl,custom:new Sl,music:{},packer:new F2(i,2048,2048,n),loaded:!1}),"initAssets"),P2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA1CAYAAADyMeOEAAAAAXNSR0IArs4c6QAAAoVJREFUaIHdm7txwkAQhheGAqACiCHzOKQDQrqgILpwSAeEDBnEUAF0gCMxZ7G72qce/mec2Lpf9+3unaS78wgSNZ8uX5729+d1FNWXUuGmXlBOUUEIMckEpeQJgBu6C+BSFngztBR2vd+ovY+7g+p6LbgaWgJrAeUkDYIUXgXdBBwNi6kpABJwMTQH3AZsXRR8GHTfgEth8E3gjdAUcNewpbTgY85sCMCUuOokozE0YM0YRzM9NGAAXd8+omAF5h4lnmBRvpSnZHyLoLEbaN+aKB9KWv/KWw0tAbbANnlG+UvB2dm77NxxdwgBpjrF/d7rW9cbmpvio2A5z8iAYpVU8pGZlo6/2+MSco2lHfd3rv9jAP038e1xef9o2mjvYb2OqpqKE81028/jeietlSEVO5FRWsxWsJit1G3aFpW8iWe5RwpiCZAk25QvV6nz6fIlynRGuTd5WqpJ4guAlDfVKBK87hXljflgv1ON6fV+4+5gVlA17SfeG0heKqQd4l4jI/wrmaA9N9R4ar+wpHJDZyrrfcH0nB66PqAzPi76pn+faSyJk/vzOorYhGurQrzj/P68jtBMawHaHBIR9xoD5O34dy0qQOSYHvqExq2TpT2nf76+w7y251OYF0CRaU+J920TwLUa6inx6OxE6g80lu2ux7Y2eJLF/rCXE6zEPdnenk9o+4ih9AEdnW2q81HXl5LuU6OTl2fXUhqganbXAGq3g6jJOWV/OnoesO6YqqEB/GdNsjf7uHtwj2DzmRNpp7iOZfm6D9oAxB6Yi1gC4oIYeo4MIPdopEQRB+cAko5J1tW386HpB2Kz1eop4Epdwls/kgZ1sh8gZsEjdcWkr//D8Qu3Z3l5Nl1NtAAAAABJRU5ErkJggg==",kn,Pa=(kn=class{constructor(n,s,u={},o=null){L(this,"tex");L(this,"frames",[new lt(0,0,1,1)]);L(this,"anims",{});L(this,"slice9",null);this.tex=n,s&&(this.frames=s),this.anims=u,this.slice9=o}get width(){return this.tex.width*this.frames[0].w}get height(){return this.tex.height*this.frames[0].h}static from(n,s={}){return typeof n=="string"?kn.fromURL(n,s):Promise.resolve(kn.fromImage(n,s))}static fromImage(n,s={}){let[u,o]=s.singular?w.assets.packer.add_single(n):w.assets.packer.add(n),c=s.frames?s.frames.map(d=>new lt(o.x+d.x*o.w,o.y+d.y*o.h,d.w*o.w,d.h*o.h)):Mh(s.sliceX||1,s.sliceY||1,o.x,o.y,o.w,o.h);return new kn(u,c,s.anims,s.slice9)}static fromURL(n,s={}){return xu(n).then(u=>kn.fromImage(u,s))}},g(kn,"SpriteData"),kn);function uu(i){if(typeof i=="string"){let n=Eh(i);if(n)return n;if(Ja()<1)return null;throw new Error(`Sprite not found: ${i}`)}else{if(i instanceof Pa)return xn.loaded(i);if(i instanceof xn)return i;throw new Error(`Invalid sprite: ${i}`)}}g(uu,"resolveSprite");function Eh(i){return w.assets.sprites.get(i)??null}g(Eh,"getSprite");function Ol(i,n,s={sliceX:1,sliceY:1,anims:{}}){return n=on(n),Array.isArray(n)?n.some(u=>typeof u=="string")?w.assets.sprites.add(i,Promise.all(n.map(u=>typeof u=="string"?xu(u):Promise.resolve(u))).then(u=>Ff(u,s))):w.assets.sprites.addLoaded(i,Ff(n,s)):typeof n=="string"?w.assets.sprites.add(i,Pa.from(n,s)):w.assets.sprites.addLoaded(i,Pa.fromImage(n,s))}g(Ol,"loadSprite");function Mh(i=1,n=1,s=0,u=0,o=1,c=1){let d=[],y=o/i,p=c/n;for(let h=0;h<n;h++)for(let A=0;A<i;A++)d.push(new lt(s+A*y,u+h*p,y,p));return d}g(Mh,"slice");function Ff(i,n={}){let s=document.createElement("canvas"),u=i[0].width,o=i[0].height;s.width=u*i.length,s.height=o;let c=s.getContext("2d");if(!c)throw new Error("Failed to create canvas context");i.forEach((y,p)=>{y instanceof ImageData?c.putImageData(y,p*u,0):c.drawImage(y,p*u,0)});let d=c.getImageData(0,0,i.length*u,o);return Pa.fromImage(d,{...n,sliceX:i.length,sliceY:1})}g(Ff,"createSpriteSheet");function Gy(i="bean"){return Ol(i,P2)}g(Gy,"loadBean");function Vy(i,n,s){n=on(n),s=on(s),typeof n=="string"&&!s&&(s=M2(n)+".json");let u=typeof s=="string"?wu(s):Promise.resolve(s);return w.assets.sprites.add(i,u.then(o=>{let c=o.meta.size,d=o.frames.map(p=>new lt(p.frame.x/c.w,p.frame.y/c.h,p.frame.w/c.w,p.frame.h/c.h)),y={};for(let p of o.meta.frameTags)p.from===p.to?y[p.name]=p.from:y[p.name]={from:p.from,to:p.to,speed:10,loop:!0,pingpong:p.direction==="pingpong"};return Pa.from(n,{frames:d,anims:y})}))}g(Vy,"loadAseprite");var Zl,Vr=(Zl=class{constructor(n,s={}){L(this,"fontface");L(this,"filter",Xf);L(this,"outline",null);L(this,"size",64);if(this.fontface=n,this.filter=s.filter??Xf,this.size=s.size??64,this.size>256)throw new Error("Max font size: 256");s.outline&&(this.outline={width:1,color:Ye(0,0,0)},typeof s.outline=="number"?this.outline.width=s.outline:typeof s.outline=="object"&&(s.outline.width&&(this.outline.width=s.outline.width),s.outline.color&&(this.outline.color=s.outline.color)))}},g(Zl,"FontData"),Zl);function Th(i){if(!i)return Th(w.globalOpt.font??f2);if(typeof i=="string"){let n=qh(i),s=Rh(i);if(n)return n.data??n;if(s)return s.data??s;if(document.fonts.check(`64px ${i}`))return i;if(Ja()<1)return null;throw new Error(`Font not found: ${i}`)}else if(i instanceof xn)return i.data?i.data:i;return i}g(Th,"resolveFont");function Rh(i){return w.assets.fonts.get(i)??null}g(Rh,"getFont");function Xy(i,n,s={}){let u=on(n),o=new FontFace(i,typeof n=="string"?`url(${u})`:u);return document.fonts.add(o),w.assets.fonts.add(i,o.load().catch(c=>{throw new Error(`Failed to load font from "${u}": ${c}`)}).then(c=>new Vr(c,s)))}g(Xy,"loadFont");function Qy(i,n,s,u){let o=i.width/n,c={},d=u.split("").entries();for(let[y,p]of d)c[p]=new lt(y%o*n,Math.floor(y/o)*s,n,s);return{tex:i,map:c,size:s}}g(Qy,"makeFont");function qh(i){return w.assets.bitmapFonts.get(i)??null}g(qh,"getBitmapFont");function Zy(i,n,s,u,o={}){let c=on(n);return w.assets.bitmapFonts.add(i,xu(c).then(d=>Qy(Va.fromImage(w.gfx.ggl,d,o),s,u,o.chars??sy)))}g(Zy,"loadBitmapFont");function Ky(i,n){return n=on(n),w.assets.sprites.add(i,new Promise(async s=>{let u=typeof n=="string"?await wu(n):n,o=await Promise.all(u.frames.map(xu)),c=document.createElement("canvas");c.width=u.width,c.height=u.height*u.frames.length;let d=c.getContext("2d");if(!d)throw new Error("Failed to create canvas context");o.forEach((p,h)=>{d.drawImage(p,0,h*u.height)});let y=await Ol(null,c,{sliceY:u.frames.length,anims:u.anims});s(y)}))}g(Ky,"loadPedit");var Kl,I2=(Kl=class{constructor(n,s,u,o){L(this,"ctx");L(this,"glProgram");this.ctx=n,n.onDestroy(()=>this.free());let c=n.gl,d=c.createShader(c.VERTEX_SHADER),y=c.createShader(c.FRAGMENT_SHADER);if(!d||!y)throw new Error("Failed to create shader");c.shaderSource(d,s),c.shaderSource(y,u),c.compileShader(d),c.compileShader(y);let p=c.createProgram();if(this.glProgram=p,c.attachShader(p,d),c.attachShader(p,y),o.forEach((h,A)=>c.bindAttribLocation(p,A,h)),c.linkProgram(p),!c.getProgramParameter(p,c.LINK_STATUS)){let h=c.getShaderInfoLog(d);if(h)throw new Error("VERTEX SHADER "+h);let A=c.getShaderInfoLog(y);if(A)throw new Error("FRAGMENT SHADER "+A)}c.deleteShader(d),c.deleteShader(y)}bind(){this.ctx.pushProgram(this.glProgram)}unbind(){this.ctx.popProgram()}send(n){let s=this.ctx.gl;for(let u in n){let o=n[u],c=s.getUniformLocation(this.glProgram,u);if(typeof o=="number")s.uniform1f(c,o);else if(o instanceof Fn)s.uniformMatrix4fv(c,!1,new Float32Array(o.m));else if(o instanceof Ce)s.uniform3f(c,o.r,o.g,o.b);else if(o instanceof J)s.uniform2f(c,o.x,o.y);else if(Array.isArray(o))o[0],E2(o)?s.uniform1fv(c,o):S2(o)?s.uniform2fv(c,o.map(d=>[d.x,d.y]).flat()):x2(o)&&s.uniform3fv(c,o.map(d=>[d.r,d.g,d.b]).flat());else throw new Error("Unsupported uniform data type")}}free(){this.ctx.gl.deleteProgram(this.glProgram)}},g(Kl,"Shader"),Kl);function yo(i,n=Qf,s=Zf){let u=p2.replace("{{user}}",n??Qf),o=m2.replace("{{user}}",s??Zf);try{return new I2(i,u,o,Ah.map(c=>c.name))}catch(c){let d=/(?<type>^\w+) SHADER ERROR: 0:(?<line>\d+): (?<msg>.+)/,y=T2(c).match(d);if(!(y!=null&&y.groups))throw c;let p=Number(y.groups.line)-14,h=y.groups.msg.trim(),A=y.groups.type.toLowerCase();throw new Error(`${A} shader line ${p}: ${h}`)}}g(yo,"makeShader");function ky(i){if(!i)return w.gfx.defShader;if(typeof i=="string"){let n=Dh(i);if(n)return n.data??n;if(Ja()<1)return null;throw new Error(`Shader not found: ${i}`)}else if(i instanceof xn)return i.data?i.data:i;return i}g(ky,"resolveShader");function Dh(i){return w.assets.shaders.get(i)??null}g(Dh,"getShader");function Fy(i,n,s){return w.assets.shaders.addLoaded(i,yo(w.gfx.ggl,n,s))}g(Fy,"loadShader");function Jy(i,n,s){n=on(n),s=on(s);let u=g(c=>c?Hy(c):Promise.resolve(null),"resolveUrl"),o=Promise.all([u(n),u(s)]).then(([c,d])=>yo(w.gfx.ggl,c,d));return w.assets.shaders.add(i,o)}g(Jy,"loadShaderURL");var fa,du=(fa=class{constructor(n){L(this,"buf");this.buf=n}static fromArrayBuffer(n){return new Promise((s,u)=>w.audio.ctx.decodeAudioData(n,s,u)).then(s=>new fa(s))}static fromURL(n){return gy(n)?fa.fromArrayBuffer(hy(n)):jy(n).then(s=>fa.fromArrayBuffer(s))}},g(fa,"SoundData"),fa);function Py(i){if(typeof i=="string"){let n=Oh(i);if(n)return n;if(Ja()<1)return null;throw new Error(`Sound not found: ${i}`)}else{if(i instanceof du)return xn.loaded(i);if(i instanceof xn)return i;throw new Error(`Invalid sound: ${i}`)}}g(Py,"resolveSound");function Oh(i){return w.assets.sounds.get(i)??null}g(Oh,"getSound");function Iy(i,n){return n=on(n),w.assets.sounds.add(i,typeof n=="string"?du.fromURL(n):du.fromArrayBuffer(n))}g(Iy,"loadSound");function Wy(i,n){let s=on(n),u=new Audio(s);return u.preload="auto",w.assets.music[i]=s}g(Wy,"loadMusic");function Bh(i,n){return i=on(i),Jr(typeof n=="string"?new Promise((s,u)=>{wu(n).then(o=>{Bh(i,o).then(s).catch(u)})}):Pa.from(i).then(s=>{let u={};for(let o in n){let c=n[o],d=s.frames[0],y=2048*d.w,p=2048*d.h,h=c.frames?c.frames.map(T=>new lt(d.x+(c.x+T.x)/y*d.w,d.y+(c.y+T.y)/p*d.h,T.w/y*d.w,T.h/p*d.h)):Mh(c.sliceX||1,c.sliceY||1,d.x+c.x/y*d.w,d.y+c.y/p*d.h,c.width/y*d.w,c.height/p*d.h),A=new Pa(s.tex,h,c.anims);w.assets.sprites.addLoaded(o,A),u[o]=A}return u}))}g(Bh,"loadSpriteAtlas");function pa(i,n,s=!1,u,o,c={}){let d=u??w.gfx.defTex,y=o??w.gfx.defShader,p=ky(y);if(!p||p instanceof xn)return;let h=w.gfx.fixed||s?w.gfx.transform:w.game.cam.transform.mult(w.gfx.transform),A=[];for(let T of i){let v=Oy(h.multVec2(T.pos));A.push(v.x,v.y,T.uv.x,T.uv.y,T.color.r/255,T.color.g/255,T.color.b/255,T.opacity)}w.gfx.renderer.push(w.gfx.ggl.gl.TRIANGLES,A,n,p,d,c)}g(pa,"drawRaw");function ha(i){if(!i.pts)throw new Error('drawPolygon() requires property "pts".');let n=i.pts.length;if(!(n<3)){if(ln(),it(i.pos),es(i.scale),Di(i.angle),it(i.offset),i.fill!==!1){let s=i.color??Ce.WHITE,u=i.pts.map((c,d)=>({pos:new J(c.x,c.y),uv:i.uv?i.uv[d]:new J(0,0),color:i.colors&&i.colors[d]?i.colors[d].mult(s):s,opacity:i.opacity??1})),o;i.triangulate?o=vh(i.pts).map(c=>c.map(d=>i.pts.indexOf(d))).flat():o=[...Array(n-2).keys()].map(c=>[0,c+1,c+2]).flat(),pa(u,i.indices??o,i.fixed,i.uv?i.tex:w.gfx.defTex,i.shader,i.uniform??void 0)}i.outline&&vo({pts:[...i.pts,i.pts[0]],radius:i.radius,width:i.outline.width,color:i.outline.color,join:i.outline.join,uniform:i.uniform,fixed:i.fixed,opacity:i.opacity??i.outline.opacity}),Xt()}}g(ha,"drawPolygon");function Ch(i){if(i.radiusX===void 0||i.radiusY===void 0)throw new Error('drawEllipse() requires properties "radiusX" and "radiusY".');if(i.radiusX===0||i.radiusY===0)return;let n=i.start??0,s=i.end??360,u=Ci(i.anchor??"center").scale(new J(-i.radiusX,-i.radiusY)),o=Rl(u,i.radiusX,i.radiusY,n,s,i.resolution);o.unshift(u);let c=Object.assign({},i,{pts:o,radius:0,...i.gradient?{colors:[i.gradient[0],...Array(o.length-1).fill(i.gradient[1])]}:{}});if(s-n>=360&&i.outline){i.fill!==!1&&ha(Object.assign({},c,{outline:null})),ha(Object.assign({},c,{pts:o.slice(1),fill:!1}));return}ha(c)}g(Ch,"drawEllipse");function Ui(i){if(typeof i.radius!="number")throw new Error('drawCircle() requires property "radius".');i.radius!==0&&Ch(Object.assign({},i,{radiusX:i.radius,radiusY:i.radius,angle:0}))}g(Ui,"drawCircle");function ql(i){let{p1:n,p2:s}=i;if(!n||!s)throw new Error('drawLine() requires properties "p1" and "p2".');let u=i.width||1,o=s.sub(n).unit().normal().scale(u*.5),c=[n.sub(o),n.add(o),s.add(o),s.sub(o)].map(d=>({pos:new J(d.x,d.y),uv:new J(0),color:i.color??Ce.WHITE,opacity:i.opacity??1}));pa(c,[0,1,3,1,2,3],i.fixed,w.gfx.defTex,i.shader,i.uniform??void 0)}g(ql,"drawLine");function $y(i){let n=i.pts,s=[],u=(i.width||1)*.5,o=n[0]===n[n.length-1]||n[0].eq(n[n.length-1]),c=i.pos||Q(0,0),d;o?d=n[0].sub(n[n.length-2]):d=n[1].sub(n[0]);let y=d.len(),p=d.normal().scale(-u/y),h,A=n[0];if(!o)switch(i.cap){case"square":{let E=d.scale(-u/y);s.push(A.add(E).add(p)),s.push(A.add(E).sub(p));break}case"round":{let E=Math.max(u,10),U=Math.PI/E,x=p.scale(-1),S=Math.cos(U),H=Math.sin(U);for(let X=0;X<E;X++)s.push(A),s.push(A.sub(x)),x=Q(x.x*S-x.y*H,x.x*H+x.y*S)}}for(let E=1;E<n.length;E++){if(A===n[E]||A.eq(n[E]))continue;h=A,A=n[E];let U=A.sub(h),x=U.len(),S=U.normal().scale(-u/x),H=d.cross(U);if(Math.abs(H)/(y*x)<.05){s.push(h.add(p)),s.push(h.sub(p)),d.dot(U)<0&&(s.push(h.sub(p)),s.push(h.add(p))),d=U,y=x,p=S;continue}let X=S.sub(p).cross(U)/H,ae=p.add(d.scale(X));H>0?(s.push(h.add(ae)),s.push(h.sub(p)),s.push(h.add(ae)),s.push(h.sub(S))):(s.push(h.add(p)),s.push(h.sub(ae)),s.push(h.add(S)),s.push(h.sub(ae))),d=U,y=x,p=S}if(!o)switch(s.push(A.add(p)),s.push(A.sub(p)),i.cap){case"square":{let E=d.scale(u/y);s.push(A.add(E).add(p)),s.push(A.add(E).sub(p));break}case"round":{let E=Math.max(u,10),U=Math.PI/E,x=p.scale(1),S=Math.cos(U),H=Math.sin(U);for(let X=0;X<E;X++)x=Q(x.x*S-x.y*H,x.x*H+x.y*S),s.push(A),s.push(A.sub(x))}}if(s.length<4)return;let T=s.map(E=>({pos:c.add(E),uv:Q(),color:i.color||Ce.WHITE,opacity:i.opacity??1})),v=[],D=0;for(let E=0;E<s.length-2;E+=2)v[D++]=E+1,v[D++]=E,v[D++]=E+2,v[D++]=E+2,v[D++]=E+3,v[D++]=E+1;o&&(v[D++]=s.length-1,v[D++]=s.length-2,v[D++]=0,v[D++]=0,v[D++]=1,v[D++]=s.length-1),pa(T,v,i.fixed,w.gfx.defTex,i.shader,i.uniform??void 0)}g($y,"_drawLinesBevel");function e1(i){let n=i.pts,s=[],u=(i.width||1)*.5,o=n[0]===n[n.length-1]||n[0].eq(n[n.length-1]),c=i.pos||Q(0,0),d;o?d=n[0].sub(n[n.length-2]):d=n[1].sub(n[0]);let y=d.len(),p=d.normal().scale(-u/y),h,A=n[0];if(!o)switch(i.cap){case"square":{let E=d.scale(-u/y);s.push(A.add(E).add(p)),s.push(A.add(E).sub(p));break}case"round":{let E=Math.max(u,10),U=Math.PI/E,x=p.scale(-1),S=Math.cos(U),H=Math.sin(U);for(let X=0;X<E;X++)s.push(A),s.push(A.sub(x)),x=Q(x.x*S-x.y*H,x.x*H+x.y*S)}}for(let E=1;E<n.length;E++){if(A===n[E]||A.eq(n[E]))continue;h=A,A=n[E];let U=A.sub(h),x=U.len(),S=U.normal().scale(-u/x),H=d.cross(U);if(Math.abs(H)/(y*x)<.05){s.push(h.add(p)),s.push(h.sub(p)),d.dot(U)<0&&(s.push(h.sub(p)),s.push(h.add(p))),d=U,y=x,p=S;continue}let X=S.sub(p).cross(U)/H,ae=p.add(d.scale(X));if(H>0){let k=h.add(ae),q=Math.max(u,10),B=dt(p.angleBetween(S)/q),N=p,K=Math.cos(B),ne=Math.sin(B);for(let ie=0;ie<q;ie++)s.push(k),s.push(h.sub(N)),N=Q(N.x*K-N.y*ne,N.x*ne+N.y*K)}else{let k=h.sub(ae),q=Math.max(u,10),B=dt(p.angleBetween(S)/q),N=p,K=Math.cos(B),ne=Math.sin(B);for(let ie=0;ie<q;ie++)s.push(h.add(N)),s.push(k),N=Q(N.x*K-N.y*ne,N.x*ne+N.y*K)}d=U,y=x,p=S}if(!o)switch(s.push(A.add(p)),s.push(A.sub(p)),i.cap){case"square":{let E=d.scale(u/y);s.push(A.add(E).add(p)),s.push(A.add(E).sub(p));break}case"round":{let E=Math.max(u,10),U=Math.PI/E,x=p.scale(1),S=Math.cos(U),H=Math.sin(U);for(let X=0;X<E;X++)x=Q(x.x*S-x.y*H,x.x*H+x.y*S),s.push(A),s.push(A.sub(x))}}if(s.length<4)return;let T=s.map(E=>({pos:c.add(E),uv:Q(),color:i.color||Ce.WHITE,opacity:i.opacity??1})),v=[],D=0;for(let E=0;E<s.length-2;E+=2)v[D++]=E+1,v[D++]=E,v[D++]=E+2,v[D++]=E+2,v[D++]=E+3,v[D++]=E+1;o&&(v[D++]=s.length-1,v[D++]=s.length-2,v[D++]=0,v[D++]=0,v[D++]=1,v[D++]=s.length-1),pa(T,v,i.fixed,w.gfx.defTex,i.shader,i.uniform??void 0)}g(e1,"_drawLinesRound");function t1(i){let n=i.pts,s=[],u=(i.width||1)*.5,o=n[0]===n[n.length-1]||n[0].eq(n[n.length-1]),c=i.pos||Q(0,0),d;o?d=n[0].sub(n[n.length-2]):d=n[1].sub(n[0]);let y=d.len(),p=d.normal().scale(-u/y),h,A=n[0];if(!o)switch(i.cap){case"square":{let E=d.scale(-u/y);s.push(A.add(E).add(p)),s.push(A.add(E).sub(p));break}case"round":{let E=Math.max(u,10),U=Math.PI/E,x=p.scale(-1),S=Math.cos(U),H=Math.sin(U);for(let X=0;X<E;X++)s.push(A),s.push(A.sub(x)),x=Q(x.x*S-x.y*H,x.x*H+x.y*S)}}for(let E=1;E<n.length;E++){if(A===n[E]||A.eq(n[E]))continue;h=A,A=n[E];let U=A.sub(h),x=U.len(),S=U.normal().scale(-u/x),H=d.cross(U);if(Math.abs(H)/(y*x)<.05){s.push(h.add(p)),s.push(h.sub(p)),d.dot(U)<0&&(s.push(h.sub(p)),s.push(h.add(p))),d=U,y=x,p=S;continue}let X=S.sub(p).cross(U)/H,ae=p.add(d.scale(X));s.push(h.add(ae)),s.push(h.sub(ae)),d=U,y=x,p=S}if(!o)switch(s.push(A.add(p)),s.push(A.sub(p)),i.cap){case"square":{let E=d.scale(u/y);s.push(A.add(E).add(p)),s.push(A.add(E).sub(p));break}case"round":{let E=Math.max(u,10),U=Math.PI/E,x=p.scale(1),S=Math.cos(U),H=Math.sin(U);for(let X=0;X<E;X++)x=Q(x.x*S-x.y*H,x.x*H+x.y*S),s.push(A),s.push(A.sub(x))}}if(s.length<4)return;let T=s.map(E=>({pos:c.add(E),uv:Q(),color:i.color||Ce.WHITE,opacity:i.opacity??1})),v=[],D=0;for(let E=0;E<s.length-2;E+=2)v[D++]=E+1,v[D++]=E,v[D++]=E+2,v[D++]=E+2,v[D++]=E+3,v[D++]=E+1;o&&(v[D++]=s.length-1,v[D++]=s.length-2,v[D++]=0,v[D++]=0,v[D++]=1,v[D++]=s.length-1),pa(T,v,i.fixed,w.gfx.defTex,i.shader,i.uniform??void 0)}g(t1,"_drawLinesMiter");function vo(i){let n=i.pts,s=i.width??1;if(!n)throw new Error('drawLines() requires property "pts".');if(!(n.length<2)){if(n.length>2)switch(i.join){case"bevel":return $y(i);case"round":return e1(i);case"miter":return t1(i)}if(i.radius&&n.length>=3){ql(Object.assign({},i,{p1:n[0],p2:n[1]}));for(let u=1;u<n.length-2;u++){let o=n[u],c=n[u+1];ql(Object.assign({},i,{p1:o,p2:c}))}ql(Object.assign({},i,{p1:n[n.length-2],p2:n[n.length-1]}))}else for(let u=0;u<n.length-1;u++)ql(Object.assign({},i,{p1:n[u],p2:n[u+1]})),i.join!=="none"&&Ui(Object.assign({},i,{pos:n[u],radius:s/2}))}}g(vo,"drawLines");function Uh(i,n){let s=n.segments??16,u=[];for(let o=0;o<=s;o++)u.push(i(o/s));vo({pts:u,width:n.width||1,pos:n.pos,color:n.color,opacity:n.opacity})}g(Uh,"drawCurve");function n1(i){Uh(n=>co(i.pt1,i.pt2,i.pt3,i.pt4,n),i)}g(n1,"drawBezier");var qi,Va=(qi=class{constructor(n,s,u,o={}){L(this,"ctx");L(this,"src",null);L(this,"glTex");L(this,"width");L(this,"height");this.ctx=n;let c=n.gl,d=n.gl.createTexture();if(!d)throw new Error("Failed to create texture");this.glTex=d,n.onDestroy(()=>this.free()),this.width=s,this.height=u;let y={linear:c.LINEAR,nearest:c.NEAREST}[o.filter??n.opts.texFilter??"nearest"],p={repeat:c.REPEAT,clampToEdge:c.CLAMP_TO_EDGE}[o.wrap??"clampToEdge"];this.bind(),s&&u&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,s,u,0,c.RGBA,c.UNSIGNED_BYTE,null),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,y),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,y),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,p),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,p),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.unbind()}static fromImage(n,s,u={}){let o=new qi(n,s.width,s.height,u);return o.update(s),o.src=s,o}update(n,s=0,u=0){let o=this.ctx.gl;this.bind(),o.texSubImage2D(o.TEXTURE_2D,0,s,u,o.RGBA,o.UNSIGNED_BYTE,n),this.unbind()}bind(){this.ctx.pushTexture2D(this.glTex)}unbind(){this.ctx.popTexture2D()}free(){this.ctx.gl.deleteTexture(this.glTex)}},g(qi,"Texture"),qi),kl,Pr=(kl=class{constructor(n,s,u,o={}){L(this,"ctx");L(this,"tex");L(this,"glFramebuffer");L(this,"glRenderbuffer");this.ctx=n;let c=n.gl;n.onDestroy(()=>this.free()),this.tex=new Va(n,s,u,o);let d=c.createFramebuffer(),y=c.createRenderbuffer();if(!d||!y)throw new Error("Failed to create framebuffer");this.glFramebuffer=d,this.glRenderbuffer=y,this.bind(),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,s,u),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,this.tex.glTex,0),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,this.glRenderbuffer),this.unbind()}get width(){return this.tex.width}get height(){return this.tex.height}toImageData(){let n=this.ctx.gl,s=new Uint8ClampedArray(this.width*this.height*4);this.bind(),n.readPixels(0,0,this.width,this.height,n.RGBA,n.UNSIGNED_BYTE,s),this.unbind();let u=this.width*4,o=new Uint8Array(u);for(let c=0;c<(this.height/2|0);c++){let d=c*u,y=(this.height-c-1)*u;o.set(s.subarray(d,d+u)),s.copyWithin(d,y,y+u),s.set(o,y)}return new ImageData(s,this.width,this.height)}toDataURL(){let n=document.createElement("canvas"),s=n.getContext("2d");if(n.width=this.width,n.height=this.height,!s)throw new Error("Failed to get 2d context");return s.putImageData(this.toImageData(),0,0),n.toDataURL()}clear(){let n=this.ctx.gl;n.clear(n.COLOR_BUFFER_BIT)}draw(n){this.bind(),n(),this.unbind()}bind(){this.ctx.pushFramebuffer(this.glFramebuffer),this.ctx.pushRenderbuffer(this.glRenderbuffer),this.ctx.pushViewport({x:0,y:0,w:this.width,h:this.height})}unbind(){this.ctx.popFramebuffer(),this.ctx.popRenderbuffer(),this.ctx.popViewport()}free(){let n=this.ctx.gl;n.deleteFramebuffer(this.glFramebuffer),n.deleteRenderbuffer(this.glRenderbuffer),this.tex.free()}},g(kl,"FrameBuffer"),kl),Fl,W2=(Fl=class{constructor(n,s,u,o){L(this,"ctx");L(this,"glVBuf");L(this,"glIBuf");L(this,"vqueue",[]);L(this,"iqueue",[]);L(this,"stride");L(this,"maxVertices");L(this,"maxIndices");L(this,"vertexFormat");L(this,"numDraws",0);L(this,"curPrimitive",null);L(this,"curTex",null);L(this,"curShader",null);L(this,"curUniform",{});let c=n.gl;this.vertexFormat=s,this.ctx=n,this.stride=s.reduce((y,p)=>y+p.size,0),this.maxVertices=u,this.maxIndices=o;let d=c.createBuffer();if(!d)throw new Error("Failed to create vertex buffer");this.glVBuf=d,n.pushArrayBuffer(this.glVBuf),c.bufferData(c.ARRAY_BUFFER,u*4,c.DYNAMIC_DRAW),n.popArrayBuffer(),this.glIBuf=c.createBuffer(),n.pushElementArrayBuffer(this.glIBuf),c.bufferData(c.ELEMENT_ARRAY_BUFFER,o*4,c.DYNAMIC_DRAW),n.popElementArrayBuffer()}push(n,s,u,o,c=null,d={}){(n!==this.curPrimitive||c!==this.curTex||o!==this.curShader||!go(this.curUniform,d)||this.vqueue.length+s.length*this.stride>this.maxVertices||this.iqueue.length+u.length>this.maxIndices)&&this.flush();let y=this.vqueue.length/this.stride;for(let p of s)this.vqueue.push(p);for(let p of u)this.iqueue.push(p+y);this.curPrimitive=n,this.curShader=o,this.curTex=c,this.curUniform=d}flush(){var s,u;if(!this.curPrimitive||!this.curShader||this.vqueue.length===0||this.iqueue.length===0)return;let n=this.ctx.gl;this.ctx.pushArrayBuffer(this.glVBuf),n.bufferSubData(n.ARRAY_BUFFER,0,new Float32Array(this.vqueue)),this.ctx.pushElementArrayBuffer(this.glIBuf),n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,new Uint16Array(this.iqueue)),this.ctx.setVertexFormat(this.vertexFormat),this.curShader.bind(),this.curShader.send(this.curUniform),(s=this.curTex)==null||s.bind(),n.drawElements(this.curPrimitive,this.iqueue.length,n.UNSIGNED_SHORT,0),(u=this.curTex)==null||u.unbind(),this.curShader.unbind(),this.ctx.popArrayBuffer(),this.ctx.popElementArrayBuffer(),this.vqueue=[],this.iqueue=[],this.numDraws++}free(){let n=this.ctx.gl;n.deleteBuffer(this.glVBuf),n.deleteBuffer(this.glIBuf)}},g(Fl,"BatchRenderer"),Fl);function Ga(i){let n=[],s=g(c=>{n.push(c),i(c)},"push"),u=g(()=>{n.pop(),i(o()??null)},"pop"),o=g(()=>n[n.length-1],"cur");return[s,u,o]}g(Ga,"genStack");function a1(i,n={}){let s=[];function u(k){s.push(k)}g(u,"onDestroy");function o(){s.forEach(q=>q());let k=i.getExtension("WEBGL_lose_context");k&&k.loseContext()}g(o,"destroy");let c=null;function d(k){if(go(k,c))return;c=k;let q=k.reduce((B,N)=>B+N.size,0);k.reduce((B,N,K)=>(i.vertexAttribPointer(K,N.size,i.FLOAT,!1,q*4,B),i.enableVertexAttribArray(K),B+N.size*4),0)}g(d,"setVertexFormat");let[y,p]=Ga(k=>i.bindTexture(i.TEXTURE_2D,k)),[h,A]=Ga(k=>i.bindBuffer(i.ARRAY_BUFFER,k)),[T,v]=Ga(k=>i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,k)),[D,E]=Ga(k=>i.bindFramebuffer(i.FRAMEBUFFER,k)),[U,x]=Ga(k=>i.bindRenderbuffer(i.RENDERBUFFER,k)),[S,H]=Ga(k=>{if(!k)return;let{x:q,y:B,w:N,h:K}=k;i.viewport(q,B,N,K)}),[X,ae]=Ga(k=>i.useProgram(k));return S({x:0,y:0,w:i.drawingBufferWidth,h:i.drawingBufferHeight}),{gl:i,opts:n,onDestroy:u,destroy:o,pushTexture2D:y,popTexture2D:p,pushArrayBuffer:h,popArrayBuffer:A,pushElementArrayBuffer:T,popElementArrayBuffer:v,pushFramebuffer:D,popFramebuffer:E,pushRenderbuffer:U,popRenderbuffer:x,pushViewport:S,popViewport:H,pushProgram:X,popProgram:ae,setVertexFormat:d}}g(a1,"initGfx");var jf={};function Jf(i,n){if(n.override){Object.assign(i,n);return}n.pos&&(i.pos=i.pos.add(n.pos)),n.scale&&(i.scale=i.scale.scale(Q(n.scale))),n.angle&&(i.angle+=n.angle),n.color&&i.ch.length===1&&(i.color=i.color.mult(n.color)),n.opacity!=null&&(i.opacity*=n.opacity)}g(Jf,"applyCharTransform");function Ir(i){let n={},s="",u=[],o=String(i),c=g(d=>{u.length>0&&(n[s.length]=u.slice()),s+=d},"emit");for(;o!=="";){if(o[0]==="\\"){if(o.length===1)throw new Error("Styled text error: \\ at end of string");c(o[1]),o=o.slice(2);continue}if(o[0]==="["){let d=/^\[(\/)?(\w+?)\]/.exec(o);if(!d){c(o[0]),o=o.slice(1);continue}let[y,p,h]=d;if(p!==void 0){let A=u.pop();if(A!==h)throw A!==void 0?new Error(`Styled text error: mismatched tags. Expected [/${A}], got [/${h}]`):new Error(`Styled text error: stray end tag [/${h}]`)}else u.push(h);o=o.slice(y.length);continue}c(o[0]),o=o.slice(1)}if(u.length>0)throw new Error(`Styled text error: unclosed tags ${u}`);return{charStyleMap:n,text:s}}g(Ir,"compileStyledText");function Ia(i){var X,ae,k;if(i.text===void 0)throw new Error('formatText() requires property "text".');let n=Th(i.font);if(!i.text||i.text===""||n instanceof xn||!n)return{width:0,height:0,chars:[],opt:i,renderedText:""};let{charStyleMap:s,text:u}=Ir(i.text+""),o=my(u);if(n instanceof Vr||typeof n=="string"){let q=n instanceof Vr?n.fontface.family:n,B=n instanceof Vr?{outline:n.outline,filter:n.filter}:{outline:null,filter:Xf},N=jf[q]??{font:{tex:new Va(w.gfx.ggl,2048,2048,{filter:B.filter}),map:{},size:64},cursor:new J(0),maxHeight:0,outline:B.outline};jf[q]||(jf[q]=N),n=N.font;for(let K of o)if(!N.font.map[K]){let ne=w.fontCacheC2d;if(!ne)throw new Error("fontCacheC2d is not defined.");if(!w.fontCacheCanvas)throw new Error("fontCacheCanvas is not defined.");ne.clearRect(0,0,w.fontCacheCanvas.width,w.fontCacheCanvas.height),ne.font=`${n.size}px ${q}`,ne.textBaseline="top",ne.textAlign="left",ne.fillStyle="#ffffff";let ie=ne.measureText(K),se=Math.ceil(ie.width);if(!se)continue;let ge=Math.ceil(Math.abs(ie.actualBoundingBoxAscent))+Math.ceil(Math.abs(ie.actualBoundingBoxDescent));N.outline&&N.outline.width&&N.outline.color&&(ne.lineJoin="round",ne.lineWidth=N.outline.width*2,ne.strokeStyle=N.outline.color.toHex(),ne.strokeText(K,N.outline.width,N.outline.width),se+=N.outline.width*2,ge+=N.outline.width*3),ne.fillText(K,((X=N.outline)==null?void 0:X.width)??0,((ae=N.outline)==null?void 0:ae.width)??0);let ve=ne.getImageData(0,0,se,ge);if(N.cursor.x+se>2048&&(N.cursor.x=0,N.cursor.y+=N.maxHeight,N.maxHeight=0,N.cursor.y>2048))throw new Error("Font atlas exceeds character limit");n.tex.update(ve,N.cursor.x,N.cursor.y),n.map[K]=new lt(N.cursor.x,N.cursor.y,se,ge),N.cursor.x+=se+1,N.maxHeight=Math.max(N.maxHeight,ge)}}let c=i.size||n.size,d=Q(i.scale??1).scale(c/n.size),y=i.lineSpacing??0,p=i.letterSpacing??0,h=0,A=0,T=0,v=[],D=[],E=0,U=null,x=0,S;for(;E<o.length;){let q=o[E];if(q===`
`)T+=c+y,v.push({width:h-p,chars:D}),U=null,x=0,h=0,D=[],S=void 0;else{let B=n.map[q];if(B){let N=B.w*d.x;i.width&&h+N>i.width&&(T+=c+y,U!=null&&(E-=D.length-U,q=o[E],B=n.map[q],N=B.w*d.x,D=D.slice(0,U-1),h=x),U=null,x=0,v.push({width:h-p,chars:D}),h=S??0,D=[]),D.push({tex:n.tex,width:B.w,height:B.h,quad:new lt(B.x/n.tex.width,B.y/n.tex.height,B.w/n.tex.width,B.h/n.tex.height),ch:q,pos:new J(h,T),opacity:i.opacity??1,color:i.color??Ce.WHITE,scale:Q(d),angle:0}),q===" "&&(U=D.length,x=h),i.indentAll&&S===void 0&&/\S/.test(q)&&(S=h),h+=N,A=Math.max(A,h),h+=p}}E++}v.push({width:h-p,chars:D}),T+=c,i.width&&(A=i.width);let H=[];for(let q=0;q<v.length;q++){let B=(A-v[q].width)*Ty(i.align??"left");for(let N of v[q].chars){let K=n.map[N.ch],ne=H.length+q;if(N.pos=N.pos.add(B,0).add(K.w*d.x*.5,K.h*d.y*.5),i.transform){let ie=typeof i.transform=="function"?i.transform(ne,N.ch):i.transform;ie&&Jf(N,ie)}if(s[ne]){let ie=s[ne];for(let se of ie){let ge=(k=i.styles)==null?void 0:k[se],ve=typeof ge=="function"?ge(ne,N.ch):ge;ve&&Jf(N,ve)}}H.push(N)}}return{width:A,height:T,chars:H,opt:i,renderedText:u}}g(Ia,"formatText");function ts(i){if(i.width===void 0||i.height===void 0)throw new Error('drawUVQuad() requires property "width" and "height".');if(i.width<=0||i.height<=0)return;let n=i.width,s=i.height,u=Ci(i.anchor||fo).scale(new J(n,s).scale(-.5)),o=i.quad||new lt(0,0,1,1),c=i.color||Ye(255,255,255),d=i.opacity??1,y=i.tex?.1/i.tex.width:0,p=i.tex?.1/i.tex.height:0,h=o.x+y,A=o.y+p,T=o.w-y*2,v=o.h-p*2;ln(),it(i.pos),Di(i.angle),es(i.scale),it(u),pa([{pos:new J(-n/2,s/2),uv:new J(i.flipX?h+T:h,i.flipY?A:A+v),color:c,opacity:d},{pos:new J(-n/2,-s/2),uv:new J(i.flipX?h+T:h,i.flipY?A+v:A),color:c,opacity:d},{pos:new J(n/2,-s/2),uv:new J(i.flipX?h:h+T,i.flipY?A+v:A),color:c,opacity:d},{pos:new J(n/2,s/2),uv:new J(i.flipX?h:h+T,i.flipY?A:A+v),color:c,opacity:d}],[0,1,3,1,2,3],i.fixed,i.tex,i.shader,i.uniform??void 0),Xt()}g(ts,"drawUVQuad");function Wa(i){ln(),it(i.opt.pos),Di(i.opt.angle),it(Ci(i.opt.anchor??"topleft").add(1,1).scale(i.width,i.height).scale(-.5)),i.chars.forEach(n=>{ts({tex:n.tex,width:n.width,height:n.height,pos:n.pos,scale:n.scale,angle:n.angle,color:n.color,opacity:n.opacity,quad:n.quad,anchor:"center",uniform:i.opt.uniform,shader:i.opt.shader,fixed:i.opt.fixed})}),Xt()}g(Wa,"drawFormattedText");function un(i){if(i.width===void 0||i.height===void 0)throw new Error('drawRect() requires property "width" and "height".');if(i.width<=0||i.height<=0)return;let n=i.width,s=i.height,u=Ci(i.anchor||fo).add(1,1).scale(new J(n,s).scale(-.5)),o=[new J(0,0),new J(n,0),new J(n,s),new J(0,s)];if(i.radius){let c=Math.min(n,s)/2,d=Array.isArray(i.radius)?i.radius.map(y=>Math.min(c,y)):new Array(4).fill(Math.min(c,i.radius));o=[new J(d[0],0),...d[1]?Rl(new J(n-d[1],d[1]),d[1],d[1],270,360):[Q(n,0)],...d[2]?Rl(new J(n-d[2],s-d[2]),d[2],d[2],0,90):[Q(n,s)],...d[3]?Rl(new J(d[3],s-d[3]),d[3],d[3],90,180):[Q(0,s)],...d[0]?Rl(new J(d[0],d[0]),d[0],d[0],180,270):[]]}ha(Object.assign({},i,{offset:u,pts:o,...i.gradient?{colors:i.horizontal?[i.gradient[0],i.gradient[1],i.gradient[1],i.gradient[0]]:[i.gradient[0],i.gradient[0],i.gradient[1],i.gradient[1]]}:{}}))}g(un,"drawRect");function ca(i){sn();let n=w.gfx.width,s=w.gfx.height;w.gfx.width=w.gfx.viewport.width,w.gfx.height=w.gfx.viewport.height,i(),sn(),w.gfx.width=n,w.gfx.height=s}g(ca,"drawUnscaled");function Pf(i,n){ca(()=>{let s=Q(8);ln(),it(i);let u=Ia({text:n,font:Zr,size:16,pos:s,color:Ye(255,255,255),fixed:!0}),o=u.width+s.x*2,c=u.height+s.x*2;i.x+o>=qt()&&it(Q(-o,0)),i.y+c>=Ct()&&it(Q(0,-c)),un({width:o,height:c,color:Ye(0,0,0),radius:4,opacity:.8,fixed:!0}),Wa(u),Xt()})}g(Pf,"drawInspectText");function zh(i){if(!i.p1||!i.p2||!i.p3)throw new Error('drawTriangle() requires properties "p1", "p2" and "p3".');return ha(Object.assign({},i,{pts:[i.p1,i.p2,i.p3]}))}g(zh,"drawTriangle");function i1(){if(w.debug.inspect){let i=null;for(let n of w.game.root.get("*",{recursive:!0}))if(n.c("area")&&n.isHovering()){i=n;break}if(w.game.root.drawInspect(),i){let n=[],s=i.inspect();for(let u in s)s[u]?n.push(`${s[u]}`):n.push(`${u}`);Pf(zy(xh()),n.join(`
`))}Pf(Q(8),`FPS: ${w.debug.fps()}`)}w.debug.paused&&ca(()=>{ln(),it(qt(),0),it(-8,8);let i=32;un({width:i,height:i,anchor:"topright",color:Ye(0,0,0),opacity:.8,radius:4,fixed:!0});for(let n=1;n<=2;n++)un({width:4,height:i*.6,anchor:"center",pos:Q(-32/3*n,i*.5),color:Ye(255,255,255),radius:2,fixed:!0});Xt()}),w.debug.timeScale!==1&&ca(()=>{ln(),it(qt(),Ct()),it(-8,-8);let i=8,n=Ia({text:w.debug.timeScale.toFixed(1),font:Zr,size:16,color:Ye(255,255,255),pos:Q(-8),anchor:"botright",fixed:!0});un({width:n.width+i*2+i*4,height:n.height+i*2,anchor:"botright",color:Ye(0,0,0),opacity:.8,radius:4,fixed:!0});for(let s=0;s<2;s++){let u=w.debug.timeScale<1;zh({p1:Q(-n.width-i*(u?2:3.5),-8),p2:Q(-n.width-i*(u?2:3.5),-8-n.height),p3:Q(-n.width-i*(u?3.5:2),-8-n.height/2),pos:Q(-s*i*1+(u?-8*.5:0),0),color:Ye(255,255,255),fixed:!0})}Wa(n),Xt()}),w.debug.curRecording&&ca(()=>{ln(),it(0,Ct()),it(24,-24),Ui({radius:12,color:Ye(255,0,0),opacity:ih(0,1,w.app.time()*4),fixed:!0}),Xt()}),w.debug.showLog&&w.game.logs.length>0&&ca(()=>{ln(),it(0,Ct()),it(8,-8);let i=8,n=[];for(let u of w.game.logs){let o="",c=u.msg instanceof Error?"error":"info";o+=`[time]${u.time.toFixed(2)}[/time]`,o+=" ",o+=`[${c}]${Wr(u.msg)}[/${c}]`,n.push(o)}w.game.logs=w.game.logs.filter(u=>w.app.time()-u.time<(w.globalOpt.logTime||4));let s=Ia({text:n.join(`
`),font:Zr,pos:Q(i,-8),anchor:"botleft",size:16,width:qt()*.6,lineSpacing:i/2,fixed:!0,styles:{time:{color:Ye(127,127,127)},info:{color:Ye(255,255,255)},error:{color:Ye(255,0,127)}}});un({width:s.width+i*2,height:s.height+i*2,anchor:"botleft",color:Ye(0,0,0),radius:4,opacity:.8,fixed:!0}),Wa(s),Xt()})}g(i1,"drawDebug");function Wr(i,n=!1,s=new Set){if(s.has(i))return"<recursive>";var u="",o;return n&&typeof i=="string"&&(i=JSON.stringify(i)),Array.isArray(i)&&(u=["[",i.map(c=>Wr(c,!0,s.union(new Set([i])))).join(", "),"]"].join(""),i=u),i===null?"null":(typeof i=="object"&&i.toString===Object.prototype.toString&&(i.constructor!==Object&&(u+=i.constructor.name+" "),u+=["{",(o=Object.getOwnPropertyNames(i).map(c=>`${/^\w+$/.test(c)?c:JSON.stringify(c)}: ${Wr(i[c],!0,s.union(new Set([i])))}`).join(", "))?` ${o} `:"","}"].join(""),i=u),String(i).replaceAll(new RegExp("(?<!\\\\)\\[","g"),"\\["))}g(Wr,"prettyDebug");function l1(){let i=w.game.cam,n=J.fromAngle(St(0,360)).scale(i.shake);i.shake=Qt(i.shake,0,5*Et()),i.transform=new Fn().translate(hu()).scale(i.scale).rotate(i.angle).translate((i.pos??hu()).scale(-1).add(n)),w.game.root.draw(),sn()}g(l1,"drawFrame");function s1(){let i=Ja();w.game.events.numListeners("loading")>0?w.game.events.trigger("loading",i):ca(()=>{let n=qt()/2,s=24,u=Q(qt()/2,Ct()/2).sub(Q(n/2,s/2));un({pos:Q(0),width:qt(),height:Ct(),color:Ye(0,0,0)}),un({pos:u,width:n,height:s,fill:!1,outline:{width:4}}),un({pos:u,width:n*i,height:s})})}g(s1,"drawLoadScreen");function Nh(i,n,s){let u=w.gfx.ggl.gl;sn(),u.clear(u.STENCIL_BUFFER_BIT),u.enable(u.STENCIL_TEST),u.stencilFunc(u.NEVER,1,255),u.stencilOp(u.REPLACE,u.REPLACE,u.REPLACE),n(),sn(),u.stencilFunc(s,1,255),u.stencilOp(u.KEEP,u.KEEP,u.KEEP),i(),sn(),u.disable(u.STENCIL_TEST)}g(Nh,"drawStenciled");function u1(i,n){let s=w.gfx.ggl.gl;Nh(i,n,s.EQUAL)}g(u1,"drawMasked");function gu(i){var c,d;if(!i.tex)throw new Error('drawTexture() requires property "tex".');let n=i.quad??new lt(0,0,1,1),s=i.tex.width*n.w,u=i.tex.height*n.h,o=new J(1);if(i.tiled){let y=Ci(i.anchor||fo);(((c=i.pos)==null?void 0:c.x)||0)-(y.x+1)*.5*(i.width||s),(((d=i.pos)==null?void 0:d.y)||0)-(y.y+1)*.5*(i.height||u);let p=(i.width||s)/s,h=(i.height||u)/u,A=Math.floor(p),T=Math.floor(h),v=p-A,D=h-T,E=(A+v?1:0)*(T+D?1:0),U=new Array(E*6),x=new Array(E*4),S=0,H=g((X,ae,k,q,B)=>{U[S*6+0]=S*4+0,U[S*6+1]=S*4+1,U[S*6+2]=S*4+3,U[S*6+3]=S*4+1,U[S*6+4]=S*4+2,U[S*6+5]=S*4+3,x[S*4+0]={pos:new J(X-y.x,ae-y.y),uv:new J(B.x,B.y),color:i.color||Ce.WHITE,opacity:i.opacity||1},x[S*4+1]={pos:new J(X+k-y.x,ae-y.y),uv:new J(B.x+B.w,B.y),color:i.color||Ce.WHITE,opacity:i.opacity||1},x[S*4+2]={pos:new J(X+k-y.x,ae+q-y.y),uv:new J(B.x+B.w,B.y+B.h),color:i.color||Ce.WHITE,opacity:i.opacity||1},x[S*4+3]={pos:new J(X-y.x,ae+q-y.y),uv:new J(B.x,B.y+B.h),color:i.color||Ce.WHITE,opacity:i.opacity||1},S++},"addQuad");for(let X=0;X<T;X++){for(let ae=0;ae<A;ae++)H(ae*s,X*u,s,u,n);v&&H(A*s,X*u,s*v,u,new lt(n.x,n.y,n.w*v,n.h))}if(D){for(let X=0;X<A;X++)H(X*s,T*u,s,u*D,new lt(n.x,n.y,n.w,n.h*D));v&&H(A*s,T*u,s*v,u*D,new lt(n.x,n.y,n.w*v,n.h*D))}pa(x,U,i.fixed,i.tex,i.shader,i.uniform??void 0)}else i.width&&i.height?(o.x=i.width/s,o.y=i.height/u):i.width?(o.x=i.width/s,o.y=o.x):i.height&&(o.y=i.height/u,o.x=o.y),ts(Object.assign({},i,{scale:o.scale(i.scale||new J(1)),tex:i.tex,quad:n,width:s,height:u}))}g(gu,"drawTexture");function r1(i){if(!i.sprite)throw new Error('drawSprite() requires property "sprite"');let n=uu(i.sprite);if(!n||!n.data)return;let s=n.data.frames[i.frame??0];if(!s)throw new Error(`Frame not found: ${i.frame??0}`);gu(Object.assign({},i,{tex:n.data.tex,quad:s.scale(i.quad??new lt(0,0,1,1))}))}g(r1,"drawSprite");function o1(i,n){let s=w.gfx.ggl.gl;Nh(i,n,s.NOTEQUAL)}g(o1,"drawSubtracted");function If(i){Wa(Ia(i))}g(If,"drawText");var $2=g((i,n)=>{let s=yo(n,Qf,Zf),u=i.pixelDensity??1,o=i.scale??1,{gl:c}=n,d=Va.fromImage(n,new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1)),y=i.width&&i.height?new Pr(n,i.width*u*o,i.height*u*o):new Pr(n,c.drawingBufferWidth,c.drawingBufferHeight),p=null,h=1;i.background&&(typeof i.background=="string"?p=Ye(i.background):(p=Ye(...i.background),h=i.background[3]??1),c.clearColor(p.r/255,p.g/255,p.b/255,h??1)),c.enable(c.BLEND),c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);let A=new W2(n,Ah,d2,g2),T=Va.fromImage(n,new ImageData(new Uint8ClampedArray([128,128,128,255,190,190,190,255,190,190,190,255,128,128,128,255]),2,2),{wrap:"repeat",filter:"nearest"});return{lastDrawCalls:0,ggl:n,defShader:s,defTex:d,frameBuffer:y,postShader:null,postShaderUniform:null,renderer:A,transform:new Fn,transformStack:[],bgTex:T,bgColor:p,bgAlpha:h,width:i.width??c.drawingBufferWidth/u/o,height:i.height??c.drawingBufferHeight/u/o,viewport:{x:0,y:0,width:c.drawingBufferWidth,height:c.drawingBufferHeight},fixed:!1}},"initAppGfx");function Hh(){let i=w.pixelDensity,n=w.gfx.ggl.gl.drawingBufferWidth/i,s=w.gfx.ggl.gl.drawingBufferHeight/i;if(w.globalOpt.letterbox){if(!w.globalOpt.width||!w.globalOpt.height)throw new Error("Letterboxing requires width and height defined.");let u=n/s,o=w.globalOpt.width/w.globalOpt.height;if(u>o){let c=s*o,d=(n-c)/2;w.gfx.viewport={x:d,y:0,width:c,height:s}}else{let c=n/o,d=(s-c)/2;w.gfx.viewport={x:0,y:d,width:n,height:c}}return}if(w.globalOpt.stretch&&(!w.globalOpt.width||!w.globalOpt.height))throw new Error("Stretching requires width and height defined.");w.gfx.viewport={x:0,y:0,width:n,height:s}}g(Hh,"updateViewport");function Xa(i){return i.fixed?!0:i.parent?Xa(i.parent):!1}g(Xa,"isFixed");function $a(i){return{color:i.color,opacity:i.opacity,anchor:i.anchor,outline:i.outline,shader:i.shader,uniform:i.uniform}}g($a,"getRenderProps");function c1(i,n={}){return{id:"circle",radius:i,draw(){Ui(Object.assign($a(this),{radius:this.radius,fill:n.fill}))},renderArea(){return new tt(new J(this.anchor?0:-this.radius),this.radius*2,this.radius*2)},inspect(){return`radius: ${Math.ceil(this.radius)}`}}}g(c1,"circle");function jh(...i){return{id:"color",color:Ye(...i),inspect(){return`color: ${this.color.toString()}`}}}g(jh,"color");function f1(i){return{add(){this.canvas=i}}}g(f1,"drawon");function h1(i=1){let n,s=0,u=!1;return{require:["opacity"],add(){n=this.opacity,this.opacity=0},update(){u||(s+=Et(),this.opacity=zn(s,0,i,0,n),s>=i&&(this.opacity=n,u=!0))}}}g(h1,"fadeIn");function d1(i="intersect"){return{id:"mask",mask:i}}g(d1,"mask");function _h(i){return{id:"opacity",opacity:i??1,fadeIn(n=1,s=w.k.easings.linear){return w.game.root.tween(0,this.opacity,n,u=>this.opacity=u,s)},fadeOut(n=1,s=w.k.easings.linear){return w.game.root.tween(this.opacity,0,n,u=>this.opacity=u,s)},inspect(){return`opacity: ${Kr(this.opacity,1)}`}}}g(_h,"opacity");function g1(i=1,n=Ye(0,0,0),s=1,u="miter",o=10,c="butt"){return{id:"outline",outline:{width:i,color:n,opacity:s,join:u,miterLimit:o,cap:c},inspect(){return`outline: ${this.outline.width}px, ${this.outline.color}`}}}g(g1,"outline");var Jl,ew=(Jl=class{constructor(){L(this,"pos",Q(0));L(this,"vel",Q(0));L(this,"acc",Q(0));L(this,"angle",0);L(this,"angularVelocity",0);L(this,"damping",0);L(this,"t");L(this,"lt",null);L(this,"gc");this.t=0,this.gc=!0}get progress(){return this.lt?this.t/this.lt:this.t}},g(Jl,"Particle"),Jl);function p1(i,n){let s=n.lifetime,u=[],o=i.colors||[Ce.WHITE],c=i.opacities||[1],d=i.quads||[new lt(0,0,1,1)],y=i.scales||[1],p=i.lifeTime,h=n.direction,A=n.spread,T=i.speed||[0,0],v=i.angle||[0,0],D=i.angularVelocity||[0,0],E=i.acceleration||[Q(0),Q(0)],U=i.damping||[0,0],x=[],S=new Array(i.max),H=0,X=0;for(let q=0;q<i.max;q++){x[q*6+0]=q*4+0,x[q*6+1]=q*4+1,x[q*6+2]=q*4+3,x[q*6+3]=q*4+1,x[q*6+4]=q*4+2,x[q*6+5]=q*4+3;for(let B=0;B<4;B++)S[q*4+B]={pos:new J(0,0),uv:new J(0,0),color:Ye(255,255,255),opacity:1};u[q]=new ew}let ae=new Vt;function k(q=0){for(;q<i.max;){if(u[q].gc)return q;q++}return null}return g(k,"nextFree"),{id:"particles",emit(q){let B=0;for(let N=0;N<q;N++){if(B=k(B),B==null)return;let K=St(h-A,h+A),ne=J.fromAngle(K).scale(St(T[0],T[1])),ie=St(v[0],v[1]),se=St(D[0],D[1]),ge=Q(St(E[0].x,E[1].x),St(E[0].y,E[1].y)),ve=St(U[0],U[1]),me=p?St(p[0],p[1]):null,_=n.shape?n.shape.random():Q(),$=u[B];$.lt=me,$.pos=_,$.vel=ne,$.acc=ge,$.angle=ie,$.angularVelocity=se,$.damping=ve,$.angularVelocity=se,$.gc=!1}H+=q},update(){if(s!==void 0&&s<=0)return;let q=Et();for(let B of u)if(!B.gc){if(B.t+=q,B.lt&&B.t>=B.lt){B.gc=!0,H--;continue}B.vel=B.vel.add(B.acc.scale(q)).scale(1-B.damping*q),B.pos=B.pos.add(B.vel.scale(q)),B.angle+=B.angularVelocity*q}for(s!==void 0&&(s-=q,s<=0&&ae.trigger()),X+=q;H<i.max&&n.rate&&X>n.rate;)this.emit(1),H++,X-=n.rate},draw(){if(!(s!==void 0&&s<=0)){for(let q=0;q<u.length;q++){let B=u[q];if(B.gc)continue;let N=B.progress,K=Math.floor(B.progress*o.length),ne=K<o.length-1?Qt(o[K],o[K+1],zn(N,K/o.length,(K+1)/o.length,0,1)):o[K],ie=Math.floor(B.progress*c.length),se=ie<c.length-1?Qt(c[ie],c[ie+1],zn(N,ie/c.length,(ie+1)/c.length,0,1)):c[ie],ge=Math.floor(B.progress*d.length),ve=d[ge],me=Math.floor(B.progress*y.length),_=y[me],$=Math.cos(B.angle*Math.PI/180),ue=Math.sin(B.angle*Math.PI/180),fe=(i.texture?i.texture.width:10)*ve.w/2,M=(i.texture?i.texture.height:10)*ve.h/2,F=q*4,ee=S[F];ee.pos.x=B.pos.x+-fe*_*$- -M*_*ue,ee.pos.y=B.pos.y+-fe*_*ue+-M*_*$,ee.uv.x=ve.x,ee.uv.y=ve.y,ee.color.r=ne.r,ee.color.g=ne.g,ee.color.b=ne.b,ee.opacity=se,ee=S[F+1],ee.pos.x=B.pos.x+fe*_*$- -M*_*ue,ee.pos.y=B.pos.y+fe*_*ue+-M*_*$,ee.uv.x=ve.x+ve.w,ee.uv.y=ve.y,ee.color.r=ne.r,ee.color.g=ne.g,ee.color.b=ne.b,ee.opacity=se,ee=S[F+2],ee.pos.x=B.pos.x+fe*_*$-M*_*ue,ee.pos.y=B.pos.y+fe*_*ue+M*_*$,ee.uv.x=ve.x+ve.w,ee.uv.y=ve.y+ve.h,ee.color.r=ne.r,ee.color.g=ne.g,ee.color.b=ne.b,ee.opacity=se,ee=S[F+3],ee.pos.x=B.pos.x+-fe*_*$-M*_*ue,ee.pos.y=B.pos.y+-fe*_*ue+M*_*$,ee.uv.x=ve.x,ee.uv.y=ve.y+ve.h,ee.color.r=ne.r,ee.color.g=ne.g,ee.color.b=ne.b,ee.opacity=se}pa(S,x,this.fixed,i.texture,this.shader,this.uniform)}},onEnd(q){return ae.add(q)},inspect(){return`count: ${H}/${i.max}`}}}g(p1,"particles");function m1(i,n={}){if(i.length<3)throw new Error(`Polygon's need more than two points, ${i.length} points provided`);return{id:"polygon",pts:i,colors:n.colors,uv:n.uv,tex:n.tex,radius:n.radius,draw(){ha(Object.assign($a(this),{pts:this.pts,colors:this.colors,uv:this.uv,tex:this.tex,radius:this.radius,fill:n.fill,triangulate:n.triangulate}))},renderArea(){return new Kt(this.pts)},inspect(){return`polygon: ${this.pts.map(s=>`[${s.x},${s.y}]`).join(",")}`}}}g(m1,"polygon");function Lh(i,n,s){let u;return w.game.root.get("area").forEach(o=>{if(s&&s.some(d=>o.is(d)))return;let c=o.worldArea().raycast(i,n);c&&(u?c.fraction<u.fraction&&(u=c,u.object=o):(u=c,u.object=o))}),u}g(Lh,"raycast");function Yh(i,n,s={}){return{id:"rect",width:i,height:n,radius:s.radius||0,draw(){un(Object.assign($a(this),{width:this.width,height:this.height,radius:this.radius,fill:s.fill}))},renderArea(){return new tt(Q(0),this.width,this.height)},inspect(){return`rect: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)}h)`}}}g(Yh,"rect");function y1(i,n){return{id:"shader",shader:i,...typeof n=="function"?{uniform:n(),update(){this.uniform=n()}}:{uniform:n},inspect(){return`shader: ${i}`}}}g(y1,"shader");function v1(i,n){if(!n.tileWidth||!n.tileHeight)throw new Error("Must provide tileWidth and tileHeight.");let s=w.game.root.add([pu(n.pos??Q(0))]),u=i.length,o=0,c=null,d=null,y=null,p=null,h=g(q=>q.x+q.y*o,"tile2Hash"),A=g(q=>Q(Math.floor(q%o),Math.floor(q/o)),"hash2Tile"),T=g(()=>{c=[];for(let q of s.children)v(q)},"createSpatialMap"),v=g(q=>{let B=h(q.tilePos);c[B]?c[B].push(q):c[B]=[q]},"insertIntoSpatialMap"),D=g(q=>{let B=h(q.tilePos);if(c[B]){let N=c[B].indexOf(q);N>=0&&c[B].splice(N,1)}},"removeFromSpatialMap"),E=g(()=>{let q=!1;for(let B of s.children){let N=s.pos2Tile(B.pos);(B.tilePos.x!=N.x||B.tilePos.y!=N.y)&&(q=!0,D(B),B.tilePos.x=N.x,B.tilePos.y=N.y,v(B))}q&&s.trigger("spatialMapChanged")},"updateSpatialMap"),U=g(()=>{let q=s.getSpatialMap(),B=s.numRows()*s.numColumns();d?d.length=B:d=new Array(B),d.fill(1,0,B);for(let N=0;N<q.length;N++){let K=q[N];if(K){let ne=0;for(let ie of K)if(ie.isObstacle){ne=1/0;break}else ne+=ie.cost;d[N]=ne||1}}},"createCostMap"),x=g(()=>{let q=s.getSpatialMap(),B=s.numRows()*s.numColumns();y?y.length=B:y=new Array(B),y.fill(15,0,B);for(let N=0;N<q.length;N++){let K=q[N];if(K){let ne=K.length,ie=15;for(let se=0;se<ne;se++)ie|=K[se].edgeMask;y[N]=ie}}},"createEdgeMap"),S=g(()=>{let q=s.numRows()*s.numColumns(),B=g((K,ne)=>{let ie=[];for(ie.push(K);ie.length>0;){let se=ie.pop();ae(se).forEach(ge=>{p[ge]<0&&(p[ge]=ne,ie.push(ge))})}},"traverse");p?p.length=q:p=new Array(q),p.fill(-1,0,q);let N=0;for(let K=0;K<d.length;K++){if(p[K]>=0){N++;continue}B(K,N),N++}},"createConnectivityMap"),H=g((q,B)=>d[B],"getCost"),X=g((q,B)=>{let N=A(q),K=A(B);return N.dist(K)},"getHeuristic"),ae=g((q,B)=>{let N=[],K=Math.floor(q%o),ne=K>0&&y[q]&1&&d[q-1]!==1/0,ie=q>=o&&y[q]&2&&d[q-o]!==1/0,se=K<o-1&&y[q]&4&&d[q+1]!==1/0,ge=q<o*u-o-1&&y[q]&8&&d[q+o]!==1/0;return B?(ne&&(ie&&N.push(q-o-1),N.push(q-1),ge&&N.push(q+o-1)),ie&&N.push(q-o),se&&(ie&&N.push(q-o+1),N.push(q+1),ge&&N.push(q+o+1)),ge&&N.push(q+o)):(ne&&N.push(q-1),ie&&N.push(q-o),se&&N.push(q+1),ge&&N.push(q+o)),N},"getNeighbours"),k={id:"level",tileWidth(){return n.tileWidth},tileHeight(){return n.tileHeight},spawn(q,...B){let N=Q(...B),K=(()=>{if(typeof q=="string"){if(n.tiles[q]){if(typeof n.tiles[q]!="function")throw new Error("Level symbol def must be a function returning a component list");return n.tiles[q](N)}else if(n.wildcardTile)return n.wildcardTile(q,N)}else{if(Array.isArray(q))return q;throw new Error("Expected a symbol or a component list")}})();if(!K)return null;let ne=!1,ie=!1;for(let ge of K)ge.id==="tile"&&(ie=!0),ge.id==="pos"&&(ne=!0);ne||K.push(pu(this.tile2Pos(N))),ie||K.push(td());let se=s.add(K);return ne&&(se.tilePosOffset=se.pos.clone()),se.tilePos=N,se.transform=Dl(se),c&&(v(se),this.trigger("spatialMapChanged"),this.trigger("navigationMapInvalid")),se},numColumns(){return o},numRows(){return u},levelWidth(){return o*this.tileWidth()},levelHeight(){return u*this.tileHeight()},tile2Pos(...q){return Q(...q).scale(this.tileWidth(),this.tileHeight())},pos2Tile(...q){let B=Q(...q);return Q(Math.floor(B.x/this.tileWidth()),Math.floor(B.y/this.tileHeight()))},getSpatialMap(){return c||T(),c},removeFromSpatialMap:D,insertIntoSpatialMap:v,onSpatialMapChanged(q){return this.on("spatialMapChanged",q)},onNavigationMapInvalid(q){return this.on("navigationMapInvalid",q)},getAt(q){c||T();let B=h(q);return c[B]||[]},raycast(q,B){let N=this.toWorld(q),K=this.toWorld(q.add(B)).sub(N),ne=1/this.tileWidth(),ie=q.scale(ne),se=H0(ie,B,ge=>{let ve=this.getAt(ge);if(ve.some(_=>_.isObstacle))return!0;let me=null;for(let _ of ve)if(_.has("area")){let $=_.worldArea().raycast(N,K);$&&(me?$.fraction<me.fraction&&(me=$,me.object=_):(me=$,me.object=_))}return me&&(me.point=this.fromWorld(me.point).scale(ne)),me||!1},64);return se&&(se.point=se.point.scale(this.tileWidth())),se},update(){c&&E()},invalidateNavigationMap(){d=null,y=null,p=null},onNavigationMapChanged(q){return this.on("navigationMapChanged",q)},getTilePath(q,B,N={}){var $;if(d||U(),y||x(),p||S(),q.x<0||q.x>=o||q.y<0||q.y>=u||B.x<0||B.x>=o||B.y<0||B.y>=u)return null;let K=h(q),ne=h(B);if(d[ne]===1/0)return null;if(K===ne)return[];if(p[K]!=-1&&p[K]!==p[ne])return null;let ie=new cy((ue,fe)=>ue.cost<fe.cost);ie.insert({cost:0,node:K});let se=new Map;se.set(K,K);let ge=new Map;for(ge.set(K,0);ie.length!==0;){let ue=($=ie.remove())==null?void 0:$.node;if(ue===ne)break;let fe=ae(ue,N.allowDiagonals);for(let M of fe){let F=(ge.get(ue)||0)+H(ue,M)+X(M,ne);(!ge.has(M)||F<ge.get(M))&&(ge.set(M,F),ie.insert({cost:F,node:M}),se.set(M,ue))}}let ve=[],me=ne,_=A(me);for(ve.push(_);me!==K;){let ue=se.get(me);if(ue===void 0)throw new Error("Bug in pathfinding algorithm");me=ue;let fe=A(me);ve.push(fe)}return ve.reverse()},getPath(q,B,N={}){let K=this.tileWidth(),ne=this.tileHeight(),ie=this.getTilePath(this.pos2Tile(q),this.pos2Tile(B),N);return ie?[q,...ie.slice(1,-1).map(se=>se.scale(K,ne).add(K/2,ne/2)),B]:null}};return s.use(k),s.onNavigationMapInvalid(()=>{s.invalidateNavigationMap(),s.trigger("navigationMapChanged")}),i.forEach((q,B)=>{let N=q.split("");o=Math.max(N.length,o),N.forEach((K,ne)=>{s.spawn(K,Q(ne,B))})}),s}g(v1,"addLevel");function kt(i,n,s){return w.game.objEvents.registers[i]||(w.game.objEvents.registers[i]=new oy),w.game.objEvents.on(i,(u,...o)=>{u.is(n)&&s(u,...o)})}g(kt,"on");var tw=g((i,n,...s)=>{for(let u of w.game.root.children)u.is(n)&&u.trigger(i,s)},"trigger"),nw=$e(i=>{let n=w.game.root.add([{fixedUpdate:i}]);return{get paused(){return n.paused},set paused(s){n.paused=s},cancel:g(()=>n.destroy(),"cancel")}},(i,n)=>kt("fixedUpdate",i,n)),aw=$e(i=>{let n=w.game.root.add([{update:i}]);return{get paused(){return n.paused},set paused(s){n.paused=s},cancel:g(()=>n.destroy(),"cancel")}},(i,n)=>kt("update",i,n)),iw=$e(i=>{let n=w.game.root.add([{draw:i}]);return{get paused(){return n.hidden},set paused(s){n.hidden=s},cancel:g(()=>n.destroy(),"cancel")}},(i,n)=>kt("draw",i,n)),A1=$e(i=>w.game.events.on("add",i),(i,n)=>kt("add",i,n)),lw=$e(i=>w.game.events.on("destroy",i),(i,n)=>kt("destroy",i,n)),sw=$e(i=>w.game.events.on("use",i),(i,n)=>kt("use",i,n)),uw=$e(i=>w.game.events.on("unuse",i),(i,n)=>kt("unuse",i,n)),b1=$e(i=>w.game.events.on("tag",i),(i,n)=>kt("tag",i,n)),rw=$e(i=>w.game.events.on("untag",i),(i,n)=>kt("untag",i,n));function w1(i,n,s){return kt("collide",i,(u,o,c)=>o.is(n)&&s(u,o,c))}g(w1,"onCollide");function x1(i,n,s){return kt("collideUpdate",i,(u,o,c)=>o.is(n)&&s(u,o,c))}g(x1,"onCollideUpdate");function S1(i,n,s){return kt("collideEnd",i,(u,o,c)=>o.is(n)&&s(u,o,c))}g(S1,"onCollideEnd");function Su(i,n){w.game.root.get(i,{recursive:!0}).forEach(n),A1(i,n),b1((s,u)=>{u===i&&n(s)})}g(Su,"forAllCurrentAndFuture");var ow=$e(i=>w.app.onMousePress(i),(i,n)=>{let s=[];return Su(i,u=>{if(!u.area)throw new Error("onClick() requires the object to have area() component");s.push(u.onClick(()=>n(u)))}),Oi.join(s)});function E1(i,n){let s=[];return Su(i,u=>{if(!u.area)throw new Error("onHover() requires the object to have area() component");s.push(u.onHover(()=>n(u)))}),Oi.join(s)}g(E1,"onHover");function M1(i,n){let s=[];return Su(i,u=>{if(!u.area)throw new Error("onHoverUpdate() requires the object to have area() component");s.push(u.onHoverUpdate(()=>n(u)))}),Oi.join(s)}g(M1,"onHoverUpdate");function T1(i,n){let s=[];return Su(i,u=>{if(!u.area)throw new Error("onHoverEnd() requires the object to have area() component");s.push(u.onHoverEnd(()=>n(u)))}),Oi.join(s)}g(T1,"onHoverEnd");function R1(i){w.game.events.on("loading",i)}g(R1,"onLoading");function q1(i){w.app.onResize(i)}g(q1,"onResize");function D1(i){w.game.events.on("error",i)}g(D1,"onError");function Ao(i){w.assets.loaded?i():w.game.events.on("load",i)}g(Ao,"onLoad");function O1(i){if(w.assets.loaded)Sh().forEach(n=>i(...n));else return w.game.events.on("loadError",i)}g(O1,"onLoadError");function Gh(...i){w.game.cam.pos=Q(...i)}g(Gh,"setCamPos");function Vh(){return w.game.cam.pos?w.game.cam.pos.clone():hu()}g(Vh,"getCamPos");function Xh(...i){w.game.cam.scale=Q(...i)}g(Xh,"setCamScale");function Qh(){return w.game.cam.scale.clone()}g(Qh,"getCamScale");function Zh(i){w.game.cam.angle=i}g(Zh,"setCamRot");function Kh(){return w.game.cam.angle}g(Kh,"getCamRot");function B1(){return w.game.cam.transform.clone()}g(B1,"getCamTransform");function kh(i=Ye(255,255,255),n=1){let s=w.game.root.add([Yh(qt(),Ct()),jh(i),_h(1),ld()]),u=s.fadeOut(n);return u.onEnd(()=>ed(s)),u}g(kh,"flash");function C1(){return w.game.cam.transform.clone()}g(C1,"camTransform");function U1(i=12){w.game.cam.shake+=i}g(U1,"shake");function $r(i){return w.game.cam.transform.multVec2(i)}g($r,"toScreen");function Fh(i){return w.game.cam.transform.invert().multVec2(i)}g(Fh,"toWorld");function z1(...i){return Bi("camPos","setCamPos / getCamPos"),i.length>0&&Gh(...i),Vh()}g(z1,"camPos");function N1(...i){return Bi("camScale","setCamScale / getCamScale"),i.length>0&&Xh(...i),Qh()}g(N1,"camScale");function H1(i){return Bi("camRot","setCamRot / getCamRot"),i!==void 0&&Zh(i),Kh()}g(H1,"camRot");function j1(i=Ye(255,255,255),n=1){return Bi("camFlash","flash"),kh(i,n)}g(j1,"camFlash");function bo(i=[]){let n=new Map,s=[],u={},o=new cu,c=[],d=new Set("*"),y=w.globalOpt.tagsAsComponents,p=null,h=!1,A={id:q2(),hidden:!1,transform:new Fn,children:[],parent:null,set paused(v){if(v!==h){h=v;for(let D of c)D.paused=v}},get paused(){return h},get tags(){return Array.from(d)},add(v){let D=Array.isArray(v)?bo(v):v;if(D.parent)throw new Error("Cannot add a game obj that already has a parent.");return D.parent=this,D.transform=Dl(D),this.children.push(D),D.trigger("add",D),w.game.events.trigger("add",D),D},readd(v){let D=this.children.indexOf(v);return D!==-1&&(this.children.splice(D,1),this.children.push(v)),v},remove(v){let D=this.children.indexOf(v);if(D!==-1){v.parent=null,this.children.splice(D,1);let E=g(U=>{U.trigger("destroy"),w.game.events.trigger("destroy",U),U.children.forEach(x=>E(x))},"trigger");E(v)}},removeAll(v){if(v)this.get(v).forEach(D=>this.remove(D));else for(let D of[...this.children])this.remove(D)},fixedUpdate(){this.paused||(this.children.forEach(v=>v.fixedUpdate()),this.trigger("fixedUpdate"))},update(){this.paused||(this.children.forEach(v=>v.update()),this.trigger("update"))},draw(){if(this.hidden)return;this.canvas&&(sn(),this.canvas.bind());let v=w.gfx.fixed;this.fixed&&(w.gfx.fixed=!0),ln(),it(this.pos),es(this.scale),Di(this.angle);let D=this.children.sort((E,U)=>{let x=E.layerIndex??w.game.defaultLayerIndex,S=U.layerIndex??w.game.defaultLayerIndex;return x-S||(E.z??0)-(U.z??0)});if(this.mask){let E={intersect:w.k.drawMasked,subtract:w.k.drawSubtracted}[this.mask];if(!E)throw new Error(`Invalid mask func: "${this.mask}"`);E(()=>{D.forEach(U=>U.draw())},()=>{this.trigger("draw")})}else this.trigger("draw"),D.forEach(E=>E.draw());Xt(),w.gfx.fixed=v,this.canvas&&(sn(),this.canvas.unbind())},drawInspect(){this.hidden||(ln(),it(this.pos),es(this.scale),Di(this.angle),this.children.forEach(v=>v.drawInspect()),this.trigger("drawInspect"),Xt())},use(v){var U;if(typeof v=="string")return d.add(v);if(!v||typeof v!="object")throw new Error(`You can only pass a component or a string to .use(), you passed a "${typeof v}"`);let D=[];v.id?(this.unuse(v.id),u[v.id]=[],D=u[v.id],n.set(v.id,v),y&&d.add(v.id)):s.push(v);for(let x in v){if(y2.has(x))continue;let S=Object.getOwnPropertyDescriptor(v,x);if(S)if(typeof S.value=="function"&&(v[x]=v[x].bind(this)),S.set&&Object.defineProperty(v,x,{set:S.set.bind(this)}),S.get&&Object.defineProperty(v,x,{get:S.get.bind(this)}),v2.has(x)){let H=x==="add"?()=>{var X;p=g(ae=>D.push(ae),"onCurCompCleanup"),(X=v[x])==null||X.call(v),p=null}:v[x];D.push(this.on(x,H).cancel)}else if(this[x]===void 0)Object.defineProperty(this,x,{get:g(()=>v[x],"get"),set:g(H=>v[x]=H,"set"),configurable:!0,enumerable:!0}),D.push(()=>delete this[x]);else{let H=(U=n.values().find(X=>X[x]!==void 0))==null?void 0:U.id;throw new Error(`Duplicate component property: "${x}" while adding component "${v.id}"`+(H?` (originally added by "${H}")`:""))}}let E=g(()=>{if(v.require){for(let x of v.require)if(!this.c(x))throw new Error(`Component "${v.id}" requires component "${x}"`)}},"checkDeps");v.destroy&&D.push(v.destroy.bind(this)),this.exists()?(E(),v.add&&(p=g(x=>D.push(x),"onCurCompCleanup"),v.add.call(this),p=null),v.id&&(this.trigger("use",v.id),w.game.events.trigger("use",this,v.id))):v.require&&D.push(this.on("add",E).cancel)},unuse(v){if(n.has(v)){for(let D of n.values())if(D.require&&D.require.includes(v))throw new Error(`Can't unuse. Component "${D.id}" requires component "${v}"`);n.delete(v),this.trigger("unuse",v),w.game.events.trigger("unuse",this,v)}else y&&d.has(v)&&d.delete(v);u[v]&&(u[v].forEach(D=>D()),delete u[v])},c(v){return n.get(v)??null},get(v,D={}){let E=g((x,S)=>D.only==="comps"?x.has(S):D.only==="tags"?x.is(S):x.is(S)||x.has(S),"checkTagsOrComps"),U=D.recursive?this.children.flatMap(g(function x(S){return[S,...S.children.flatMap(x)]},"recurse")):this.children;if(U=U.filter(x=>v?E(x,v):!0),D.liveUpdate){let x=g(H=>D.recursive?this.isAncestorOf(H):H.parent===this,"isChild"),S=[];S.push(w.k.onAdd(H=>{x(H)&&E(H,v)&&U.push(H)})),S.push(w.k.onDestroy(H=>{if(x(H)&&E(H,v)){let X=U.findIndex(ae=>ae.id===H.id);X!==-1&&U.splice(X,1)}})),this.onDestroy(()=>{for(let H of S)H.cancel()})}return U},query(v){let D=v.hierarchy||"children",E=v.include,U=v.exclude,x=[];switch(D){case"children":x=this.children;break;case"siblings":x=this.parent?this.parent.children.filter(H=>H!==this):[];break;case"ancestors":let S=this.parent;for(;S;)x.push(S),S=S.parent;break;case"descendants":x=this.children.flatMap(g(function H(X){return[X,...X.children.flatMap(H)]},"recurse"));break}if(E&&((v.includeOp||"and")==="and"||!Array.isArray(v.include)?x=x.filter(S=>S.is(E)):x=x.filter(S=>v.include.some(H=>S.is(H)))),U&&((v.includeOp||"and")==="and"||!Array.isArray(v.include)?x=x.filter(S=>!S.is(U)):x=x.filter(S=>!v.exclude.some(H=>S.is(H)))),v.visible===!0&&(x=x.filter(S=>S.visible)),v.distance){if(!this.pos)throw Error("Can't do a distance query from an object without pos");let S=v.distanceOp||"near",H=v.distance*v.distance;S==="near"?x=x.filter(X=>X.pos&&this.pos.sdist(X.pos)<=H):x=x.filter(X=>X.pos&&this.pos.sdist(X.pos)>H)}return v.name&&(x=x.filter(S=>S.name===v.name)),x},isAncestorOf(v){return v.parent?v.parent===this||this.isAncestorOf(v.parent):!1},exists(){return w.game.root.isAncestorOf(this)},is(v,D="and"){return Array.isArray(v)?D==="and"?v.every(E=>d.has(E)):v.some(E=>d.has(E)):d.has(v)},tag(v){if(Array.isArray(v))for(let D of v)d.add(D),this.trigger("tag",D),w.game.events.trigger("tag",this,D);else d.add(v),this.trigger("tag",v),w.game.events.trigger("tag",this,v)},untag(v){if(Array.isArray(v))for(let D of v)d.delete(D),this.trigger("untag",D),w.game.events.trigger("untag",this,D);else d.delete(v),this.trigger("untag",v),w.game.events.trigger("untag",this,v)},has(v,D="and"){return Array.isArray(v)?D==="and"?v.every(E=>n.has(E)):v.some(E=>n.has(E)):n.has(v)},on(v,D){let E=o.on(v,D.bind(this));return p&&p(()=>E.cancel()),E},trigger(v,...D){o.trigger(v,...D),w.game.objEvents.trigger(v,this,...D)},destroy(){this.parent&&this.parent.remove(this)},inspect(){var D;let v={};for(let[E,U]of n)v[E]=((D=U.inspect)==null?void 0:D.call(U))??null;for(let[E,U]of s.entries()){if(U.inspect){v[E]=U.inspect();continue}for(let[x,S]of Object.entries(U))typeof S!="function"&&(v[x]=`${x}: ${S}`)}return v},onAdd(v){return this.on("add",v)},onFixedUpdate(v){return this.on("fixedUpdate",v)},onUpdate(v){return this.on("update",v)},onDraw(v){return this.on("draw",v)},onDestroy(v){return this.on("destroy",v)},onUse(v){return this.on("use",v)},onUnuse(v){return this.on("unuse",v)},clearEvents(){o.clear()}},T=["onKeyPress","onKeyPressRepeat","onKeyDown","onKeyRelease","onMousePress","onMouseDown","onMouseRelease","onMouseMove","onCharInput","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onScroll","onGamepadButtonPress","onGamepadButtonDown","onGamepadButtonRelease","onGamepadStick","onButtonPress","onButtonDown","onButtonRelease"];for(let v of T)A[v]=(...D)=>{var U,x;let E=(x=(U=w.app)[v])==null?void 0:x.call(U,...D);return c.push(E),A.onDestroy(()=>E.cancel()),A.on("sceneEnter",()=>{var H,X;c.splice(c.indexOf(E),1);let S=(X=(H=w.app)[v])==null?void 0:X.call(H,...D);Oi.replace(E,S),c.push(E)}),E};for(let v of i)A.use(v);return A}g(bo,"make");var cw=g(()=>({events:new cu,objEvents:new cu,root:bo([]),gravity:null,scenes:{},currentScene:null,layers:null,defaultLayerIndex:0,logs:[],cam:{pos:null,scale:new J(1),angle:0,shake:0,transform:new Fn}}),"initGame");function _1(i){w.game.gravity=i?(w.game.gravity||Q(0,1)).unit().scale(i):null}g(_1,"setGravity");function L1(){return w.game.gravity?w.game.gravity.len():0}g(L1,"getGravity");function Y1(i){w.game.gravity=i.unit().scale(w.game.gravity?w.game.gravity.len():1)}g(Y1,"setGravityDirection");function Bl(){return w.game.gravity?w.game.gravity.unit():Q(0,1)}g(Bl,"getGravityDirection");var fw=s2("//uUBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAATAAAeAAANDQ0NDRoaGhoaKCgoKCg1NTU1NTVDQ0NDQ1BQUFBQXl5eXl5ra2tra2t5eXl5eYaGhoaGlJSUlJShoaGhoaGvr6+vr7y8vLy8ysrKysrX19fX19fl5eXl5fLy8vLy//////8AAAA5TEFNRTMuMTAwAaoAAAAAAAAAABSAJAOPhgAAgAAAHgBaqIlmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uUBAAP8h1kPIABR4BEDGeQAEbkSb2RAACBFMEyMiAAASJw4xjgwAGyRvfIoZT2QKGV5YNw/tKID9+X93qXtBQUFBQ/e+EFKTQUT/dy3f5dK/3d04rkXHpufCClDAaH7jDMgFAQEGfPt+jI352U9vU4GLRpzkUDeeeTQggQe2ggF3d7/3j697DnhCH5iGf38//iNj9oy2Jk71oj+CBAABGNB4RJNMwgCABCB//8//l////1z6XEGd73az07sOkwZD9VYgjzjmQ6j4EMfZM86OJ7GUWwvFw3ZPcdVEtczf9RNf6xMyxLjZZgjMQ7KDkLSU8g2E12UDUWrf//////9LdtFdeeqKwSitW9SJL59VM5pyUGiBNiK0jIGO0j7p3pUpWpaeqi1nTvqP3b43mGmM6HeXFjIlRwiFiIDQRRAGgkDQhxMMv//+f1//6XM/PfMvysJa3993MjDjhaRkrV3cRPXjGptDDGTHtFKUeMHU0K5STvVfMtVX/UXHctt1Z1//uUBB0AgnZkQAAgRTBMzIgAACiqCdB9E1QRgAFuIuGmhjABPZRJRCHi4etY2gcEYRwFw5KFBMMRV/////z6kX2ppnJszEzKbkZKEumm+pBRUDBg9IsgXGXrazn1QhmGjBrLVjT5Xvir0HT7d//HSZh18IZdji2N5JZgbA3DwQAahogSDqUhQuNtpJmBTwAGMY2QP3c/dy4EKsAABoXEJEFmlf/c4TgYtwcAbwfD4gOOoS1QIH7jDnNzYVe1x4mNFyD2jMVaaykjV29ePMARwXcUOgAFr+UjhVz4jhwMDFxPKgYs3cDFpohVgAAYAIO7u8eAAjRNA7hBFAwN3ACDvu7nETkLMrnyIj8v/9fNwhF9vKRfm82P5zPPmLV/WKs9G3d16n/v3rubEN0zgs7RdWrHne9brdv5bI4EwEAM6lj7aVdTKtXQHgLdzCKQ2kcihe4FyMcD1r3nR4TWxuax5EOZJEs3DEQnjyqyB8cSfrI6GEcoJxiHBDEfrTOFYrO1//uUBCgAA406ym5hgAB1R1ktzDwACxDBZzj0gAFhGrA3HoACypAXH9HY4umZan4ZlZKldajczMzMzOTnzMvnb77f/1IuSzHIbnJLJdapWmwUAQBXqWPtqV1OyqVqXhB9abR90OyKEsM51pIJK/nXplbDPtKz2dH+oVWeZSm8z7nvAZ19bneqhk3qeBhrhZiLbCc8sRnXb520RnPFd61/AgSR4f8CVlfWpD/////+N6/jv8v4f/6Ln///06c8YYcQIaGmAJ9VhMHEZYc9Kn0TOOYKv2cibDoZieAaGy4Cd6AfGkxQQr+agomAw+dC7AkjOxklIZEpUgmHxXP7/znl/4qT9Z/8+T2a0WF9/lvpv39if/KZnV6Gp1vQRmN1rYDAADfLGQxVR2d49LQLXdImm5n40smwjQ4aIYKMeKCOEw0OBV5cHA8cFV8mB5LyIIeksHspy79/iTv9SH+v66f2Wn/i+Lt//x9y//5MohgAAXiTCVBil4RUZ7XUvPRCD9Uc//uUBAoAAro3Wzc9AABXRutm56AACrUhc6eYT0FWpC508wnoO35hs9j6x7PQOB0PF0JWIkYwigNPoXUBA0cKA6JwDB7lRKDm/93r/mb6iEqL5lv3Vq//6YgYd1AgECi4xACCYbHyukYAAF4kwlQYpeEVGe11Lz0Qg/VHDt+YbPY+sez0DgdDxdCViJGMIoDT6F1AQNHCgOicAwe5USg5v/d6/5m+ohKi+Zb91av/+mIGHdQIBAouMQAgmGx8rptmoLKSACTuBBUPFsH6RlCz+UhoKeVfJy/eqOspBG4PScFOnOxYJJcf/nVzmyfR42Zwxy//hfSUrPq1SzFnO7q/SzNUzst+GQpnZ/kLwzVZ9xJ2lVa02zUFlJABJ3AgqHi2D9IyhZ/KQ0FPKvk5fvVHWUgjcHpOCnTnYsEkuP/zq5zZPo8bM4Y5f/wvpKVn1apZiznd1fpZmqZ2W/DIUzs/yF4Zqs+4k7SqtaYkWgEGMgppYQlMVdKcos2bWFZbFIJp//uUBAsAAr0wWe1hAABXpgs9rCAACwS5azj0gAFgly1nHpAAVgWmZa3LaUWCcGh5HgOEYkViyQUjrX+G5FUr5Dla1ZhtXDf7ckpazXwzeusqq+zXwUePSw8NYzlZKWfbyzod4dCRItAIMZBTSwhKYq6U5RZs2sKy2KQTSrAtMy1uW0osE4NDyPAcIxIrFkgpHWv8NyKpXyHK1qzDauG/25JS1mvhm9dZVV9mvgo8elh4axnKyUs+3lnQ7w6EkIEIIZFKlBSAGwRMrEIEuM658s5gvyVtFDrQtgTY2YSPlAJcgwlXLmokM8sUQJYJOm3eaW04jWVsoghX+ZBt3SHFZOypVez//VONpL+du6U+4WLXBC79cuhAhBDIpUoKQA2CJlYhAlxnXPlnMF+StoodaFsCbGzCR8oBLkGEq5c1EhnliiBLBJ027zS2nEaytlEEK/zINu6Q4rJ2VKr2f/6pxtJfzt3Sn3Cxa4IXfrl6IGEh4icUSUDRZk/k88VFEmCy//uUBAkAAociWgZh4ABQ5EtAzDwAC6zBXBmXgAF1mCuDMvAART7WmhWQ9QwYJexoKJ+z1bcQqfEFmtDtXH8lUg2omFi2b/4+UhW/j+bHgwAM8SqMAQFxYj9wqAwhlftf//sSQMJDxE4okoGizJ/J54qKJMFkin2tNCsh6hgwS9jQUT9nq24hU+ILNaHauP5KpBtRMLFs3/x8pCt/H82PBgAZ4lUYAgLixH7hUBhDK/a///YmHznKbibgJd0lEi0TfuHXCfhZ0faHA6GL3GuUpLTgTwnd/upcFAbo+BGMfzKxWE9PNg+sbrEwwRLn6uFElWTc/zN8Yvf5V3xV29///8OO/f7j3cT0mgMTPP9uPEwIQ+c5TcTcBLukokWib9w64T8LOj7Q4HQxe41ylJacCeE7v91LgoDdHwIxj+ZWKwnp5sH1jdYmGCJc/Vwokqybn+ZvjF7/Ku+Ku3v///hx37/ce7iek0BiZ5/tx4mBCmI5QXQAgigG+j0P8fdg2Xjs//uUBAiAAqwlWwY94ABVhKtgx7wACoilZ7z0AAFUlOz3noAAii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlGI5QXQAgigG+j0P8fdg2Xjsii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlEBsAgCSkHfwmFY/MMKQyg4tjhHeuR2mpSZWstSwEQAw00wZaogwgZL3PPVWw9vuB51zUXf3Df/ytV917DjxQEGA+0mbu4YYg4TnkRcMGQsxH/Ioc1AbAIAkpB38JhWPzDCkMoOLY4R3rkdpqUmVrLUsBEAMNNMGWqIMIGS9zz1VsPb7gedc1F39w3/8rVfdew48UQIFwus29HKDIAW8tcsSGAOKXK/jHmF1AkIAAC8ZUaEFwTHUylbannoarv7HwxH8//uUBAwEAtAx18sMQuBVJisaYSJeCmhnX6eZLQFZJy208wmidE7zXIRk0ZLYCqc1eg1sKc3HZuweFNeSCHHGg+JyhTcd8RE3/+rJXIdH6UpI2qUdVtHGRCOewEOXGUfKG2/v+RIoA0MAAAByh2gABL0EpLTwNTz0qzjM2ER8SF2lsSRLESGiqG5JXMCauo+aTB1GQKTyJd6SDnG6Iv8rkaoYeRihQbVGzJSSQ4sOghQh7vhkf+T0agMeCYAcAABBO40gsg/gOpfIiHoQgldEIGLVK9EaTFmFH9jkkvLA41VT/4q0XDJLUopJkJmWHAqZyRAPJOvBUS+NYSLC4FFjoJkUfGP/La3XNJCMJPep5CkIaRQCSTuM4ikUepPHAnZLEErtHuqs1EWDizBAvsdVeWBxqqn9aiS9FK24Z0KUhvVkY7ZbylKV/SrKiK0yrKqFkPe3/sZ//8xt6t2dajIDpFMRf6tSU9FIlJJKChTJIgq2hhZlrTlNcpaB/Xv5rDOU//uUBA2AAoQl1lVgwARQxLrKrBgAjCyVTrmngAGFkqnXNPAAg4ANdH9PKxIijn/xmvyjW2ZISnLe5yUtyv2ufSTfVJUGyoFiU6s6Crgyd2PEyn5Ul/85kUElPRSJSSSgoUySIKtoYWZa05TXKWgf17+awzlIOADXR/TxLEiKOf/GZ/KNbZkhKct7nJS3K/a59JN9UlQbKgWJTqzoKuDJ3Y8TKflSX/zmRQSCs10kCQCFAcBJCZCbl2c0bF5RBELfoQBmp3G2m3m3lgZoN0/BmhutukeGPbe/GtGj9jtiXNZdfDjIwYiYvnePS27ebO75y/Edksl4SONB/PlBrg6dNh8h+pW2//lktFhYcFZrpIEgEKA4CSEyE3Ls5o2LyiCIW/QgDNTuNtNvNvLAzQbp+DNDdbdI8Me29+NaNH7HbEuay6+HGRgxExfO8elt282d3zl+I7JZLwkcaD+fKDXB06bD5D9Stt//LJaLCw4AhAEAACKEywIJz0PRwTBn6tS2//uUBAmAAmUjVNdhAABMpGqa7CAACWiNUay8pYEtEao1l5SwsvqET9LUv/TIpAROYdsSHIoHxzccjRUPRZmVQnHLH7FYdB9rF8Q11yOCAKeHZHyIhMO///lWz0JPcAQgCAABFCZYEE56Ho4Jgz9WpbWX1CJ+lqX/pkUgInMO2JDkUD45uORoqHoszKoTjlj9isOg+1i+Ia65HBAFPDsj5EQmHf//yrZ6EnuACgcjEAKT2Dfl0wUuCCDwOHgDLjMYs6OLViO840e/fHfBZmadNu+NYYNVT84fPkYRCJ/K5V3vsq0Gh0H0YgBP+moubbodw+IHr/kgAoHIxACk9g35dMFLggg8Dh4Ay4zGLOji1YjvONHv3x3wWZmnTbvjWGDVU/OHz5GEQifyuVd77KtBodB9GIAT/pqLm26HcPiB6/5KAE6OeESRRgDMViF4jCI2bT5fbThs6iKGQfPTVaYtXdjMROEbiIqKlZk1KJAzpcWEnNs6FapfKXq1jerLEhaS//uUBB+BAmUqVWsMKrhMpUqtYYVXCTSlTzWSgAE0lKp2sFAAqcgRPyRHxKsBPAQVtIgCdHPCJIowBmKxC8RhEbNp8vtpw2dRFDIPnpqtMWruxmInCNxEVFSsyalEgZ0uLCTm2dCtUvlL1axvVliQtJVOQIn5Ij4lWAngIK2kQCHQhVnhkMD1BlLGveBt13z8bjbsI+MtfqdjdaAQiJFeBGV0AQFB2Qr8QDBc8iiATM25R8+fqp/Izn9CHGC7CEg5BTqd6jM4IBoADCiIYSTWAeAwKIoGBRr+EfZ3bjcbhhdDLX6nY3WgEIiRXgRloICoOyFfiA4+RRAJmbco+fP1U/kZz+hDjBdhCQcgp1O9QZnAQAbiCQAm485bonLdZ5NLqAAAEaPfiGAJsDpfUrAhC8wIZFkkEsiX6UBGvscp3FQfN5VNjWCnQ6AGqvk/UqZBbG3rpCt0gR7qtiNBxOfSeTupa6fMjXaMuYTclIn9ZIVayP2pYMiVUajtVYufukCu//uUBDWABAw9Uu5p4AKDx9qdzLwAiiyjShmngAFFlGlDNPAAm9bW7Vct6q61jNa/e6f/0cL33T31CoACacjUkabckdbjkoAAQ2Pe5fJoCshU+EXmCMRGkCbpN6UCNfKFHfcVB8kSOgSgDsuTAAtXyfqVMgtjb10hW6QI91XCQyZP85jl1K90+ZGuz5Ewl0gGT+skKsGAr0weA/JVRqO1Vi5+6QK6b1tbtFct6q61jNa+26fG/RwvfdPeIpm6BswQctcoCeIAYEYf1mWXRGbxQSwlUiCoY91ytUSo4mqDAgHrhQ3Y/4l2ptfeDG/xHfQXlda18S59aW+rZz8/Gtf7vXU0aFeJUKxkREA+tA5tnJGCDlrlATxADAjD+syy6IzeKCWEqkQVDHuuVqiVHE1QYEA9cKG7H/Eu1Nr7wY3+I76C8rrWviXPrS31bOfn41r/d66mjQrxKhWMiIgH1oHNs5Iw4nNwugqcGVUIoOnFryq5YBVMFyLPEAM4rxNXgSVW//uUBA+AAtkszwZtgABapZngzbAACxyZTzmkgAljkynnNJABzA8PYTFvx2VIR78NqPytscLolrRXGbLUv3rfHNp37BGU77n4xv9NNmu7larWfrk294JgJMNJQ9k6Z//3mHE5uF0FTgyqhFB04teVXLAKpguRZ4gBnFeJq8CSq2YHh7CYt+OypCPfhtR+VtjhdEtaK4zZal+9b45tO/YIynfc/GN/pps13crVaz9cm3vBMBJhpKLJ0z//vAA/m9Y8//8wALImAAl3wUQQSnfKuPXkDS5Ql5I8JfOufQG0twDlAxToCFKYarEoVqWFNJ6nNVd9fnX5/O72D/GEfeJf1TBIwjlyh7XHDg+dW/e///9oGG0YAH83rHn//mABZEwAEu+CiCCU75Vx68gaXKEvJHhL51z6A2luAcoGKdAQpTDVYlCtSwppPU5qrvr86/P53ewf4wj7xL+qYJGEcuUPa44cHzq373///tAw2joy5iMKijE5A82dFg4+liKoGBQF//uUBAmAAqobToZt4ABVI2nQzbwAClBrX7j0gBFKDWv3HpACuAcKpXhYKYZtV8OtethxIYxrF3onBiRVg0Z5VNJHjodV8sWdI031RiPzue4vQ9IA5zgUawg6s0J1ixM4H0rkVfR6DLmIwqKMTkDzZ0WDj6WIqgYFAW4BwqleFgphm1Xw6162HEhjGsXeicGJFWDRnlU2I8dDqvlizpGm+qMR+dz3F6HpAHOcCjWEHVmhOsWJnA+lcir6PQCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRCCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRDWAElxIBP/fgA5BRsQaBJEcORBgUrqXzDOmyQ7B8Js0//uUBA+AAnIbz+9swABNA3nq7ZgACYxbKSxpgQEzi6UljTAh0ph0igLRRPKosl/+21oMFkUfTMlPbu5vLWMhsIpBoJlEBWacSYwqxs0adkSycpqwAugFfb4AMMU0BUCAJUc6VBAkwaXzDlPhDsnkNmmlMVAKAOiieBJHkv/22tBkzUfXZJ+37zy1jILgmkGjpRAVmnCVjCrGzRozkSydWoAAhAKsACEHAmDZAyOJvjXlQsCbLAhfALBGnDuUyMsKxSWoyN41Ma1yzl81ldaycS4FmOc/HeG0F0EouNMvOJY8wRknQ2MHFgo50O9wABCAVYAEIOBMGyBkcTfGvKhYE2WBC+AWCNOHcpkZYViktRkbxqY1rlnL5rK61k4lwLMc5+Od4vceyz2aZfD2t6Yf1T8VpbBUmvyf/6WSCIaFJmBQHBBPnChjBCJpALOEZzWEOoXAjEVcJwU6QNMnCQemw5lYr1wP4Yrd7Kh813KsJITdZtDZdO/Nb/EeIEOq6mn9//uUBCMMglwayou4eTBKg1lRdw8mCRxbKCzswxEuGGWdow2oj0ziXaKZIIhoUmYFAcEE+cKGMEImkAs4RnNYQ6hcCMRVwnBTpA0ycJB6bDmVivXA/hit3sqHzXcqwkhN1m0Nl0781v8R4gQ3qup/2PTcl2geDKLS0Dlz62OeezARhAXGxQHQWEYYrFAT3TZw4FCwS4JDTF8AkaliQVaJoBk2ZlkiTQ2GgZmiQ1TzBSo+AA7JnYoKkVD1ZLuX4AtuEAwAFeAsHNMiPlXBIxSunQZU2GQTJoCe6bOHAoWCXBIaYvkUWljkvhpGS5mWFUrqaky+ZUivDyLT+PkTH9Nf5Jc8MPCT5LS5agFKBGvwAEGuOYUBgViPhKwULrvceUN2EYE5cfjEPVa76oYHc8iajBh079LyeBx+8xsatjP5+f/v9moz085O0y92c1/TLeIQBc5iarAMAtQBhIDsHMLAswKiDlZBMLgFd7jyhuwXBjO4/GIeq131ERQsohipJqEF//uUBDuAAl4rSc1swABNpWkWriAAT6S1N7msABH4Fqa3NYACK3Y2lxKnyqWlj4I9evjntWStpWltoH3a1c9wPfBQe51tv4QIRW5JWpHY2wmAQCAA3Ez8JQ0wQP/M2RNaIDhCYutAAONBBkAlvb4j4+qi40CU4Bh3bhxXygTVd/7vSq0iY6iSWWXrsXQ29eVJCqUsoXWy7X/vdWvP1JZg/tBEovFId////7rne699onXkM9DUl/+GAZBQDf8JEQCKo//+ogQCRyuRRuRthMAgEABkJp6CMpiBP+aMybcYnwznWkEqoAuaC5GfvF8HZFWg/FXSa8blglIwmKgd/7XpVaYZFGTZZe5DuQPushJSpXIpuwbX/vdWvL6kswcmPQFF4Ef3////LXO917pQHTyGedqP//DAMgoD3/CREAiqP/2eqv////////3dk90KlpVV3eUWVjHLZSMUp5hxnpOcO1WpXVXu4ijKYTSd3IJ7Kzt6Wp7FWiGQUEGFRgdCgpRM//uUBB8P8lRjwIcAoABJLFgQ4BQASJmNAgAFHEkIsiAAAaegRMowxhYVZBMOCoAh7/////////79CTkvIITTqZkZjVGEMPHvEBE7IZXMpGVFYqsKyOYw5jjmOZkFDdkZLkW+9NjEIZxbiYixXO5QkcoRVQoYBgYPlK+XmRGbwXaEFZGvWIpZLWEizxltQ9uELQV7E73d3HESrONG7w3dTdpF6Skf/zNT3I6rIKxJy1oKCtGGjj5FDxcKB+HpYd/3//i3rZFOT0N05+QpgWZYZ3pi5biJNCj4fRQQwYK8p48BQUTWPDTbNjkPn8+1VXKvJ7dJ5Gb2mESWLjnHOYNH07r6//////////icK81KXqTXuvQEteLGdY0DKwrjQVTIMKbgE0b41Egi1KxtuNwUpf9X+bNqTUlXbDClWgIlS4wMVc1F0QZc3/N/yto/7eUShjGUstRgIUZXKUrFYwU5SgKOxgYE+krfVkf6St/VpnMaYwpwoCjoZwoCZwqFC4LH//uUBD+P4jNjPwAjN8I7THfwAEnqR8mAugCAcQkHsheEERr40LUwj//hIzL//9k/9rJZ9lks+yyVDL/////81YHZUMj//yZZLHIy7/5qwMHHIyZZL/sslQyNWt/I1DBQYRxPYaxS/////5kn///6on0VEVP/6on/7OVFVO5QwUGEOzyhgaoqKhQwMGCUjt////8qaLdr/qTiyzLxaJxpRTt6RBhIhDZMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),hw=g(()=>(()=>{let i=new(window.AudioContext||window.webkitAudioContext),n=i.createGain();n.connect(i.destination);let s=new du(Ry(i));return i.decodeAudioData(fw.buffer.slice(0)).then(u=>{s.buf=u}).catch(u=>{console.error("Failed to load burp: ",u)}),{ctx:i,masterNode:n,burpSnd:s}})(),"initAudio");function G1(i,n={}){let s=new Vt,u=new Audio(i);u.crossOrigin="anonymous",u.loop=!!n.loop,w.audio.ctx.createMediaElementSource(u).connect(w.audio.masterNode);function o(){w.debug.paused||w.app.isHidden()&&!w.globalOpt.backgroundAudio||w.audio.ctx.resume()}g(o,"resumeAudioCtx");function c(){o(),u.play()}return g(c,"play"),n.paused||c(),u.onended=()=>s.trigger(),{play(){c()},seek(d){u.currentTime=d},stop(){u.pause(),this.seek(0)},set loop(d){u.loop=d},get loop(){return u.loop},set paused(d){d?u.pause():c()},get paused(){return u.paused},time(){return u.currentTime},duration(){return u.duration},set volume(d){u.volume=Hn(d,0,1)},get volume(){return u.volume},set speed(d){u.playbackRate=Math.max(d,0)},get speed(){return u.playbackRate},set detune(d){},get detune(){return 0},onEnd(d){return s.add(d)},then(d){return this.onEnd(d)}}}g(G1,"playMusic");function V1(i,n={}){if(typeof i=="string"&&w.assets.music[i])return G1(w.assets.music[i],n);let s=w.audio.ctx,u=n.paused??!1,o=s.createBufferSource(),c=new Vt,d=s.createGain(),y=s.createStereoPanner(),p=n.seek??0,h=0,A=0,T=!1;o.loop=!!n.loop,o.detune.value=n.detune??0,o.playbackRate.value=n.speed??1,o.connect(y),o.onended=()=>{var x;E()>=(((x=o.buffer)==null?void 0:x.duration)??Number.POSITIVE_INFINITY)&&c.trigger()},y.pan.value=n.pan??0,y.connect(d),d.connect(w.audio.masterNode),d.gain.value=n.volume??1;let v=g(x=>{o.buffer=x.buf,u||(h=s.currentTime,o.start(0,p),T=!0)},"start"),D=Py(i);D instanceof xn&&D.onLoad(v);let E=g(()=>{if(!o.buffer)return 0;let x=u?A-h:s.currentTime-h,S=o.buffer.duration;return o.loop?x%S:Math.min(x,S)},"getTime"),U=g(x=>{let S=s.createBufferSource();return S.buffer=x.buffer,S.loop=x.loop,S.playbackRate.value=x.playbackRate.value,S.detune.value=x.detune.value,S.onended=x.onended,S.connect(y),S},"cloneNode");return{stop(){this.paused=!0,this.seek(0)},set paused(x){if(u!==x)if(u=x,x)T&&(o.stop(),T=!1),A=s.currentTime;else{o=U(o);let S=A-h;o.start(0,S),T=!0,h=s.currentTime-S,A=0}},get paused(){return u},play(x=0){this.seek(x),this.paused=!1},seek(x){var S;(S=o.buffer)!=null&&S.duration&&(x>o.buffer.duration||(u?(o=U(o),h=A-x):(o.stop(),o=U(o),h=s.currentTime-x,o.start(0,x),T=!0,A=0)))},set speed(x){o.playbackRate.value=x},get speed(){return o.playbackRate.value},set detune(x){o.detune.value=x},get detune(){return o.detune.value},set volume(x){d.gain.value=Math.max(x,0)},get volume(){return d.gain.value},set pan(x){y.pan.value=x},get pan(){return y.pan.value},set loop(x){o.loop=x},get loop(){return o.loop},duration(){var x;return((x=o.buffer)==null?void 0:x.duration)??0},time(){return E()%this.duration()},onEnd(x){return c.add(x)},then(x){return this.onEnd(x)}}}g(V1,"play");function Jh(i){return w.k.play(w.audio.burpSnd,i)}g(Jh,"burp");function Ph(i){w.audio.masterNode.gain.value=i}g(Ph,"setVolume");function Ih(){return w.audio.masterNode.gain.value}g(Ih,"getVolume");function X1(i){return Bi("volume","setVolume / getVolume"),i!==void 0&&Ph(i),Ih()}g(X1,"volume");function Wh(){w.app.onHide(()=>{w.globalOpt.backgroundAudio||w.audio.ctx.suspend()}),w.app.onShow(()=>{!w.globalOpt.backgroundAudio&&!w.debug.paused&&w.audio.ctx.resume()}),w.app.onResize(()=>{if(w.app.isFullscreen())return;let i=w.globalOpt.width&&w.globalOpt.height;i&&!w.globalOpt.stretch&&!w.globalOpt.letterbox||(w.canvas.width=w.canvas.offsetWidth*w.pixelDensity,w.canvas.height=w.canvas.offsetHeight*w.pixelDensity,Hh(),i||(w.gfx.frameBuffer.free(),w.gfx.frameBuffer=new Pr(w.gfx.ggl,w.gfx.ggl.gl.drawingBufferWidth,w.gfx.ggl.gl.drawingBufferHeight),w.gfx.width=w.gfx.ggl.gl.drawingBufferWidth/w.pixelDensity/w.gscale,w.gfx.height=w.gfx.ggl.gl.drawingBufferHeight/w.pixelDensity/w.gscale))}),w.globalOpt.debug!==!1&&(w.app.onKeyPress(w.globalOpt.debugKey??"f1",()=>w.debug.inspect=!w.debug.inspect),w.app.onKeyPress("f2",()=>w.debug.clearLog()),w.app.onKeyPress("f8",()=>w.debug.paused=!w.debug.paused),w.app.onKeyPress("f7",()=>{w.debug.timeScale=Kr(Hn(w.debug.timeScale-.2,0,2),1)}),w.app.onKeyPress("f9",()=>{w.debug.timeScale=Kr(Hn(w.debug.timeScale+.2,0,2),1)}),w.app.onKeyPress("f10",()=>w.debug.stepFrame())),w.globalOpt.burp&&w.app.onKeyPress("b",()=>Jh())}g(Wh,"initEvents");function Q1(i,n={}){let s=w.game.root.add([pu(i),id()]),u=(n.speed||1)*5,o=n.scale||1;s.add([eo(w.boomSprite),mu(0),no("center"),$f(u,o),...n.comps??[]]);let c=s.add([eo(w.kaSprite),mu(0),no("center"),to(),...n.comps??[]]);return c.wait(.4/u,()=>c.use($f(u,o))),c.onDestroy(()=>s.destroy()),s}g(Q1,"addKaboom");function $h(i,n){if(w.game.layers)throw Error("Layers can only be assigned once.");let s=i.indexOf(n);if(s==-1)throw Error("The default layer name should be present in the layers list.");w.game.layers=i,w.game.defaultLayerIndex=s}g($h,"setLayers");function Z1(){return w.game.layers}g(Z1,"getLayers");function K1(){var i;return((i=w.game.layers)==null?void 0:i[w.game.defaultLayerIndex])??null}g(K1,"getDefaultLayer");function k1(i,n){Bi("layers","setLayers"),$h(i,n)}g(k1,"layers");function ed(i){i.destroy()}g(ed,"destroy");function F1(){return w.game.root}g(F1,"getTreeRoot");function J1(i,n){w.game.scenes[i]=n}g(J1,"scene");function P1(i,...n){if(!w.game.scenes[i])throw new Error(`Scene not found: ${i}`);w.game.events.onOnce("frameEnd",()=>{w.game.events.trigger("sceneLeave",i),w.app.events.clear(),w.game.events.clear(),w.game.objEvents.clear(),[...w.game.root.children].forEach(s=>{!s.stay||s.scenesToStay&&!s.scenesToStay.includes(i)?w.game.root.remove(s):s.trigger("sceneEnter",i)}),w.game.root.clearEvents(),Wh(),w.game.cam={pos:null,scale:Q(1),angle:0,shake:0,transform:new Fn},w.game.scenes[i](...n)}),w.game.currentScene=i}g(P1,"go");function I1(i){return w.game.events.on("sceneLeave",i)}g(I1,"onSceneLeave");function W1(){return w.game.currentScene}g(W1,"getSceneName");function eo(i,n={}){let s=null,u=null,o=null,c=new Vt;if(!i)throw new Error("Please pass the resource name or data to sprite()");let d=g((h,A,T,v)=>{let D=Q(1,1);return T&&v?(D.x=T/(h.width*A.w),D.y=v/(h.height*A.h)):T?(D.x=T/(h.width*A.w),D.y=D.x):v&&(D.y=v/(h.height*A.h),D.x=D.y),D},"calcTexScale"),y=g((h,A)=>{if(!A)return;let T=A.frames[0].clone();n.quad&&(T=T.scale(n.quad));let v=d(A.tex,T,n.width,n.height);if(h.width=A.tex.width*T.w*v.x,h.height=A.tex.height*T.h*v.y,A.anims)for(let D in A.anims){let E=A.anims[D];typeof E!="number"&&(E.frames=p(E))}s=A,c.trigger(s),n.anim&&h.play(n.anim)},"setSpriteData"),p=g(h=>{if(h.frames)return h.frames;let A=[];if(h.from===void 0||h.to===void 0)throw new Error("Sprite anim 'from' and 'to' must be defined if 'frames' is not defined");let T=Math.abs(h.to-h.from)+1;for(let v=0;v<T;v++)A.push(h.from+v*Math.sign(h.to-h.from));if(h.pingpong)for(let v=T-2;v>0;v--)A.push(A[v]);return A},"createAnimFrames");return{id:"sprite",width:0,height:0,frame:n.frame||0,quad:n.quad||new lt(0,0,1,1),animSpeed:n.animSpeed??1,flipX:n.flipX??!1,flipY:n.flipY??!1,get sprite(){return i.toString()},set sprite(h){let A=uu(h);A&&A.onLoad(T=>y(this,T))},get animFrame(){if(!s||!u||o===null)return this.frame;let h=s.anims[u.name];return typeof h=="number"?h:h.from===void 0||h.to===void 0?u.frameIndex:this.frame-Math.min(h.from,h.to)},draw(){if(!s)return;let h=s.frames[this.frame??0];if(!h)throw new Error(`Frame not found: ${this.frame??0}`);if(s.slice9){let{left:A,right:T,top:v,bottom:D}=s.slice9,E=s.tex.width*h.w,U=s.tex.height*h.h,x=this.width-A-T,S=this.height-v-D,H=A/E,X=T/E,ae=1-H-X,k=v/U,q=D/U,B=1-k-q,N=[ht(0,0,H,k),ht(H,0,ae,k),ht(H+ae,0,X,k),ht(0,k,H,B),ht(H,k,ae,B),ht(H+ae,k,X,B),ht(0,k+B,H,q),ht(H,k+B,ae,q),ht(H+ae,k+B,X,q),ht(0,0,A,v),ht(A,0,x,v),ht(A+x,0,T,v),ht(0,v,A,S),ht(A,v,x,S),ht(A+x,v,T,S),ht(0,v+S,A,D),ht(A,v+S,x,D),ht(A+x,v+S,T,D)];for(let K=0;K<9;K++){let ne=N[K],ie=N[K+9];gu(Object.assign($a(this),{pos:ie.pos(),tex:s.tex,quad:h.scale(ne),flipX:this.flipX,flipY:this.flipY,tiled:n.tiled,width:ie.w,height:ie.h}))}}else gu(Object.assign($a(this),{tex:s.tex,quad:h.scale(this.quad??new lt(0,0,1,1)),flipX:this.flipX,flipY:this.flipY,tiled:n.tiled,width:this.width,height:this.height}))},add(){let h=uu(i);h?h.onLoad(A=>y(this,A)):Ao(()=>y(this,uu(i).data))},update(){if(!s||!u||o===null)return;let h=s.anims[u.name];if(typeof h=="number"){this.frame=h;return}if(h.speed===0)throw new Error("Sprite anim speed cannot be 0");if(u.timer+=Et()*this.animSpeed,u.timer>=1/u.speed){u.timer=0,u.frameIndex+=o;let A=h.frames;if(u.frameIndex>=A.length)if(u.pingpong&&!h.pingpong)o=-1,u.frameIndex=A.length-2;else if(u.loop)u.frameIndex=0;else{this.frame=A.at(-1),u.onEnd(),this.stop();return}else if(u.frameIndex<0)if(u.pingpong&&u.loop)o=1,u.frameIndex=1;else if(u.loop)u.frameIndex=A.length-1;else{this.frame=A[0],u.onEnd(),this.stop();return}this.frame=A[u.frameIndex]}},play(h,A={}){if(!s){c.add(()=>this.play(h,A));return}let T=s.anims[h];if(T===void 0)throw new Error(`Anim not found: ${h}`);u&&this.stop(),u=typeof T=="number"?{name:h,timer:0,loop:!1,pingpong:!1,speed:0,frameIndex:0,onEnd:g(()=>{},"onEnd")}:{name:h,timer:0,loop:A.loop??T.loop??!1,pingpong:A.pingpong??T.pingpong??!1,speed:A.speed??T.speed??10,frameIndex:0,onEnd:A.onEnd??(()=>{})},o=typeof T=="number"?null:1,this.frame=typeof T=="number"?T:T.frames[0],this.trigger("animStart",h)},stop(){if(!u)return;let h=u.name;u=null,this.trigger("animEnd",h)},numFrames(){return(s==null?void 0:s.frames.length)??0},getCurAnim(){return u},curAnim(){return u==null?void 0:u.name},getAnim(h){return(s==null?void 0:s.anims[h])??null},hasAnim(h){return!!this.getAnim(h)},onAnimEnd(h){return this.on("animEnd",h)},onAnimStart(h){return this.on("animStart",h)},renderArea(){return new tt(Q(0),this.width,this.height)},inspect(){return typeof i=="string"?`sprite: "${i}"`:null}}}g(eo,"sprite");function $1(i,n={}){function s(o){var d,y;let c=Ia(Object.assign($a(o),{text:o.text+"",size:o.textSize,font:o.font,width:n.width&&o.width,align:o.align,letterSpacing:o.letterSpacing,lineSpacing:o.lineSpacing,transform:o.textTransform,styles:o.textStyles,indentAll:n.indentAll}));return n.width||(o.width=c.width/(((d=o.scale)==null?void 0:d.x)||1)),o.height=c.height/(((y=o.scale)==null?void 0:y.y)||1),c}g(s,"update");let u={id:"text",set text(o){i=o,s(this),this.renderedText=Ir(i).text},get text(){return i},textSize:n.size??36,font:n.font,width:n.width??0,height:0,align:n.align,lineSpacing:n.lineSpacing,letterSpacing:n.letterSpacing,textTransform:n.transform,textStyles:n.styles,renderedText:i?Ir(i).text:"",add(){Ao(()=>s(this))},draw(){Wa(s(this))},renderArea(){return new tt(Q(0),this.width,this.height)}};return s(u),u}g($1,"text");function ev(i,n){return{id:"rect",width:i,height:n,draw(){ts(Object.assign($a(this),{width:this.width,height:this.height}))},renderArea(){return new tt(Q(0),this.width,this.height)},inspect(){return`uvquad: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)})h`}}}g(ev,"uvquad");function tv(i={}){let n=null,s=null,u=null,o=null;return{id:"agent",require:["pos","tile"],agentSpeed:i.speed??100,allowDiagonals:i.allowDiagonals??!0,getDistanceToTarget(){return n?this.pos.dist(n):0},getNextLocation(){return s&&u?s[u]:null},getPath(){return s?s.slice():null},getTarget(){return n},isNavigationFinished(){return s?u===null:!0},isTargetReachable(){return s!==null},isTargetReached(){return n?this.pos.eq(n):!0},setTarget(c){n=c,s=this.getLevel().getPath(this.pos,n,{allowDiagonals:this.allowDiagonals}),u=s?0:null,s&&u!==null?(o||(o=this.getLevel().onNavigationMapChanged(()=>{n&&s&&u!==null&&(s=this.getLevel().getPath(this.pos,n,{allowDiagonals:this.allowDiagonals}),s?(u=0,this.trigger("navigationNext",this,s[u])):(u=null,this.trigger("navigationEnded",this)))}),this.onDestroy(()=>o==null?void 0:o.cancel())),this.trigger("navigationStarted",this),this.trigger("navigationNext",this,s[u])):this.trigger("navigationEnded",this)},update(){if(n&&s&&u!==null){if(this.pos.sdist(s[u])<2)if(u===s.length-1){this.pos=n.clone(),u=null,this.trigger("navigationEnded",this),this.trigger("targetReached",this);return}else u++,this.trigger("navigationNext",this,s[u]);this.moveTo(s[u],this.agentSpeed)}},onNavigationStarted(c){return this.on("navigationStarted",c)},onNavigationNext(c){return this.on("navigationNext",c)},onNavigationEnded(c){return this.on("navigationEnded",c)},onTargetReached(c){return this.on("targetReached",c)},inspect(){return"agent: "+JSON.stringify({target:JSON.stringify(n),path:JSON.stringify(s)})}}}g(tv,"agent");function nv(i){let n=i.graph;return{id:"pathfinder",require:["pos"],navigateTo(s){var u;return(u=this.graph)==null?void 0:u.getWaypointPath(this.pos,s,i.navigationOpt)},get graph(){if(n)return n;let s=this.parent;for(;s;){if(s.has("pathfinderMap"))return s.graph;s=s.parent}},set graph(s){n=s}}}g(nv,"pathfinder");function av(i={}){let n=i.waypoints,s=i.speed||100,u=i.endBehavior||"stop",o=0,c=n!=null;return{id:"patrol",require:["pos"],get patrolSpeed(){return s},set patrolSpeed(d){s=d},get waypoints(){return n},set waypoints(d){n=d,o=0,c=!1},get nextLocation(){return n?n[o]:void 0},update(){let d=this.nextLocation;if(!(!n||!d||c)&&(this.moveTo(d,s),this.pos.sdist(d)<9))switch(u){case"loop":o=(o+1)%n.length;break;case"ping-pong":o=o+1,o==n.length&&(n.reverse(),o=0);break;case"stop":o=Math.min(o+1,n.length-1),o==n.length-1&&(c=!0,this.trigger("patrolFinished"));break}},onPatrolFinished(d){return this.on("patrolFinished",d)}}}g(av,"patrol");function iv(i,n={}){let s=typeof i=="function"?i:()=>w.game.root.query(i),u=n.checkFrequency||1,o=typeof n.direction=="number"?J.fromAngle(n.direction):n.direction,c=0;return{id:"sentry",require:["pos"],direction:typeof n.direction=="number"?J.fromAngle(n.direction):n.direction,spotted:[],set directionAngle(d){this.direction=d!==void 0?J.fromAngle(d):void 0},get directionAngle(){return this.direction?this.direction.angle():void 0},fieldOfView:n.fieldOfView||200,isWithinFieldOfView(d,y,p){let h=(typeof y=="number"?J.fromAngle(y):y)||o,A=p||n.fieldOfView;if(!h||!A||A>=360)return!0;let T=A/2;return d.pos&&h.angleBetween(d.pos.sub(this.pos))<=T},hasLineOfSight(d){let y=Lh(this.pos,d.pos.sub(this.pos),n.raycastExclude);return y!=null&&y.object===d},update(){if(c+=Et(),c>u){c-=u;let d=s();if(d.length&&o&&this.fieldOfView&&this.fieldOfView<360){let y=this.fieldOfView/2;d=d.filter(p=>p.pos&&o.angleBetween(p.pos.sub(this.pos))<=y)}d.length&&n.lineOfSight&&(d=d.filter(y=>y.pos&&this.hasLineOfSight(y))),d.length>0&&(this.spotted=d,this.trigger("objectSpotted",d))}},onObjectsSpotted(d){return this.on("objectSpotted",d)}}}g(iv,"sentry");function td(i={}){let n=Q(0),s=i.isObstacle??!1,u=i.cost??0,o=i.edges??[],c=g(()=>{let y={left:1,top:2,right:4,bottom:8};return o.map(p=>y[p]||0).reduce((p,h)=>p|h,0)},"getEdgeMask"),d=c();return{id:"tile",tilePosOffset:i.offset??Q(0),set tilePos(y){let p=this.getLevel();n=y.clone(),this.pos=Q(this.tilePos.x*p.tileWidth(),this.tilePos.y*p.tileHeight()).add(this.tilePosOffset)},get tilePos(){return n},set isObstacle(y){s!==y&&(s=y,this.getLevel().invalidateNavigationMap())},get isObstacle(){return s},set cost(y){u!==y&&(u=y,this.getLevel().invalidateNavigationMap())},get cost(){return u},set edges(y){o=y,d=c(),this.getLevel().invalidateNavigationMap()},get edges(){return o},get edgeMask(){return d},getLevel(){return this.parent},tileMove(y){let p=this.getLevel();p.removeFromSpatialMap(this),this.tilePos=this.tilePos.add(y),p.insertIntoSpatialMap(this),p.trigger("spatialMapChanged")},moveLeft(){this.tileMove(Q(-1,0))},moveRight(){this.tileMove(Q(1,0))},moveUp(){this.tileMove(Q(0,-1))},moveDown(){this.tileMove(Q(0,1))}}}g(td,"tile");var Pl,nd=(Pl=class{constructor(n,s,u){L(this,"name");L(this,"duration");L(this,"loops");L(this,"direction");L(this,"easing");L(this,"interpolation");L(this,"isFinished");L(this,"timing");L(this,"easings");L(this,"relative");this.name=n,this.duration=s.duration,this.loops=s.loops||0,this.direction=s.direction||"forward",this.easing=s.easing||fu.linear,this.interpolation=s.interpolation||"linear",this.isFinished=!1,this.timing=s.timing,this.easings=s.easings,this.relative=u}update(n,s){return!0}getLowerKeyIndexAndRelativeTime(n,s,u){let o=s-1,c=n/this.duration;if(this.loops!==0&&c>=this.loops)return[o,0,!0];let d=Math.trunc(c);if(c-=d,(this.direction=="reverse"||this.direction=="ping-pong"&&d&1)&&(c=1-c),u){let y=0;for(;u[y+1]!==void 0&&u[y+1]<c;)y++;return y>=o?[o,0,!0]:[y,(c-u[y])/(u[y+1]-u[y]),!1]}else{let y=Math.floor((s-1)*c);return[y,(c-y/o)*o,!1]}}setValue(n,s,u){if(this.relative)switch(s){case"pos":n.pos=n.base.pos.add(u);break;case"angle":n.angle=n.base.angle+u;break;case"scale":n.scale=n.base.scale.scale(u);break;case"opacity":n.opacity=n.base.opacity*u;break;default:n[s]=u}else n[s]=u}serialize(){let n={duration:this.duration,keys:[]};return this.loops&&(n.loops=this.loops),this.direction!=="forward"&&(n.direction=this.direction),this.easing!=fu.linear&&(n.easing=this.easing.name),this.interpolation!=="linear"&&(n.interpolation=this.interpolation),this.timing&&(n.timing=this.timing),this.easings&&(n.easings=this.easings.map(s=>this.easing.name)),n}},g(Pl,"AnimateChannel"),Pl);function Wf(i,n){return n.add(n.sub(i))}g(Wf,"reflect");var Il,dw=(Il=class extends nd{constructor(s,u,o,c){super(s,o,c);L(this,"keys");this.keys=u}update(s,u){let[o,c,d]=this.getLowerKeyIndexAndRelativeTime(u,this.keys.length,this.timing);if(c==0||this.interpolation==="none")this.setValue(s,this.name,this.keys[o]);else{let y=this.easings?this.easings[o]:this.easing;this.setValue(s,this.name,Qt(this.keys[o],this.keys[o+1],y(c)))}return d}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},g(Il,"AnimateChannelNumber"),Il),Wl,gw=(Wl=class extends nd{constructor(s,u,o,c,d){var y;super(s,o,c);L(this,"keys");L(this,"curves");L(this,"dcurves");if(this.keys=u,this.interpolation==="spline"){this.curves=[],d&&(this.dcurves=[]);for(let p=0;p<this.keys.length-1;p++){let h=this.keys[p],A=p+1,T=this.keys[A],v=p>0?this.keys[p-1]:Wf(T,h),D=A<this.keys.length-1?this.keys[A+1]:Wf(h,T);this.curves.push(ou(v,h,T,D)),d&&((y=this.dcurves)==null||y.push(ou(v,h,T,D,F0)))}}}update(s,u){let[o,c,d]=this.getLowerKeyIndexAndRelativeTime(u,this.keys.length,this.timing);if(c==0||this.interpolation==="none")this.setValue(s,this.name,this.keys[o]);else{let y=this.easings?this.easings[o]:this.easing;switch(this.interpolation){case"linear":this.setValue(s,this.name,this.keys[o].lerp(this.keys[o+1],y(c)));break;case"slerp":this.setValue(s,this.name,this.keys[o].slerp(this.keys[o+1],y(c)));break;case"spline":if(this.curves){this.setValue(s,this.name,this.curves[o](y(c))),this.dcurves&&this.setValue(s,"angle",this.dcurves[o](y(c)).angle());break}}}return d}serialize(){return Object.assign(super.serialize(),{keys:this.keys.map(s=>[s.x,s.y])})}},g(Wl,"AnimateChannelVec2"),Wl),$l,pw=($l=class extends nd{constructor(s,u,o,c){super(s,o,c);L(this,"keys");this.keys=u}update(s,u){let[o,c,d]=this.getLowerKeyIndexAndRelativeTime(u,this.keys.length,this.timing);if(c==0||this.interpolation=="none")this.setValue(s,this.name,this.keys[o]);else{let y=this.easings?this.easings[o]:this.easing;this.setValue(s,this.name,this.keys[o].lerp(this.keys[o+1],y(c)))}return d}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},g($l,"AnimateChannelColor"),$l);function lv(i={}){let n=[],s=0,u=!1;return{id:"animate",require:i.followMotion?["rotate"]:void 0,base:{pos:Q(0,0),angle:0,scale:Q(1,1),opacity:1},animation:{paused:!1,seek(o){s=Hn(o,0,this.duration),n.forEach(c=>{c.isFinished=!1}),u=!1},get duration(){return n.reduce((o,c)=>Math.max(c.duration,o),0)}},add(){i.relative&&(this.has("pos")&&(this.base.pos=this.pos.clone()),this.has("rotate")&&(this.base.angle=this.angle),this.has("scale")&&(this.base.scale=this.scale),this.has("opacity")&&(this.base.opacity=this.opacity))},update(){if(this.animation.paused)return;let o=!0,c;s+=Et();for(let d of n)c=d.update(this,s),c&&!d.isFinished&&(d.isFinished=!0,this.trigger("animateChannelFinished",d.name)),o&&(o=c);o&&!u&&(u=!0,this.trigger("animateFinished"))},animate(o,c,d){u=!1,this.unanimate(o),typeof c[0]=="number"?n.push(new dw(o,c,d,i.relative||!1)):c[0]instanceof J?n.push(new gw(o,c,d,i.relative||!1,o==="pos"&&(i.followMotion||!1))):c[0]instanceof Ce&&n.push(new pw(o,c,d,i.relative||!1))},unanimate(o){let c=n.findIndex(d=>d.name===o);c>=0&&n.splice(c,1)},unanimateAll(){n.splice(0,n.length)},onAnimateFinished(o){return this.on("animateFinished",o)},onAnimateChannelFinished(o){return this.on("animateChannelFinished",o)},serializeAnimationChannels(){return n.reduce((o,c)=>(o[c.name]=c.serialize(),o),{})},serializeAnimationOptions(){let o={};return i.followMotion&&(o.followMotion=!0),i.relative&&(o.relative=!0),o}}}g(lv,"animate");function ad(i,n){let s={name:i.name};return i.has("animate")&&(s.channels=i.serializeAnimationChannels(),Object.assign(s,i.serializeAnimationOptions())),i.children.length>0&&(s.children=i.children.filter(u=>u.has("named")).map(u=>ad(u,u.name))),s}g(ad,"serializeAnimation");function $f(i=2,n=1){let s=0;return{require:["scale"],update(){let u=Math.sin(s*i)*n;u<0&&this.destroy(),this.scale=Q(u),s+=Et()}}}g($f,"boom");function sv(i,n){if(i==null)throw new Error("health() requires the initial amount of hp");return{id:"health",hurt(s=1){this.setHP(i-s),this.trigger("hurt",s)},heal(s=1){let u=i;this.setHP(i+s),this.trigger("heal",i-u)},hp(){return i},maxHP(){return n??null},setMaxHP(s){n=s},setHP(s){i=n?Math.min(n,s):s,i<=0&&this.trigger("death")},onHurt(s){return this.on("hurt",s)},onHeal(s){return this.on("heal",s)},onDeath(s){return this.on("death",s)},inspect(){return`health: ${i}`}}}g(sv,"health");function uv(i,n={}){if(i==null)throw new Error("lifespan() requires time");let s=n.fade??0;return{id:"lifespan",require:["opacity"],add(){w.game.root.wait(i,()=>{this.opacity=this.opacity??1,s>0?w.game.root.tween(this.opacity,0,s,u=>this.opacity=u,fu.linear).onEnd(()=>{this.destroy()}):this.destroy()})}}}g(uv,"lifespan");function rv(i){return{id:"named",name:i}}g(rv,"named");function ov(i,n,s){if(!i)throw new Error("state() requires an initial state");let u={};function o(p){u[p]||(u[p]={enter:new Vt,end:new Vt,update:new Vt,draw:new Vt})}g(o,"initStateEvents");function c(p,h,A){return o(h),u[h][p].add(A)}g(c,"on");function d(p,h,...A){o(h),u[h][p].trigger(...A)}g(d,"trigger");let y=!1;return{id:"state",state:i,enterState(p,...h){if(y=!0,n&&!n.includes(p))throw new Error(`State not found: ${p}`);let A=this.state;if(s){if(!(s!=null&&s[A]))return;let T=typeof s[A]=="string"?[s[A]]:s[A];if(!T.includes(p))throw new Error(`Cannot transition state from "${A}" to "${p}". Available transitions: ${T.map(v=>`"${v}"`).join(", ")}`)}d("end",A,...h),this.state=p,d("enter",p,...h),d("enter",`${A} -> ${p}`,...h)},onStateTransition(p,h,A){return c("enter",`${p} -> ${h}`,A)},onStateEnter(p,h){return c("enter",p,h)},onStateUpdate(p,h){return c("update",p,h)},onStateDraw(p,h){return c("draw",p,h)},onStateEnd(p,h){return c("end",p,h)},update(){y||(d("enter",i),y=!0),d("update",this.state)},draw(){d("draw",this.state)},inspect(){return`state: ${this.state}`}}}g(ov,"state");function id(i){return{id:"stay",stay:!0,scenesToStay:i}}g(id,"stay");function cv(i=!0,n){let s,u;return{id:"textInput",hasFocus:i,require:["text"],typedText:"",add(){let o=g(()=>{this.text=this.typedText.replace(/([\[\\])/g,"\\$1")},"flip");s=w.k.onCharInput(c=>{this.hasFocus&&(!n||this.typedText.length<n)&&(w.k.isKeyDown("shift")?this.typedText+=c.toUpperCase():this.typedText+=c,o())}),u=w.k.onKeyPressRepeat("backspace",()=>{this.hasFocus&&(this.typedText=this.typedText.slice(0,-1)),o()})},destroy(){s.cancel(),u.cancel()}}}g(cv,"textInput");function to(i=1e3){return{id:"timer",maxLoopsPerFrame:i,loop(n,s,u=-1,o=!1){let c=o?0:n,d=new Vt,y=this.onUpdate(()=>{c+=w.app.state.dt;for(let p=0;c>=n&&p<this.maxLoopsPerFrame;p++){if(u!=-1&&(u--,u<0)){y.cancel(),d.trigger();return}s(),c-=n}});return{get paused(){return y.paused},set paused(p){y.paused=p},cancel:y.cancel,onEnd:d.add,then(p){return d.add(p),this}}},wait(n,s){return this.loop(n,s??(()=>{}),1,!0)},tween(n,s,u,o,c=fu.linear){let d=0,y=[],p=this.onUpdate(()=>{d+=w.app.state.dt;let h=Math.min(d/u,1);o(Qt(n,s,c(h))),h===1&&(p.cancel(),o(s),y.forEach(A=>A()))});return{get paused(){return p.paused},set paused(h){p.paused=h},onEnd(h){y.push(h)},then(h){return this.onEnd(h),this},cancel(){p.cancel()},finish(){p.cancel(),o(s),y.forEach(h=>h())}}}}}g(to,"timer");var eh=0;function fv(){return eh>0}g(fv,"usesArea");function hv(i={}){let n={},s=new Set,u=[];return{id:"area",collisionIgnore:i.collisionIgnore??[],add(){eh++,this.area.cursor&&u.push(this.onHover(()=>w.app.setCursor(this.area.cursor))),u.push(this.onCollideUpdate((o,c)=>{if(!o.id)throw new Error("area() requires the object to have an id");n[o.id]||this.trigger("collide",o,c),c&&(n[o.id]=c,s.add(o.id))}))},destroy(){eh--;for(let o of u)o.cancel()},fixedUpdate(){for(let o in n)s.has(Number(o))||(this.trigger("collideEnd",n[o].target),delete n[o]);s.clear()},drawInspect(){let o=this.localArea();ln(),it(this.area.offset);let c={outline:{width:4/wh(),color:Ye(0,0,255)},anchor:this.anchor,fill:!1,fixed:Xa(this)};o instanceof tt?un({...c,pos:o.pos,width:o.width*this.area.scale.x,height:o.height*this.area.scale.y}):o instanceof Kt?ha({...c,pts:o.pts,scale:this.area.scale}):o instanceof rn&&Ui({...c,pos:o.center,radius:o.radius}),Xt()},area:{shape:i.shape??null,scale:i.scale?Q(i.scale):Q(1),offset:i.offset??Q(0),cursor:i.cursor??null},isClicked(){return w.app.isMousePressed()&&this.isHovering()},isHovering(){let o=Xa(this)?w.k.mousePos():w.k.toWorld(w.k.mousePos());return this.hasPoint(o)},checkCollision(o){if(!o.id)throw new Error("checkCollision() requires the object to have an id");return n[o.id]??null},getCollisions(){return Object.values(n)},isColliding(o){if(!o.id)throw new Error("isColliding() requires the object to have an id");return!!n[o.id]},isOverlapping(o){if(!o.id)throw new Error("isOverlapping() requires the object to have an id");let c=n[o.id];return c&&c.hasOverlap()},onClick(o,c="left"){let d=w.app.onMousePress(c,()=>{this.isHovering()&&o()});return u.push(d),d},onHover(o){let c=!1;return this.onUpdate(()=>{c?c=this.isHovering():this.isHovering()&&(c=!0,o())})},onHoverUpdate(o){return this.onUpdate(()=>{this.isHovering()&&o()})},onHoverEnd(o){let c=!1;return this.onUpdate(()=>{c?this.isHovering()||(c=!1,o()):c=this.isHovering()})},onCollide(o,c){if(typeof o=="function"&&c===void 0)return this.on("collide",o);if(typeof o=="string")return this.onCollide((d,y)=>{d.is(o)&&(c==null||c(d,y))});throw new Error("onCollide() requires either a function or a tag")},onCollideUpdate(o,c){if(typeof o=="function"&&c===void 0)return this.on("collideUpdate",o);if(typeof o=="string")return this.on("collideUpdate",(d,y)=>d.is(o)&&(c==null?void 0:c(d,y)));throw new Error("onCollideUpdate() requires either a function or a tag")},onCollideEnd(o,c){if(typeof o=="function"&&c===void 0)return this.on("collideEnd",o);if(typeof o=="string")return this.on("collideEnd",d=>d.is(o)&&(c==null?void 0:c(d)));throw new Error("onCollideEnd() requires either a function or a tag")},hasPoint(o){return da(this.worldArea(),o)},resolveCollision(o){let c=this.checkCollision(o);c&&!c.resolved&&(this.pos=this.pos.add(c.displacement),c.resolved=!0)},localArea(){return this.area.shape?this.area.shape:this.renderArea()},worldArea(){let o=this.localArea();if(!(o instanceof Kt||o instanceof tt))throw new Error("Only support polygon and rect shapes for now");let c=this.transform.clone().translate(this.area.offset).scale(Q(this.area.scale??1));if(o instanceof tt){let d=Ci(this.anchor||fo).add(1,1).scale(-.5).scale(o.width,o.height);c.translate(d)}return o.transform(c)},screenArea(){let o=this.worldArea();return Xa(this)?o:o.transform(w.game.cam.transform)},inspect(){var o,c,d,y,p,h,A;return((o=this.area.scale)==null?void 0:o.x)==((c=this.area.scale)==null?void 0:c.y)?`area: ${(y=(d=this.area.scale)==null?void 0:d.x)==null?void 0:y.toFixed(1)}x`:`area: (${(h=(p=this.area.scale)==null?void 0:p.x)==null?void 0:h.toFixed(1)}x, ${(A=this.area.scale.y)==null?void 0:A.toFixed(1)}y)`}}}g(hv,"area");function dv(i={}){let n=null,s=null,u=!1,o=Q(0),c=null,d=null,y;return{id:"body",require:["pos"],vel:Q(0),drag:i.drag??0,jumpForce:i.jumpForce??b2,gravityScale:i.gravityScale??1,isStatic:i.isStatic??!1,mass:i.mass??1,add(){if(c=this.pos.clone(),d=this.pos.clone(),y=this.pos.clone(),this.mass===0)throw new Error("Can't set body mass to 0");this.has("area")&&(this.onCollideUpdate((p,h)=>{if(!h||!p.has("body")||h.resolved)return;this.trigger("beforePhysicsResolve",h);let A=h.reverse();if(p.trigger("beforePhysicsResolve",A),!(h.resolved||A.resolved)&&!(this.isStatic&&p.isStatic)){if(!this.isStatic&&!p.isStatic){let T=this.mass+p.mass;this.pos=this.pos.add(h.displacement.scale(p.mass/T)),p.pos=p.pos.add(h.displacement.scale(-this.mass/T)),this.transform=Dl(this),p.transform=Dl(p)}else{let T=!this.isStatic&&p.isStatic?h:h.reverse();T.source.pos=T.source.pos.add(T.displacement),T.source.transform=Dl(T.source)}h.resolved=!0,this.trigger("physicsResolve",h),p.trigger("physicsResolve",h.reverse())}}),this.onPhysicsResolve(p=>{if(w.game.gravity)if(p.isBottom()&&this.isFalling()){this.vel=this.vel.reject(w.game.gravity.unit());let h=n;n=p.target,h!=n&&(s=p.target.pos),u?u=!1:h||(this.trigger("ground",n),p.target.trigger("land",this))}else p.isTop()&&this.isJumping()&&(this.vel=this.vel.reject(w.game.gravity.unit()),this.trigger("headbutt",p.target),p.target.trigger("headbutted",this))}))},update(){n&&this.isColliding(n)&&n.exists()&&n.has("body")&&(s&&!n.pos.eq(s)&&i.stickToPlatform!==!1&&this.moveBy(n.pos.sub(s)),s=n.pos);let p=Fr();p&&(this.pos.x==y.x&&(this.pos.x=Qt(c.x,d.x,p/kr()),y.x=this.pos.x),this.pos.y==y.y&&(this.pos.y=Qt(c.y,d.y,p/kr()),y.y=this.pos.y))},fixedUpdate(){if(c&&(this.pos.x==y.x&&(this.pos.x=c.x),this.pos.y==y.y&&(this.pos.y=c.y),c=null),w.game.gravity&&!this.isStatic){u&&(n=null,s=null,this.trigger("fallOff"),u=!1),n&&(!this.isColliding(n)||!n.exists()||!n.has("body"))&&(u=!0);let p=this.vel.clone();this.vel=this.vel.add(w.game.gravity.scale(this.gravityScale*Et()));let h=i.maxVelocity??w2;this.vel.slen()>h*h&&(this.vel=this.vel.unit().scale(h)),p.dot(w.game.gravity)<0&&this.vel.dot(w.game.gravity)>=0&&this.trigger("fall")}if(this.vel.x+=o.x*Et(),this.vel.y+=o.y*Et(),this.vel.x*=1-this.drag*Et(),this.vel.y*=1-this.drag*Et(),this.move(this.vel),Fr()){c=this.pos.clone();let p=this.vel.add(o.scale(Et()));d=this.pos.add(p.scale(Et())),y=this.pos.clone()}o.x=0,o.y=0},onPhysicsResolve(p){return this.on("physicsResolve",p)},onBeforePhysicsResolve(p){return this.on("beforePhysicsResolve",p)},curPlatform(){return n},isGrounded(){return n!==null},isFalling(){return this.vel.dot(Bl())>0},isJumping(){return this.vel.dot(Bl())<0},applyImpulse(p){this.isStatic||(this.vel=this.vel.add(p))},addForce(p){this.isStatic||(o.x+=p.x/this.mass,o.y+=p.y/this.mass)},jump(p){this.isStatic||(n=null,s=null,this.vel=Bl().scale(-p||-this.jumpForce))},onGround(p){return this.on("ground",p)},onFall(p){return this.on("fall",p)},onFallOff(p){return this.on("fallOff",p)},onHeadbutt(p){return this.on("headbutt",p)},onLand(p){return this.on("land",p)},onHeadbutted(p){return this.on("headbutted",p)},inspect(){return`gravityScale: ${this.gravityScale}x`}}}g(dv,"body");function gv(i=2){let n=i;return{id:"doubleJump",require:["body"],numJumps:i,add(){this.onGround(()=>{n=this.numJumps})},doubleJump(s){n<=0||(n<this.numJumps&&this.trigger("doubleJump"),n--,this.jump(s))},onDoubleJump(s){return this.on("doubleJump",s)},inspect(){return`jumpsLeft: ${n}`}}}g(gv,"doubleJump");function pv(i){return{id:"surfaceEffector",require:["area"],speed:i.speed,speedVariation:i.speedVariation??0,forceScale:i.speedVariation??.9,add(){this.onCollideUpdate("body",(n,s)=>{var d;let u=s==null?void 0:s.normal.normal(),o=n.vel.project(u),c=(d=u==null?void 0:u.scale(this.speed))==null?void 0:d.sub(o);n.addForce(c==null?void 0:c.scale(n.mass*this.forceScale))})}}}g(pv,"surfaceEffector");function mv(i){return{id:"areaEffector",require:["area"],useGlobalAngle:i.useGlobalAngle||!1,forceAngle:i.forceAngle,forceMagnitude:i.forceMagnitude,forceVariation:i.forceVariation??0,linearDrag:i.linearDrag??0,add(){this.onCollideUpdate("body",(n,s)=>{if(!n.has("body"))return;let u=J.fromAngle(this.forceAngle).scale(this.forceMagnitude);n.addForce(u),this.linearDrag&&n.addForce(n.vel.scale(-this.linearDrag))})}}}g(mv,"areaEffector");function yv(i){return{id:"pointEffector",require:["area","pos"],forceMagnitude:i.forceMagnitude,forceVariation:i.forceVariation??0,distanceScale:i.distanceScale??1,forceMode:i.forceMode||"inverseLinear",linearDrag:i.linearDrag??0,add(){this.onCollideUpdate("body",(n,s)=>{let u=this.pos.sub(n.pos),o=u.len(),c=o*this.distanceScale/10,d=this.forceMode==="constant"?1:this.forceMode==="inverseLinear"?1/c:1/c**2,y=u.scale(this.forceMagnitude*d/o);n.addForce(y),this.linearDrag&&n.addForce(n.vel.scale(-this.linearDrag))})}}}g(yv,"pointEffector");function vv(i){return{id:"constantForce",require:["body"],force:i.force,update(){this.force&&this.addForce(this.force)}}}g(vv,"constantForce");function Av(i){return{id:"platformEffector",require:["area","body"],surfaceArc:i.surfaceArc??180,useOneWay:i.useOneWay??!1,add(){this.onBeforePhysicsResolve(n=>{let s=n.target.vel,u=Bl().scale(-1).angleBetween(s);Math.abs(u)>this.surfaceArc/2&&n.preventResolution()})}}}g(Av,"platformEffector");function bv(i){return{id:"buoyancyEffector",require:["area"],surfaceLevel:i.surfaceLevel,density:i.density??1,linearDrag:i.linearDrag??1,angularDrag:i.angularDrag??.2,flowAngle:i.flowAngle??0,flowMagnitude:i.flowMagnitude??0,flowVariation:i.flowVariation??0,add(){this.onCollideUpdate("body",(n,s)=>{let u=n,o=u.worldArea(),[c,d]=o.cut(Q(-100,this.surfaceLevel),Q(100,this.surfaceLevel));c&&(this.applyBuoyancy(u,c),this.applyDrag(u,c)),this.flowMagnitude&&u.addForce(J.fromAngle(this.flowAngle).scale(this.flowMagnitude))})},applyBuoyancy(n,s){let u=this.density*s.area(),o=Q(0,1).scale(-u);n.addForce(o)},applyDrag(n,s){let u=n.vel,o=this.density*this.linearDrag,c=u.scale(-o);n.addForce(c)}}}g(bv,"buoyancyEffector");function no(i){if(!i)throw new Error("Please define an anchor");return{id:"anchor",anchor:i,inspect(){return typeof this.anchor=="string"?"anchor: "+this.anchor:"anchor: "+this.anchor.toString()}}}g(no,"anchor");function ld(){return{id:"fixed",fixed:!0}}g(ld,"fixed");function wv(i,n){return{id:"follow",require:["pos"],follow:{obj:i,offset:n??Q(0)},add(){i.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))},update(){i.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))}}}g(wv,"follow");function xv(i){var s;let n=(s=w.game.layers)==null?void 0:s.indexOf(i);return{id:"layer",get layerIndex(){return n??null},get layer(){var u;return n?((u=w.game.layers)==null?void 0:u[n])??null:null},set layer(u){var o;if(n=(o=w.game.layers)==null?void 0:o.indexOf(u),n==-1)throw Error("Invalid layer name")},inspect(){return`layer: ${this.layer}`}}}g(xv,"layer");function Sv(i,n){let s=typeof i=="number"?J.fromAngle(i):i.unit();return{id:"move",require:["pos"],update(){this.move(s.scale(n))}}}g(Sv,"move");function Ev(i={}){let n=i.distance??A2,s=!1;return{id:"offscreen",require:["pos"],isOffScreen(){let u=this.screenPos();if(!u)return!1;let o=new tt(Q(0),qt(),Ct());return!vu(o,u)&&o.sdistToPoint(u)>n*n},onExitScreen(u){return this.on("exitView",u)},onEnterScreen(u){return this.on("enterView",u)},update(){this.isOffScreen()?(s||(this.trigger("exitView"),s=!0),i.hide&&(this.hidden=!0),i.pause&&(this.paused=!0),i.destroy&&this.destroy()):(s&&(this.trigger("enterView"),s=!1),i.hide&&(this.hidden=!1),i.pause&&(this.paused=!1))}}}g(Ev,"offscreen");function pu(...i){return{id:"pos",pos:Q(...i),moveBy(...n){this.pos=this.pos.add(Q(...n))},move(...n){this.moveBy(Q(...n).scale(Et()))},moveTo(...n){if(typeof n[0]=="number"&&typeof n[1]=="number")return this.moveTo(Q(n[0],n[1]),n[2]);let s=n[0],u=n[1];if(u===void 0){this.pos=Q(s);return}let o=s.sub(this.pos);if(o.len()<=u*Et()){this.pos=Q(s);return}this.move(o.unit().scale(u))},worldPos(n=null){return n?(this.pos=this.pos.add(this.fromWorld(n)),null):this.parent?this.parent.transform.multVec2(this.pos):this.pos},toWorld(n){return this.parent?this.parent.transform.multVec2(this.pos.add(n)):this.pos.add(n)},fromWorld(n){return this.parent?this.parent.transform.invert().multVec2(n).sub(this.pos):n.sub(this.pos)},screenPos(n=null){if(n)return this.pos=this.pos.add(this.fromScreen(n)),null;{let s=this.worldPos();return s?Xa(this)?s:$r(s):null}},toScreen(n){let s=this.toWorld(n);return Xa(this)?s:$r(s)},fromScreen(n){return Xa(this)?this.fromWorld(n):this.fromWorld(Fh(n))},toOther(n,s){return n.fromWorld(this.toWorld(s))},fromOther(n,s){return n.toOther(this,s)},inspect(){return`pos: (${Math.round(this.pos.x)}x, ${Math.round(this.pos.y)}y)`},drawInspect(){Ui({color:Ye(255,0,0),radius:4/wh()})}}}g(pu,"pos");function Mv(i){return{id:"rotate",angle:i??0,rotateBy(n){this.angle+=n},rotateTo(n){this.angle=n},inspect(){return`angle: ${Math.round(this.angle)}`}}}g(Mv,"rotate");function mu(...i){if(i.length===0)return mu(1);let n=Q(...i);return{id:"scale",set scale(s){if(!(s instanceof J))throw Error("The scale property on scale is a vector. Use scaleTo or scaleBy to set the scale with a number.");n=Q(s)},get scale(){return n},scaleTo(...s){n=Q(...s)},scaleBy(...s){n=n.scale(Q(...s))},inspect(){return n.x==n.y?`scale: ${n.x.toFixed(1)}x`:`scale: (${n.x.toFixed(1)}x, ${n.y.toFixed(1)}y)`}}}g(mu,"scale");function Tv(i){return{id:"z",z:i,inspect(){return`z: ${this.z}`}}}g(Tv,"z");var mw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABqxJREFUeJztnU1yFDkQRtMEB+AG7Fk6fBPO6ZsQLGc/N5gbMAtosJvqKv2kpPxS763A0W5XSXqVqZ+SngzgF58/fflx/7N///vnacW1gBkFD2Z2LOYNBF3Dx9UXAGs5kxLWwhNxU2qlJHrOhwLfkNZoiaBzIa3dCFJYLXgSboKXmETPeVDQyamR8vX55fe/v37/9vBzCDoH0tqktEpZ+t0IOh4KOBm16euZmETPtVDAiRgRLRF0HRRuEkrFrE1hzR4Lipxj+bD6AqCPz5++/Bgp5tXfdv1CeAdPPmFmSkn0nE+a0drdFm6XiOkdKWEuKRptTXqlLuqqFNaM6Dkb+T5nbb+npo8WjZVinqFantFJk9bWojaRThq7HzKN8wiPJ7aCoJHEZN5zHvJp7RE1DTV6SnZ1fa/PL1MjJtF5HmnT2tJF3GZ/BIj05I8ULUtR6ypER7ogjxpw61rRGxEal4KYjNyORzatbUlHSxr06tFcBTHPiN5NUEJWzlZKG/aKRqYk5tl1IKgPafucZ7w+vxSluLP6olHnL6MQQfYV6bpk/+BRZXm+cXHEiApSipZHlE6tRBDMkxmyysl5VsmtjXiFoJmiZU35ZWK0oNv1OY+omSv0GDDKJCaMI42cHg25dvFCi6QZxVS6ViVSpLUz38A4oiS9ySjlW2althGWKZrN6XNuOVpbwq0ReIzqZhfTrHwE/PZZuEYqcnqO0tZQGxVqRylprLGIEDXNkLOKEakbYsYiiphmiQaEZuD9BghixiKSmGYJIueqBt4TRZEyHtHENCNyNtMaRREzHhHFNBOKnKv7myVcVXKka4WfRBXTjMjpypl8iBmP6MsOmed0Bgk1UHjxXlpORIAWIqeybyGtha1QEdNMRM5s7wLCGpTENBORE6AXNTHNkBM2QFFMM4F5ToX5TYiLqphmRE7YmMhimiEnJEb9XBdJOUlp4Qp1Mc1E5QQ4I/qyvFJCy8n8JnijEjXNAi3fQ0TwIEM6e2OqnAgII8kkptkgOZEQZlN6BquZjqhVFxlBOkZq4Z6WASAFQQ8jZwQJ70FK8CTiaeb3fDSLJyMiwiwiS/q0SkwEBE+85jYjSTpcTiSE2WQRtVlOpAMVemVdtjXmlZxICFlQk/TJjHcmYS96JJ0p6KmcZggKeWmVdPopYwgKuxJVUuQE+EU0Sd99KYICxJH0ry9DUIA/rFy3WyWnGYLCnqyQ9PCXERTgmJmSPvwlBAU4p1bUWklPP1yytA9JYWdGRtLLDyEowDUjomiRwQgKUIZnJC3OgREUoByPSDpkDyEkBfhJj6RNQ7xEUYA6aiS9Cdo8SUoUBaijVtCuFQwICtBGiajdawARFKCNK0HdVtEjKUAd0+Q0q9v/FklhJ1rmP4e8JEoUBejfq2jYNgtEUdgJzwN7u6dSSkBQyMSME7O7FyHUQpoLCqw8rv5o+d6Uw3NvfzjagUkAZvOlLH1lLMyx8wCzWBEhW3ZDmLZ7NTsrwCpmyui5A1+IPidigjcjhZy14/vytBYxwRsPMVcf/2c2QU72wQUVIgj5lqFyIiZEJ5qQb1me1gLMJLKM93wY9cVETYiGkphmg+RETFhJljY2LHICQB/uchI1AXxwlRMxAfwgrYVtUHvxwk1OoiaAL8MjJ2ICtOEip1q6APnJEBS6VwiRzp4vtM5YBvf3m/EeI8DyvUZK33z4+v1bqsZ7dN+3n2W6zwgMO44hY0X1vIqkXh419x7lXh9ds8oyviFyRqmcXrxf2FUtF89ymFkG6nI2p7WZB4FGvUWfLcVt4ahsdy+TR7ifz6lc0F5v0GfalmXldpE3esrr6PrTR84sjNjS4kpQhQhaUi4lD6KR1xK9DHupfoKoR02vSFDy9FWNoKVivv1/lG7OfZkqR043OZUbWgmtFaomaGl51ZTHCnFv5bqNnFGjZvRtEFUEHSHmI1ZHWgVBXZ5+sxvX7ANlPChpjKsknSllKaPlRU4nZo0Yjq6wiIJGFPMML2mj3M8ZRRe4QkzF6FhCJEFbBn4i0iKswn11yenZiLLKeMRqQdWiZSmlkqrcV9d0gPfksAcqBW+2ZqAoq5gZGSrnTtGwlVmCIqUepxWxerj7iIyNZ7SgiKmJhJw7NJpRgiKmLuHl3KnReA4UIaU+y+WkcbzHQ1DEzMGQ9aJH0BDK6RE0y9wlTDp2HuppERQxc0FFBaZGUMTMB5UlQG/fHyk1odJEaBUUMXWh4oSoFRQxtaHyxMi2uBseQwUKciUoYuaAShTlkaCImQcqUph7QREzF/8DSS/2GZ2/N/sAAAAASUVORK5CYII=",yw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABdRJREFUeJzt3d3N3TYMgGG16ADdoAhyl7UyV9bqXRB0g2zQXgRGDcOWSIoUaX3vAwQBknMk/4gWLcnHrQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACDEb9kb8FH99eeXf6Wf/efn35ynDyj1pEsb6G6NUxOYZ7sdB/QtPdnWRnn29gbKMYDUspPs0SgPb22cHANo/JG9AZF6wWBp3JLgeir36bvff3x9LOvzp2/dbSFA97bk5I4a9VMD7TXOUcP0uJ+d6emu5d6V1QvMs5nj8FZPx37X/b2TFpzShtnafeP0DipJMFnLnN3/w1OQ7tZgP+pA4VVKcHo0TG36KNULKGt5XsHZmi1APS5WM2Vqg0i7vbsG6YcIznN9vRTxXHavgdxtv6Tc3vc1pAHqdaG6ipwKYprpf1sFp6aH0gRTrxxLubPB2avHu+c/l3mICvqnsr//+Cq+qGrK1Xw/wzbBaRkNvSv3yew9cq+cu89L6nu6F/cMzCgzF1ftANlbe+Otp1IkDVxyVfbo6Z481f3507dhvXfbrk3HpdtjKTNqKuio8678c7mzF6ns6arfMyrVNoA75wMfNU2hKSeCx3Fq7dc+SPfDc39H9Vqn2CT//4bsYeT1PecOJyGSJdh6PZOlbElPZz2PHtlD1cUeS4LT4z5IOihwfNaD5ERm9qxH/dZ7Vmt9M999CtCZbdLUP/p3r2zFQ0paG8lr4Eb6+ZWBcSeq/qhyK6bXUfXOSgtO7/tOb9eT1NveqKttpYbiyXu/euV51JV16/T6e86zyF5TUp731V5Sp+Z7M71h9QvFNWWuvr0Sy4LzLfNvrel6zRX1e+hN2VzrnNlfaYD0xhCs++851lDh3vNV95xe6YvHgb8bwbNcuc+f09wbaUj2dzYgjz93//5kh94t0quCM8OKK6glKKuM0EYHfhUZWd8WwenZa0rLsp6s2YY66o0k9WUvS4NManBaGuo1eDIHgUZ1ePdkntsfFaCz5VZJdStsxyt7ziMNXHEAK5yk1mqmhrMPf1fcp57Vqe3SqZTMEduZhqAZyaywFne0DVHngHTZ11bznE88l/1lBZ9meP8851plWkBCO7drmQvWnL/sY/fKtFaqN3iy6iofsQxNktJnTMgfPXJUz3w3VaP5vOQ7Iyszvy2DczSi+aYFET2jINUEqFcAS4+rV480WlwRWXe07dLa0YGvfl9kmbTvPZJ1TXGvn4t4yuRp+2aMgk27wkm63DIztU3vOVfueC8wK4zKWtK0M+nvJXmOdlt65MgFFCva06qsKz044SvjIiN5TjLaaHxhtNyyouXBGZ1WSn66Ivt+M7pRZAWoZsDq+t2emeM1am/WtHxFG9runrO1/n1CxLK7CilxJM/H4bwuTJJBvWtgvm0gcNu01uvpd8la1soLE7xkpYDea4Ot6W3GOSzRc3o/qHw2M9qmXWA+uw+jbd0hyO9Yz0+vJ9QGcO/8ZV2YUqYVPN8dImXp3aJ/w1XTGGYfKZN+P7IXiXqO1uINLzFOm/Pz+BV4C03PNEqpZl//ELXP1ro8nhLyKLPHMyAiXyvh4cMFZ2uyAJXc62gzgJl1nhrSLMEzcLx+5qQnIhgqv6qhTHC2Zmus1tUuowCVDkRU6j0jgiJqhLPSSq2q7wMtMSBkdbcQWjNCq2nMlRrTnajAPP/t+c5Sj3K8VNueQ+pGzaa2MyOb2sZseW2dpL6ZnjMzfeQFt/Fe3XP2WIfGvRY6a569jCJ9TaIlcCS9KQE5p1TP2VrMbwLNDlZEvpE5AkGxh9f2nLO/QOetytIwAnMf6SfS2ns+jaZ6B4i2sWvSvF0HWOAj/aRGNFAaPXbw2rS2Rzr0T/ChshKNM3qd4135BCaqK9VAKy+lAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4DBC0k0jFtF9wAAAAASUVORK5CYII=",vw="3001.0.0",w={k:null,globalOpt:null,gfx:null,game:null,app:null,assets:null,fontCacheCanvas:null,fontCacheC2d:null,debug:null,audio:null,pixelDensity:null,canvas:null,gscale:null,kaSprite:null,boomSprite:null},Aw=g((i={tagsAsComponents:!0})=>{w.k&&(console.warn("KAPLAY already initialized, you are calling kaplay() multiple times, it may lead bugs!"),w.k.quit()),w.globalOpt=i;let n=i.root??document.body;n===document.body&&(document.body.style.width="100%",document.body.style.height="100%",document.body.style.margin="0px",document.documentElement.style.width="100%",document.documentElement.style.height="100%");let s=i.canvas??n.appendChild(document.createElement("canvas"));w.canvas=s;let u=i.scale??1;w.gscale=u;let o=i.width&&i.height&&!i.stretch&&!i.letterbox;o?(s.width=i.width*u,s.height=i.height*u):(s.width=s.parentElement.offsetWidth,s.height=s.parentElement.offsetHeight);let c=["outline: none","cursor: default"];if(o){let he=s.width,xe=s.height;c.push(`width: ${he}px`),c.push(`height: ${xe}px`)}else c.push("width: 100%"),c.push("height: 100%");i.crisp&&(c.push("image-rendering: pixelated"),c.push("image-rendering: crisp-edges")),s.style.cssText=c.join(";");let d=i.pixelDensity||1;w.pixelDensity=d,s.width*=d,s.height*=d,s.tabIndex=0;let y=document.createElement("canvas");y.width=256,y.height=256,w.fontCacheCanvas=y;let p=y.getContext("2d",{willReadFrequently:!0});w.fontCacheC2d=p;let h=N2({canvas:s,touchToMouse:i.touchToMouse,gamepads:i.gamepads,pixelDensity:i.pixelDensity,maxFPS:i.maxFPS,buttons:i.buttons});w.app=h;let A=[],T=h.canvas.getContext("webgl",{antialias:!0,depth:!0,stencil:!0,alpha:!0,preserveDrawingBuffer:!0});if(!T)throw new Error("WebGL not supported");let v=T,D=a1(v,{texFilter:i.texFilter}),E=$2(i,D);w.gfx=E;let U=hw();w.audio=U;let x=J2(D,i.spriteAtlasPadding??0);w.assets=x;let S=cw();w.game=S,S.root.use(to());function H(he,xe){let Me=new Pr(D,he,xe);return{clear:g(()=>Me.clear(),"clear"),free:g(()=>Me.free(),"free"),toDataURL:g(()=>Me.toDataURL(),"toDataURL"),toImageData:g(()=>Me.toImageData(),"toImageData"),width:Me.width,height:Me.height,draw:g(Be=>{sn(),Me.bind(),Be(),sn(),Me.unbind()},"draw"),get fb(){return Me}}}g(H,"makeCanvas");function X(){v.clear(v.COLOR_BUFFER_BIT),E.frameBuffer.bind(),v.clear(v.COLOR_BUFFER_BIT),E.bgColor||ca(()=>{ts({width:qt(),height:Ct(),quad:new lt(0,0,qt()/64,Ct()/64),tex:E.bgTex,fixed:!0})}),E.renderer.numDraws=0,E.fixed=!1,E.transformStack.length=0,E.transform=new Fn}g(X,"frameStart");function ae(he,xe){E.postShader=he,E.postShaderUniform=xe??null}g(ae,"usePostEffect");function k(){sn(),E.lastDrawCalls=E.renderer.numDraws,E.frameBuffer.unbind(),v.viewport(0,0,v.drawingBufferWidth,v.drawingBufferHeight);let he=E.width,xe=E.height;E.width=v.drawingBufferWidth/d,E.height=v.drawingBufferHeight/d,gu({flipY:!0,tex:E.frameBuffer.tex,pos:new J(E.viewport.x,E.viewport.y),width:E.viewport.width,height:E.viewport.height,shader:E.postShader,uniform:typeof E.postShaderUniform=="function"?E.postShaderUniform():E.postShaderUniform,fixed:!0}),sn(),E.width=he,E.height=xe}g(k,"frameEnd");let q=!1,B={inspect:!1,set timeScale(he){w.app.state.timeScale=he},get timeScale(){return w.app.state.timeScale},showLog:!0,fps:g(()=>h.fps(),"fps"),numFrames:g(()=>h.numFrames(),"numFrames"),stepFrame:ce,drawCalls:g(()=>E.lastDrawCalls,"drawCalls"),clearLog:g(()=>S.logs=[],"clearLog"),log:g((...he)=>{let xe=i.logMax??8,Me=he.length>1?he.concat(" ").join(" "):he[0];S.logs.unshift({msg:Me,time:h.time()}),S.logs.length>xe&&(S.logs=S.logs.slice(0,xe))},"log"),error:g(he=>B.log(new Error(he.toString?he.toString():he)),"error"),curRecording:null,numObjects:g(()=>_("*",{recursive:!0}).length,"numObjects"),get paused(){return q},set paused(he){q=he,he?U.ctx.suspend():U.ctx.resume()}};w.debug=B;function N(he,xe){try{return JSON.parse(window.localStorage[he])}catch{return xe?(K(he,xe),xe):null}}g(N,"getData");function K(he,xe){window.localStorage[he]=JSON.stringify(xe)}g(K,"setData");function ne(he,...xe){let Me=he(Ut),Be;typeof Me=="function"?Be=Me(...xe)(Ut):Be=Me;for(let st in Be)Ut[st]=Be[st],i.global!==!1&&(window[st]=Be[st]);return Ut}g(ne,"plug");function ie(he){let xe=h.canvas.captureStream(he),Me=U.ctx.createMediaStreamDestination();U.masterNode.connect(Me);let Be=new MediaRecorder(xe),st=[];return Be.ondataavailable=ze=>{ze.data.size>0&&st.push(ze.data)},Be.onerror=()=>{U.masterNode.disconnect(Me),xe.getTracks().forEach(ze=>ze.stop())},Be.start(),{resume(){Be.resume()},pause(){Be.pause()},stop(){return Be.stop(),U.masterNode.disconnect(Me),xe.getTracks().forEach(ze=>ze.stop()),new Promise(ze=>{Be.onstop=()=>{ze(new Blob(st,{type:"video/mp4"}))}})},download(ze="kaboom.mp4"){this.stop().then(yt=>Kf(ze,yt))}}}g(ie,"record");function se(){return document.activeElement===h.canvas}g(se,"isFocused");let ge=S.root.add.bind(S.root),ve=S.root.readd.bind(S.root),me=S.root.removeAll.bind(S.root),_=S.root.get.bind(S.root),$=S.root.wait.bind(S.root),ue=S.root.loop.bind(S.root),fe=S.root.query.bind(S.root),M=S.root.tween.bind(S.root),F=Ol(null,yw),ee=Ol(null,mw);w.kaSprite=F,w.boomSprite=ee;function le(){S.root.fixedUpdate()}g(le,"fixedUpdateFrame");function ce(){S.root.update()}g(ce,"updateFrame");const Sn=class Sn{constructor(xe,Me,Be,st,ze=!1){L(this,"source");L(this,"target");L(this,"normal");L(this,"distance");L(this,"resolved",!1);this.source=xe,this.target=Me,this.normal=Be,this.distance=st,this.resolved=ze}get displacement(){return this.normal.scale(this.distance)}reverse(){return new Sn(this.target,this.source,this.normal.scale(-1),this.distance,this.resolved)}hasOverlap(){return!this.displacement.isZero()}isLeft(){return this.displacement.cross(S.gravity||Q(0,1))>0}isRight(){return this.displacement.cross(S.gravity||Q(0,1))<0}isTop(){return this.displacement.dot(S.gravity||Q(0,1))>0}isBottom(){return this.displacement.dot(S.gravity||Q(0,1))<0}preventResolution(){this.resolved=!0}};g(Sn,"Collision");let Te=Sn;function Ae(){if(!fv())return;let he={},xe=i.hashGridSize||64,Me=new Fn,Be=[];function st(ze){if(Be.push(Me.clone()),ze.pos&&Me.translate(ze.pos),ze.scale&&Me.scale(ze.scale),ze.angle&&Me.rotate(ze.angle),ze.transform=Me.clone(),ze.c("area")&&!ze.paused){let yt=ze,Jt=yt.worldArea().bbox(),is=Math.floor(Jt.pos.x/xe),zi=Math.floor(Jt.pos.y/xe),Ni=Math.ceil((Jt.pos.x+Jt.width)/xe),Hi=Math.ceil((Jt.pos.y+Jt.height)/xe),En=new Set;for(let Ie=is;Ie<=Ni;Ie++)for(let vt=zi;vt<=Hi;vt++)if(!he[Ie])he[Ie]={},he[Ie][vt]=[yt];else if(!he[Ie][vt])he[Ie][vt]=[yt];else{let ot=he[Ie][vt];e:for(let Ht of ot){if(Ht.paused||!Ht.exists()||En.has(Ht.id))continue;for(let Mn of yt.collisionIgnore)if(Ht.is(Mn))continue e;for(let Mn of Ht.collisionIgnore)if(yt.is(Mn))continue e;let ni=ey(yt.worldArea(),Ht.worldArea());if(ni){let Mn=new Te(yt,Ht,ni.normal,ni.distance);yt.trigger("collideUpdate",Ht,Mn);let _n=Mn.reverse();_n.resolved=Mn.resolved,Ht.trigger("collideUpdate",yt,_n)}En.add(Ht.id)}ot.push(yt)}}ze.children.forEach(st),Me=Be.pop()}g(st,"checkObj"),st(S.root)}g(Ae,"checkFrame");function gt(he){console.error(he),U.ctx.suspend();let xe=he.message??String(he)??"Unknown error, check console for more info";h.run(()=>{},()=>{X(),ca(()=>{let Me=qt(),Be=Ct(),st={size:36,width:Me-32*2,letterSpacing:4,lineSpacing:4,font:Zr,fixed:!0};un({width:Me,height:Be,color:Ye(0,0,255),fixed:!0});let ze=Ia({...st,text:"Error",pos:Q(32),color:Ye(255,128,0),fixed:!0});Wa(ze),If({...st,text:xe,pos:Q(32,32+ze.height+16),fixed:!0}),Xt(),S.events.trigger("error",he)}),k()})}g(gt,"handleErr");function Ge(he){A.push(he)}g(Ge,"onCleanup");function Ft(){S.events.onOnce("frameEnd",()=>{h.quit(),v.clear(v.COLOR_BUFFER_BIT|v.DEPTH_BUFFER_BIT|v.STENCIL_BUFFER_BIT);let he=v.getParameter(v.MAX_TEXTURE_IMAGE_UNITS);for(let xe=0;xe<he;xe++)v.activeTexture(v.TEXTURE0+xe),v.bindTexture(v.TEXTURE_2D,null),v.bindTexture(v.TEXTURE_CUBE_MAP,null);v.bindBuffer(v.ARRAY_BUFFER,null),v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,null),v.bindRenderbuffer(v.RENDERBUFFER,null),v.bindFramebuffer(v.FRAMEBUFFER,null),D.destroy(),A.forEach(xe=>xe())})}g(Ft,"quit");let jn=!0;h.run(()=>{try{x.loaded&&(B.paused||le(),Ae())}catch(he){gt(he)}},(he,xe)=>{try{he(),x.loaded||Ja()===1&&!jn&&(x.loaded=!0,Sh().forEach(Me=>S.events.trigger("loadError",...Me)),S.events.trigger("load")),!x.loaded&&i.loadingScreen!==!1||jn?(X(),s1(),k()):(B.paused||ce(),Ae(),X(),l1(),i.debug!==!1&&i1(),k()),jn&&(jn=!1),S.events.trigger("frameEnd"),xe()}catch(Me){gt(Me)}}),Hh(),Wh();let Ut={_k:w,VERSION:vw,loadRoot:_y,loadProgress:Ja,loadSprite:Ol,loadSpriteAtlas:Bh,loadSound:Iy,loadMusic:Wy,loadBitmapFont:Zy,loadFont:Xy,loadShader:Fy,loadShaderURL:Jy,loadAseprite:Vy,loadPedit:Ky,loadBean:Gy,loadJSON:Ly,load:Jr,getSound:Oh,getFont:Rh,getBitmapFont:qh,getSprite:Eh,getShader:Dh,getAsset:Yy,Asset:xn,SpriteData:Pa,SoundData:du,width:qt,height:Ct,center:hu,dt:Et,fixedDt:kr,restDt:Fr,time:h.time,screenshot:h.screenshot,record:ie,isFocused:se,setCursor:h.setCursor,getCursor:h.getCursor,setCursorLocked:h.setCursorLocked,isCursorLocked:h.isCursorLocked,setFullscreen:h.setFullscreen,isFullscreen:h.isFullscreen,isTouchscreen:h.isTouchscreen,onLoad:Ao,onLoadError:O1,onLoading:R1,onResize:q1,onGamepadConnect:h.onGamepadConnect,onGamepadDisconnect:h.onGamepadDisconnect,onError:D1,onCleanup:Ge,flash:kh,setCamPos:Gh,getCamPos:Vh,setCamRot:Zh,getCamRot:Kh,setCamScale:Xh,getCamScale:Qh,getCamTransform:B1,camPos:z1,camScale:N1,camFlash:j1,camRot:H1,camTransform:C1,shake:U1,toScreen:$r,toWorld:Fh,setGravity:_1,getGravity:L1,setGravityDirection:Y1,getGravityDirection:Bl,setBackground:By,getBackground:Cy,getGamepads:h.getGamepads,getTreeRoot:F1,add:ge,make:bo,destroy:ed,destroyAll:me,get:_,query:fe,readd:ve,pos:pu,scale:mu,rotate:Mv,color:jh,opacity:_h,anchor:no,area:hv,sprite:eo,text:$1,polygon:m1,rect:Yh,circle:c1,uvquad:ev,outline:g1,particles:p1,body:dv,platformEffector:Av,surfaceEffector:pv,areaEffector:mv,pointEffector:yv,buoyancyEffector:bv,constantForce:vv,doubleJump:gv,shader:y1,textInput:cv,timer:to,fixed:ld,stay:id,health:sv,lifespan:uv,named:rv,state:ov,z:Tv,layer:xv,move:Sv,offscreen:Ev,follow:wv,fadeIn:h1,mask:d1,drawon:f1,raycast:Lh,tile:td,animate:lv,serializeAnimation:ad,agent:tv,sentry:iv,patrol:av,pathfinder:nv,trigger:tw,on:kt,onFixedUpdate:nw,onUpdate:aw,onDraw:iw,onAdd:A1,onDestroy:lw,onTag:b1,onUntag:rw,onUse:sw,onUnuse:uw,onClick:ow,onCollide:w1,onCollideUpdate:x1,onCollideEnd:S1,onHover:E1,onHoverUpdate:M1,onHoverEnd:T1,onKeyDown:h.onKeyDown,onKeyPress:h.onKeyPress,onKeyPressRepeat:h.onKeyPressRepeat,onKeyRelease:h.onKeyRelease,onMouseDown:h.onMouseDown,onMousePress:h.onMousePress,onMouseRelease:h.onMouseRelease,onMouseMove:h.onMouseMove,onCharInput:h.onCharInput,onTouchStart:h.onTouchStart,onTouchMove:h.onTouchMove,onTouchEnd:h.onTouchEnd,onScroll:h.onScroll,onHide:h.onHide,onShow:h.onShow,onGamepadButtonDown:h.onGamepadButtonDown,onGamepadButtonPress:h.onGamepadButtonPress,onGamepadButtonRelease:h.onGamepadButtonRelease,onGamepadStick:h.onGamepadStick,onButtonPress:h.onButtonPress,onButtonDown:h.onButtonDown,onButtonRelease:h.onButtonRelease,mousePos:xh,mouseDeltaPos:h.mouseDeltaPos,isKeyDown:h.isKeyDown,isKeyPressed:h.isKeyPressed,isKeyPressedRepeat:h.isKeyPressedRepeat,isKeyReleased:h.isKeyReleased,isMouseDown:h.isMouseDown,isMousePressed:h.isMousePressed,isMouseReleased:h.isMouseReleased,isMouseMoved:h.isMouseMoved,isGamepadButtonPressed:h.isGamepadButtonPressed,isGamepadButtonDown:h.isGamepadButtonDown,isGamepadButtonReleased:h.isGamepadButtonReleased,getGamepadStick:h.getGamepadStick,isButtonPressed:h.isButtonPressed,isButtonDown:h.isButtonDown,isButtonReleased:h.isButtonReleased,setButton:h.setButton,getButton:h.getButton,pressButton:h.pressButton,releaseButton:h.releaseButton,getLastInputDeviceType:h.getLastInputDeviceType,charInputted:h.charInputted,loop:ue,wait:$,play:V1,setVolume:Ph,getVolume:Ih,volume:X1,burp:Jh,audioCtx:U.ctx,Line:cn,Rect:tt,Circle:rn,Ellipse:ga,Point:c2,Polygon:Kt,Vec2:J,Color:Ce,Mat4:Fn,Quad:lt,RNG:v0,rand:St,randi:lh,randSeed:A0,vec2:Q,rgb:Ye,hsl2rgb:u2,quad:ht,choose:x0,chooseMultiple:w0,shuffle:sh,chance:b0,lerp:Qt,tween:M,easings:fu,map:zn,mapc:y0,wave:ih,deg2rad:dt,rad2deg:Fa,clamp:Hn,evaluateQuadratic:_0,evaluateQuadraticFirstDerivative:L0,evaluateQuadraticSecondDerivative:Y0,evaluateBezier:co,evaluateBezierFirstDerivative:G0,evaluateBezierSecondDerivative:V0,evaluateCatmullRom:X0,evaluateCatmullRomFirstDerivative:Q0,curveLengthApproximation:ph,normalizedCurve:Z0,hermite:as,cardinal:mh,catmullRom:ou,bezier:K0,kochanekBartels:k0,easingSteps:$0,easingLinear:I0,easingCubicBezier:W0,testLineLine:io,testRectRect:uh,testRectLine:lo,testRectPoint:vu,testCirclePolygon:bu,testLinePoint:so,testLineCircle:ns,isConvex:ly,triangulate:vh,NavMesh:k2,drawSprite:r1,drawText:If,formatText:Ia,drawRect:un,drawLine:ql,drawLines:vo,drawTriangle:zh,drawCircle:Ui,drawEllipse:Ch,drawUVQuad:ts,drawPolygon:ha,drawCurve:Uh,drawBezier:n1,drawFormattedText:Wa,drawMasked:u1,drawSubtracted:o1,pushTransform:ln,popTransform:Xt,pushTranslate:it,pushScale:es,pushRotate:Di,pushMatrix:Uy,usePostEffect:ae,makeCanvas:H,debug:B,scene:J1,getSceneName:W1,go:P1,onSceneLeave:I1,layers:k1,getLayers:Z1,setLayers:$h,getDefaultLayer:K1,addLevel:v1,getData:N,setData:K,download:ho,downloadJSON:dy,downloadText:bh,downloadBlob:Kf,plug:ne,ASCII_CHARS:sy,canvas:h.canvas,addKaboom:Q1,LEFT:J.LEFT,RIGHT:J.RIGHT,UP:J.UP,DOWN:J.DOWN,RED:Ce.RED,GREEN:Ce.GREEN,BLUE:Ce.BLUE,YELLOW:Ce.YELLOW,MAGENTA:Ce.MAGENTA,CYAN:Ce.CYAN,WHITE:Ce.WHITE,BLACK:Ce.BLACK,quit:Ft,KEvent:Vt,KEventHandler:cu,KEventController:Oi,cancel:g(()=>ry,"cancel")};w.k=Ut;let ma=i.plugins;if(ma&&ma.forEach(ne),i.global!==!1)for(let he in Ut)window[he]=Ut[he];return i.focus!==!1&&h.canvas.focus(),Ut},"kaplay"),bw=Aw;function ww(){return bw({global:!1,pixelDensity:2,touchToMouse:!0,debug:!1,debugKey:"f1",canvas:document.getElementById("game")})}const Bt={color1:"#272946",color2:"#aaea6c",color3:"#e7ffee"},xw=1/Math.sqrt(2),f0=2,h0=.2,Bn={};let Sw=0;function ti(i,n){const s=`atom${++Sw}`,u={toString(){return(Bn?"production":void 0)!=="production"&&this.debugLabel?s+":"+this.debugLabel:s}};return typeof i=="function"?u.read=i:(u.init=i,u.read=Ew,u.write=Mw),u}function Ew(i){return i(this)}function Mw(i,n,s){return n(this,typeof s=="function"?s(i(this)):s)}const d0=(i,n)=>i.unstable_is?i.unstable_is(n):n===i,_f=i=>"init"in i,Lf=i=>!!i.write,ao=new WeakMap,th=i=>{var n;return nh(i)&&!((n=ao.get(i))!=null&&n[1])},Tw=(i,n)=>{const s=ao.get(i);if(s)s[1]=!0,s[0].forEach(u=>u(n));else if((Bn?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},Rw=i=>{if(ao.has(i))return;const n=[new Set,!1];ao.set(i,n);const s=()=>{n[1]=!0};i.then(s,s),i.onCancel=u=>{n[0].add(u)}},nh=i=>typeof(i==null?void 0:i.then)=="function",g0=i=>"v"in i||"e"in i,jr=i=>{if("e"in i)throw i.e;if((Bn?"production":void 0)!=="production"&&!("v"in i))throw new Error("[Bug] atom state is not initialized");return i.v},Rv=(i,n,s)=>{s.p.has(i)||(s.p.add(i),n.then(()=>{s.p.delete(i)},()=>{s.p.delete(i)}))},p0=(i,n,s,u,o)=>{var c;if((Bn?"production":void 0)!=="production"&&u===n)throw new Error("[Bug] atom cannot depend on itself");s.d.set(u,o.n),th(s.v)&&Rv(n,s.v,o),(c=o.m)==null||c.t.add(n),i&&qw(i,u,n)},El=()=>[new Map,new Map,new Set],Yf=(i,n,s)=>{i[0].has(n)||i[0].set(n,new Set),i[1].set(n,s)},qw=(i,n,s)=>{const u=i[0].get(n);u&&u.add(s)},Dw=(i,n)=>i[0].get(n),m0=(i,n)=>{i[2].add(n)},Si=i=>{for(;i[1].size||i[2].size;){i[0].clear();const n=new Set(i[1].values());i[1].clear();const s=new Set(i[2]);i[2].clear(),n.forEach(u=>{var o;return(o=u.m)==null?void 0:o.l.forEach(c=>c())}),s.forEach(u=>u())}},qv=i=>{let n;(Bn?"production":void 0)!=="production"&&(n=new Set);const s=(U,x,S)=>{const H="v"in x,X=x.v,ae=th(x.v)?x.v:null;if(nh(S)){Rw(S);for(const k of x.d.keys())Rv(U,S,i(k,x));x.v=S,delete x.e}else x.v=S,delete x.e;(!H||!Object.is(X,x.v))&&(++x.n,ae&&Tw(ae,S))},u=(U,x,S,H)=>{var X;if(!(H!=null&&H(x))&&g0(S)&&(S.m||Array.from(S.d).every(([K,ne])=>u(U,K,i(K,S),H).n===ne)))return S;S.d.clear();let ae=!0;const k=K=>{if(d0(x,K)){const ie=i(K,S);if(!g0(ie))if(_f(K))s(K,ie,K.init);else throw new Error("no atom init");return jr(ie)}const ne=u(U,K,i(K,S),H);if(ae)p0(U,x,S,K,ne);else{const ie=El();p0(ie,x,S,K,ne),h(ie,x,S),Si(ie)}return jr(ne)};let q,B;const N={get signal(){return q||(q=new AbortController),q.signal},get setSelf(){return(Bn?"production":void 0)!=="production"&&!Lf(x)&&console.warn("setSelf function cannot be used with read-only atom"),!B&&Lf(x)&&(B=(...K)=>{if((Bn?"production":void 0)!=="production"&&ae&&console.warn("setSelf function cannot be called in sync"),!ae)return p(x,...K)}),B}};try{const K=x.read(k,N);if(s(x,S,K),nh(K)){(X=K.onCancel)==null||X.call(K,()=>q==null?void 0:q.abort());const ne=()=>{if(S.m){const ie=El();h(ie,x,S),Si(ie)}};K.then(ne,ne)}return S}catch(K){return delete S.v,S.e=K,++S.n,S}finally{ae=!1}},o=U=>jr(u(void 0,U,i(U))),c=(U,x,S)=>{var H,X;const ae=new Map;for(const k of((H=S.m)==null?void 0:H.t)||[])ae.set(k,i(k,S));for(const k of S.p)ae.set(k,i(k,S));return(X=Dw(U,x))==null||X.forEach(k=>{ae.set(k,i(k,S))}),ae},d=(U,x,S)=>{const H=[],X=new Set,ae=(B,N)=>{if(!X.has(B)){X.add(B);for(const[K,ne]of c(U,B,N))B!==K&&ae(K,ne);H.push([B,N,N.n])}};ae(x,S);const k=new Set([x]),q=B=>X.has(B);for(let B=H.length-1;B>=0;--B){const[N,K,ne]=H[B];let ie=!1;for(const se of K.d.keys())if(se!==N&&k.has(se)){ie=!0;break}ie&&(u(U,N,K,q),h(U,N,K),ne!==K.n&&(Yf(U,N,K),k.add(N))),X.delete(N)}},y=(U,x,S,...H)=>{const X=q=>jr(u(U,q,i(q,S))),ae=(q,...B)=>{const N=i(q,S);let K;if(d0(x,q)){if(!_f(q))throw new Error("atom not writable");const ne="v"in N,ie=N.v,se=B[0];s(q,N,se),h(U,q,N),(!ne||!Object.is(ie,N.v))&&(Yf(U,q,N),d(U,q,N))}else K=y(U,q,N,...B);return Si(U),K};return x.write(X,ae,...H)},p=(U,...x)=>{const S=El(),H=y(S,U,i(U),...x);return Si(S),H},h=(U,x,S)=>{if(S.m&&!th(S.v)){for(const H of S.d.keys())S.m.d.has(H)||(A(U,H,i(H,S)).t.add(x),S.m.d.add(H));for(const H of S.m.d||[])if(!S.d.has(H)){S.m.d.delete(H);const X=T(U,H,i(H,S));X==null||X.t.delete(x)}}},A=(U,x,S)=>{if(!S.m){u(U,x,S);for(const H of S.d.keys())A(U,H,i(H,S)).t.add(x);if(S.m={l:new Set,d:new Set(S.d.keys()),t:new Set},(Bn?"production":void 0)!=="production"&&n.add(x),Lf(x)&&x.onMount){const H=S.m,{onMount:X}=x;m0(U,()=>{const ae=X((...k)=>y(U,x,S,...k));ae&&(H.u=ae)})}}return S.m},T=(U,x,S)=>{if(S.m&&!S.m.l.size&&!Array.from(S.m.t).some(H=>{var X;return(X=i(H,S).m)==null?void 0:X.d.has(x)})){const H=S.m.u;H&&m0(U,H),delete S.m,(Bn?"production":void 0)!=="production"&&n.delete(x);for(const X of S.d.keys()){const ae=T(U,X,i(X,S));ae==null||ae.t.delete(x)}return}return S.m},E={get:o,set:p,sub:(U,x)=>{const S=El(),H=i(U),X=A(S,U,H);Si(S);const ae=X.l;return ae.add(x),()=>{ae.delete(x);const k=El();T(k,U,H),Si(k)}},unstable_derive:U=>qv(...U(i))};return(Bn?"production":void 0)!=="production"&&Object.assign(E,{dev4_get_internal_weak_map:()=>({get:x=>{const S=i(x);if(S.n!==0)return S}}),dev4_get_mounted_atoms:()=>n,dev4_restore_atoms:x=>{const S=El();for(const[H,X]of x)if(_f(H)){const ae=i(H),k="v"in ae,q=ae.v;s(H,ae,X),h(S,H,ae),(!k||!Object.is(q,ae.v))&&(Yf(S,H,ae),d(S,H,ae))}Si(S)}}),E},sd=()=>{const i=new WeakMap;return qv(s=>{let u=i.get(s);return u||(u={d:new Map,p:new Set,n:0},i.set(s,u)),u})};let au;const Ow=()=>(au||(au=sd(),(Bn?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=au),globalThis.__JOTAI_DEFAULT_STORE__!==au&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),au),Dv={},Ov=Nn.createContext(void 0),Bv=i=>Nn.useContext(Ov)||Ow(),Bw=({children:i,store:n})=>{const s=Nn.useRef();return!n&&!s.current&&(s.current=sd()),Nn.createElement(Ov.Provider,{value:n||s.current},i)},Cv=i=>typeof(i==null?void 0:i.then)=="function",Cw=i=>{i.status="pending",i.then(n=>{i.status="fulfilled",i.value=n},n=>{i.status="rejected",i.reason=n})},Uw=Ib.use||(i=>{if(i.status==="pending")throw i;if(i.status==="fulfilled")return i.value;throw i.status==="rejected"?i.reason:(Cw(i),i)}),Gf=new WeakMap,zw=i=>{let n=Gf.get(i);return n||(n=new Promise((s,u)=>{let o=i;const c=p=>h=>{o===p&&s(h)},d=p=>h=>{o===p&&u(h)},y=p=>{"onCancel"in p&&typeof p.onCancel=="function"&&p.onCancel(h=>{if((Dv?"production":void 0)!=="production"&&h===p)throw new Error("[Bug] p is not updated even after cancelation");Cv(h)?(Gf.set(h,n),o=h,h.then(c(h),d(h)),y(h)):s(h)})};i.then(c(i),d(i)),y(i)}),Gf.set(i,n)),n};function yu(i,n){const s=Bv(),[[u,o,c],d]=Nn.useReducer(h=>{const A=s.get(i);return Object.is(h[0],A)&&h[1]===s&&h[2]===i?h:[A,s,i]},void 0,()=>[s.get(i),s,i]);let y=u;if((o!==s||c!==i)&&(d(),y=s.get(i)),Nn.useEffect(()=>{const h=s.sub(i,()=>{d()});return d(),h},[s,i,void 0]),Nn.useDebugValue(y),Cv(y)){const h=zw(y);return Uw(h)}return y}function Nw(i,n){const s=Bv();return Nn.useCallback((...o)=>{if((Dv?"production":void 0)!=="production"&&!("write"in i))throw new Error("not writable atom");return s.set(i,...o)},[s,i])}function wo(i,n){return[yu(i),Nw(i)]}const ud=ti(!1),Uv=ti(null),zv=ti(""),rd=ti(!1),Nv=ti(""),od=ti(!1),Hv=ti({title:"",links:[{id:0,name:"",link:""}]}),Xr=ti({value:1}),Zt=sd();function Hw(i,n,s){const u=i.add([i.sprite("player",{anim:"walk-down"}),i.scale(8),i.anchor("center"),i.area({shape:new i.Rect(i.vec2(0),5,10)}),i.body(),i.pos(n),"player",{direction:i.vec2(0,0),directionName:"walk-down"}]);let o=!1;const c=document.getElementById("game");return c.addEventListener("focusout",()=>{o=!1}),c.addEventListener("mousedown",()=>{o=!0}),c.addEventListener("mouseup",()=>{o=!1}),c.addEventListener("touchstart",()=>{o=!0}),c.addEventListener("touchend",()=>{o=!1}),u.onUpdate(()=>{if(i.camPos().eq(u.pos)||i.tween(i.camPos(),u.pos,.2,y=>i.camPos(y),i.easings.linear),Zt.get(ud)||Zt.get(rd)||Zt.get(od))return;u.direction=i.vec2(0,0);const d=i.toWorld(i.mousePos());if(o&&(u.direction=d.sub(u.pos).unit()),u.direction.eq(i.vec2(0,0))&&!u.getCurAnim().name.includes("idle")){u.play(`${u.directionName}-idle`);return}if(u.direction.x>0&&u.direction.y>-.5&&u.direction.y<.5&&(u.directionName="walk-right"),u.direction.x<0&&u.direction.y>-.5&&u.direction.y<.5&&(u.directionName="walk-left"),u.direction.x<0&&u.direction.y<-.8&&(u.directionName="walk-up"),u.direction.x<0&&u.direction.y>.8&&(u.directionName="walk-down"),u.direction.x<0&&u.direction.y>-.8&&u.direction.y<-.5&&(u.directionName="walk-left-up"),u.direction.x<0&&u.direction.y>.5&&u.direction.y<.8&&(u.directionName="walk-left-down"),u.direction.x>0&&u.direction.y<-.5&&u.direction.y>-.8&&(u.directionName="walk-right-up"),u.direction.x>0&&u.direction.y>.5&&u.direction.y<.8&&(u.directionName="walk-right-down"),u.getCurAnim().name!==u.directionName&&u.play(u.directionName),u.direction.x&&u.direction.y){u.move(u.direction.scale(xw*s));return}u.move(u.direction.scale(s))}),u}function _r(i,n,s,u=null){const o=i.add([i.rect(200,200,{radius:10}),i.anchor("center"),i.area(),i.pos(n),i.color(Bt.color1),s]);if(o.add([i.text(s,{font:"ibm-bold",size:64}),i.color(Bt.color1),i.anchor("center"),i.pos(0,-150)]),u){const c=o.onCollide("player",()=>{u(o),c.cancel()})}return o}async function iu(i,n){await i.tween(n.opacity,1,.5,s=>{n.opacity=s;for(const u of n.children)u.opacity=n.opacity},i.easings.linear),n.opacityTrickleDown&&n.opacityTrickleDown.cancel()}function Eu(i,n){i.opacityTrickleDown=i.onUpdate(()=>{for(const s of n)s.opacity=i.opacity})}function cd(i,n,s,u,o){const c=n.add([i.sprite(u.name,{width:u.width,height:u.height}),i.anchor("center"),i.pos(s),i.opacity(0),i.offscreen({hide:!0,distance:300})]),d=c.add([i.text(o,{font:"ibm-bold",size:32}),i.color(i.Color.fromHex(Bt.color1)),i.anchor("center"),i.pos(0,100),i.opacity(0)]);return[c,d]}function jw(i,n,s,u,o,c,d){const[y,p]=cd(i,n,s,u,o),h=y.add([i.circle(30),i.color(i.Color.fromHex(Bt.color1)),i.anchor("center"),i.area(),i.pos(0,150),i.opacity(0)]);return h.onCollide("player",()=>{Zt.set(ud,!0),Zt.set(Uv,c),Zt.set(zv,d)}),Eu(n,[p,h]),y}function _w(i,n,s,u,o){const[c,d]=cd(i,n,s,u,o);return c.use(i.area({shape:new i.Rect(i.vec2(0),c.width+50,c.height+65)})),c.use(i.body({drag:1})),c.use({direction:i.vec2(0,0)}),c.onCollide("player",y=>{c.applyImpulse(y.direction.scale(1e3)),c.direction=y.direction}),Eu(n,[d]),c}function Lw(i,n,s,u,o){const c=n.add([i.rect(800,u,{radius:8}),i.area(),i.outline(4,i.Color.fromHex(Bt.color1)),i.pos(s),i.color(i.Color.fromHex(Bt.color2)),i.opacity(0),i.offscreen({hide:!0,distance:300})]),d=c.add([i.text(o.title,{font:"ibm-bold",size:32}),i.color(i.Color.fromHex(Bt.color1)),i.pos(20,20),i.opacity(0)]),y=c.add([i.text("hello world!"),i.text(`${o.company.name} -- ${o.company.startDate}-${o.company.endDate}`,{font:"ibm-regular",size:20}),i.color(i.Color.fromHex(Bt.color1)),i.pos(20,60),i.opacity(0)]),p=c.add([i.text(o.description,{font:"ibm-regular",size:25,width:750}),i.color(i.Color.fromHex(Bt.color1)),i.pos(20,110),i.opacity(0)]);return Eu(n,[d,y,p]),c}function Yw(i,n,s,u,o,c){const[d,y]=cd(i,n,s,u,o),p=d.add([i.circle(30),i.color(i.Color.fromHex(Bt.color1)),i.anchor("center"),i.area(),i.pos(0,150),i.opacity(0)]);return p.onCollide("player",()=>{Zt.set(rd,!0),Zt.set(Nv,c)}),Eu(n,[y,p]),d}function Gw(i,n,s,u,o){const c=n.add([i.anchor("center"),i.pos(s),i.opacity(0),i.offscreen({hide:!0,distance:300})]),d=c.add([i.rect(640,360,{radius:10}),i.anchor("center"),i.mask("intersect"),i.opacity(0)]),y=d.add([i.sprite(o,{width:640,height:360}),i.anchor("center"),i.opacity(0)]),p=c.add([i.text(u.title,{font:"ibm-bold",size:32,width:600,lineSpacing:12}),i.color(i.Color.fromHex(Bt.color1)),i.pos(-310,200),i.opacity(0)]),h=c.add([i.circle(30),i.area(),i.color(i.Color.fromHex(Bt.color1)),i.pos(400,0),i.opacity(0)]);return h.onCollide("player",()=>{Zt.set(od,!0),Zt.set(Hv,u)}),Eu(n,[d,y,p,h]),c}async function Vw(){const i=await(await fetch("./configs/generalData.json")).json(),n=await(await fetch("./configs/skillsData.json")).json(),s=await(await fetch("./configs/socialsData.json")).json(),u=await(await fetch("./configs/experiencesData.json")).json(),o=await(await fetch("./configs/projectsData.json")).json(),c=ww();c.loadSprite("player","./sprites/player.png",{sliceX:4,sliceY:8,anims:{"walk-down-idle":0,"walk-down":{from:0,to:3,loop:!0},"walk-left-down":{from:4,to:7,loop:!0},"walk-left-down-idle":4,"walk-left":{from:8,to:11,loop:!0},"walk-left-idle":8,"walk-left-up":{from:12,to:15,loop:!0},"walk-left-up-idle":12,"walk-up":{from:16,to:19,loop:!0},"walk-up-idle":16,"walk-right-up":{from:20,to:23,loop:!0},"walk-right-up-idle":20,"walk-right":{from:24,to:27,loop:!0},"walk-right-idle":24,"walk-right-down":{from:28,to:31,loop:!0},"walk-right-down-idle":28}}),c.loadFont("ibm-regular","./fonts/IBMPlexSans-Regular.ttf"),c.loadFont("ibm-bold","./fonts/IBMPlexSans-Bold.ttf"),c.loadSprite("github-logo","./logos/github-logo.png"),c.loadSprite("linkedin-logo","./logos/linkedin-logo.png"),c.loadSprite("youtube-logo","./logos/youtube-logo.png"),c.loadSprite("x-logo","./logos/x-logo.png"),c.loadSprite("substack-logo","./logos/substack-logo.png"),c.loadSprite("javascript-logo","./logos/js-logo.png"),c.loadSprite("typescript-logo","./logos/ts-logo.png"),c.loadSprite("react-logo","./logos/react-logo.png"),c.loadSprite("nextjs-logo","./logos/nextjs-logo.png"),c.loadSprite("postgres-logo","./logos/postgres-logo.png"),c.loadSprite("html-logo","./logos/html-logo.png"),c.loadSprite("css-logo","./logos/css-logo.png"),c.loadSprite("tailwind-logo","./logos/tailwind-logo.png"),c.loadSprite("python-logo","./logos/python-logo.png"),c.loadSprite("email-logo","./logos/email-logo.png"),c.loadSprite("sonic-js","./projects/sonic-js.png"),c.loadSprite("kirby-ts","./projects/kirby-ts.png"),c.loadSprite("platformer-js","./projects/platformer-js.png"),c.loadShaderURL("tiledPattern",null,"./shaders/tiledPattern.frag"),(()=>{if(c.width()<1e3){c.camScale(c.vec2(.5)),Zt.set(Xr,.5);return}c.camScale(c.vec2(.8)),Zt.set(Xr,.8)})(),c.onUpdate(()=>{const p=Zt.get(Xr);p!==c.camScale().x&&c.camScale(c.vec2(p))});const y=c.add([c.uvquad(c.width(),c.height()),c.shader("tiledPattern",()=>({u_time:c.time()/20,u_color1:c.Color.fromHex(Bt.color3),u_color2:c.Color.fromHex(Bt.color2),u_speed:c.vec2(1,-1),u_aspect:c.width()/c.height(),u_size:5})),c.pos(0,0),c.fixed()]);y.onUpdate(()=>{y.width=c.width(),y.height=c.height(),y.uniform.u_aspect=c.width()/c.height()}),_r(c,c.vec2(c.center().x,c.center().y-400),i.section1Name,p=>{const h=p.add([c.pos(-805,-700),c.opacity(0)]);h.add([c.text(i.header.title,{font:"ibm-bold",size:88}),c.color(c.Color.fromHex(Bt.color1)),c.pos(395,0),c.opacity(0)]),h.add([c.text(i.header.subtitle,{font:"ibm-bold",size:48}),c.color(c.Color.fromHex(Bt.color1)),c.pos(485,100),c.opacity(0)]);const A=h.add([c.pos(130,0),c.opacity(0)]);for(const T of s){if(T.name==="Email"){Yw(c,A,c.vec2(T.pos.x,T.pos.y),T.logoData,T.name,T.address);continue}jw(c,A,c.vec2(T.pos.x,T.pos.y),T.logoData,T.name,T.link,T.description)}iu(c,h),iu(c,A)}),_r(c,c.vec2(c.center().x-400,c.center().y),i.section2Name,p=>{const h=c.add([c.opacity(0),c.pos(p.pos.x-300,p.pos.y)]);for(const A of n)_w(c,h,c.vec2(A.pos.x,A.pos.y),A.logoData,A.name);iu(c,h)}),_r(c,c.vec2(c.center().x+400,c.center().y),i.section3Name,p=>{const h=p.add([c.opacity(0),c.pos(0)]);for(const A of u)Lw(c,h,c.vec2(A.pos.x,A.pos.y),A.cardHeight,A.roleData);iu(c,h)}),_r(c,c.vec2(c.center().x,c.center().y+400),i.section4Name,p=>{const h=p.add([c.opacity(0),c.pos(0,0)]);for(const A of o)Gw(c,h,c.vec2(A.pos.x,A.pos.y),A.data,A.thumbnail);iu(c,h)}),Hw(c,c.vec2(c.center()),700)}function Xw(){const[i,n]=wo(Xr);return Ne.jsxs("div",{className:"camera-controller",children:[Ne.jsx("button",{className:"camera-controller-btn",onClick:()=>{const s=i+.2;s<=f0&&s>=h0&&n(s)},children:"+"}),Ne.jsx("button",{className:"camera-controller-btn",onClick:()=>{const s=i-.2;s<=f0&&s>=h0&&n(s)},children:"-"})]})}function Qw(){const[i,n]=wo(rd),s=yu(Nv),[u,o]=Nn.useState(""),c=[{id:0,name:"Yes",handler:()=>{navigator.clipboard.writeText(s),o("Email copied to clipboard!")}},{id:1,name:"No",handler:()=>{n(!1)}}];return i&&Ne.jsx("div",{className:"modal",children:Ne.jsxs("div",{className:"modal-content",children:[Ne.jsx("h1",{children:"Copy my email to your clipboard?"}),Ne.jsx("span",{children:s}),Ne.jsx("p",{children:u}),Ne.jsx("div",{className:"modal-btn-container",children:c.map(d=>Ne.jsx("button",{className:"modal-btn",onClick:d.handler,children:d.name},d.id))})]})})}function Zw(){const i=yu(Hv),[n,s]=wo(od);return n&&Ne.jsx("div",{className:"modal",children:Ne.jsxs("div",{className:"modal-content",children:[Ne.jsx("h1",{children:i.title}),Ne.jsxs("div",{className:"modal-btn-container",children:[i.links.map(u=>Ne.jsx("button",{className:"modal-btn",onClick:()=>{window.open(u.link,"_blank")},children:u.name},u.id)),Ne.jsx("button",{className:"modal-btn",onClick:()=>{s(!1)},children:"Close"})]})]})})}function Kw(){const[i,n]=wo(ud),s=yu(Uv),u=yu(zv),o=[{id:0,name:"Yes",handler:()=>{window.open(s,"_blank"),n(!1)}},{id:1,name:"No",handler:()=>{n(!1)}}];return i&&Ne.jsx("div",{className:"modal",children:Ne.jsxs("div",{className:"modal-content",children:[Ne.jsx("h1",{children:"Do you want to open this link?"}),Ne.jsx("span",{children:s}),Ne.jsx("p",{children:u}),Ne.jsx("div",{className:"modal-btn-container",children:o.map(c=>Ne.jsx("button",{className:"modal-btn",onClick:c.handler,children:c.name},c.id))})]})})}function kw(){return Ne.jsxs(Ne.Fragment,{children:[Ne.jsx("p",{className:"controls-message",children:"Tap/Click around to move"}),Ne.jsx(Xw,{}),Ne.jsx(Kw,{}),Ne.jsx(Qw,{}),Ne.jsx(Zw,{})]})}const Fw=document.getElementById("ui"),Jw=i2.createRoot(Fw);Jw.render(Ne.jsx(Nn.StrictMode,{children:Ne.jsx(Bw,{store:Zt,children:Ne.jsx(kw,{})})}));Vw();
